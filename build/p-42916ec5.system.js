var __extends=this&&this.__extends||function(){var t=function(e,r){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]};return t(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var __awaiter=this&&this.__awaiter||function(t,e,r,n){function o(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,a){function i(t){try{u(n.next(t))}catch(t){a(t)}}function s(t){try{u(n["throw"](t))}catch(t){a(t)}}function u(t){t.done?r(t.value):o(t.value).then(i,s)}u((n=n.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,o,a,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return u([t,e])}}function u(s){if(n)throw new TypeError("Generator is already executing.");while(i&&(i=0,s[0]&&(r=0)),r)try{if(n=1,o&&(a=s[0]&2?o["return"]:s[0]?o["throw"]||((a=o["return"])&&a.call(o),0):o.next)&&!(a=a.call(o,s[1])).done)return a;if(o=0,a)s=[s[0]&2,a.value];switch(s[0]){case 0:case 1:a=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;o=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(a=r.trys,a=a.length>0&&a[a.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){r.label=s[1];break}if(s[0]===6&&r.label<a[1]){r.label=a[1];a=s;break}if(a&&r.label<a[2]){r.label=a[2];r.ops.push(s);break}if(a[2])r.ops.pop();r.trys.pop();continue}s=e.call(t,r)}catch(t){s=[6,t];o=0}finally{n=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};
/*!
 * Â© Peculiar Ventures https://peculiarventures.com/ - MIT License
 */System.register(["./p-baa43b20.system.js","./p-14f281b0.system.js"],(function(t){"use strict";var e,r,n,o,a,i,s,u,c,p,f,l,h,m,v,b,y,d,g,x,w,E,A,_,T,C,N,P,R,j,I,k,B,F,H,O,S,D,U,z,M,q,K,L;return{setters:[function(t){e=t.A;r=t.t;n=t.u;o=t.v;a=t.w;i=t.E;s=t.g;u=t.x;c=t.U;p=t.y;f=t.z;l=t.B;h=t.V;m=t.D;v=t.I;b=t.F;y=t.W;d=t.G;g=t.H;x=t.J;w=t.T;E=t.K;A=t.L;_=t.M;T=t.O;C=t.P;N=t.Q;P=t.S;R=t.X;j=t.e;I=t.Y;k=t.f;B=t.s;F=t.q;H=t.r;O=t.Z;S=t.N;D=t.h;U=t.j;z=t.k;M=t.R;q=t._},function(t){K=t.C;L=t.D}],execute:function(){
/**
       * @license
       * Copyright (c) Peculiar Ventures, LLC.
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE file in the root directory of this source tree.
       */
var V=function(t){__extends(e,t);function e(e){var j=t.call(this,e,r)||this;var I=j.getAsnExtnValue();switch(j.asn.type){case P:j.value=o.parse(I,R);break;case C:j.value=o.parse(I,N);break;case _:j.value=o.parse(I,T);break;case E:j.value=o.parse(I,A);break;case x:j.value=o.parse(I,w);break;case d:j.value=o.parse(I,g);break;case b:j.value=o.parse(I,y);break;case m:j.value=o.parse(I,v);break;case l:j.value=o.parse(I,h);break;case p:j.value=o.parse(I,f);break;case u:j.value=o.parse(I,c);break;case n:{var k=o.parse(I,a);j.value=k.map((function(t){return new i(s.serialize(t))}));break}default:j.value=K.ToHex(I)}return j}e.prototype.getAsnExtnValue=function(){return this.asn.values[0]};return e}(e);
/**
       * @license
       * Copyright (c) Peculiar Ventures, LLC.
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE file in the root directory of this source tree.
       */var X=function(t){__extends(e,t);function e(e){var r=this;var n;r=t.call(this,j(e),I)||this;r.thumbprints={};r.type="X.509 Attribute Certificate";var o=r.asn.acinfo;r.serialNumber=K.ToHex(o.serialNumber);r.version=o.version;var a=o.attrCertValidityPeriod.notBeforeTime;if(!a){throw new Error("Cannot get 'notBefore' value")}r.notBefore=a;var i=o.attrCertValidityPeriod.notAfterTime;if(!i){throw new Error("Cannot get 'notAfter' value")}r.notAfter=i;r.validity=k(r.notBefore,r.notAfter);r.issuer=o.issuer.v1Form||((n=o.issuer.v2Form)===null||n===void 0?void 0:n.issuerName);r.holder=o.holder;return r}Object.defineProperty(e.prototype,"signature",{get:function(){var t=this.asn,e=t.signatureValue,r=t.signatureAlgorithm;return{value:e,algorithm:r.algorithm}},enumerable:false,configurable:true});e.prototype.parseExtensions=function(){var t=this.asn.acinfo;if(t.extensions){this.extensions=t.extensions.map((function(t){return new i(s.serialize(t))}))}};e.prototype.parseAttributes=function(){var t=this.asn.acinfo;if(t.attributes){this.attributes=t.attributes.map((function(t){return new V(s.serialize(t))}))}};e.prototype.getThumbprint=function(t){if(t===void 0){t="SHA-1"}return __awaiter(this,void 0,void 0,(function(){var e,r;return __generator(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,B(t,this.raw)];case 1:e=n.sent();if(e){this.thumbprints[t]=K.ToHex(e)}return[3,3];case 2:r=n.sent();console.error("Error thumbprint get:",r);return[3,3];case 3:return[2]}}))}))};e.prototype.exportAsBase64=function(){return K.ToBase64(this.raw)};e.prototype.exportAsHexFormatted=function(){return F(K.ToHex(this.raw))};e.prototype.exportAsPemFormatted=function(){return"-----BEGIN ATTRIBUTE CERTIFICATE-----\n".concat(H(this.exportAsBase64()),"\n-----END ATTRIBUTE CERTIFICATE-----")};Object.defineProperty(e.prototype,"commonName",{get:function(){return"attribute-certificate-".concat(this.thumbprints["SHA-1"])},enumerable:false,configurable:true});e.prototype.downloadAsPEM=function(t){L.attrCert.asPEM(this.exportAsPemFormatted(),t||this.commonName)};e.prototype.downloadAsDER=function(t){L.attrCert.asDER(this.exportAsHexFormatted(),t||this.commonName)};return e}(e);t("X",X);
/**
       * @license
       * Copyright (c) Peculiar Ventures, LLC.
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE file in the root directory of this source tree.
       */var G=function(t){__extends(e,t);function e(e){var r=t.call(this,j(e),O)||this;r.thumbprints={};r.type="PKCS#10 Certificate Request";var n=r.asn.certificationRequestInfo;r.subject=new S(n.subject).toJSON();r.version=n.version;return r}Object.defineProperty(e.prototype,"publicKey",{get:function(){var t=this.asn.certificationRequestInfo.subjectPKInfo,e=t.subjectPublicKey,r=t.algorithm;var n;if(r.algorithm===D&&r.parameters){n=s.parse(r.parameters,U)}if(r.algorithm===z){n=s.parse(e,M)}var o=s.serialize(this.asn.certificationRequestInfo.subjectPKInfo);return{params:n,value:o,algorithm:r.algorithm}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"signature",{get:function(){var t=this.asn,e=t.signature,r=t.signatureAlgorithm;return{value:e,algorithm:r.algorithm}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"commonName",{get:function(){if(!this.subject){return""}for(var t=0;t<this.subject.length;t+=1){var e=this.subject[t];if(e.shortName==="CN"||e.shortName==="E"||e.shortName==="O"){return e.value}}return""},enumerable:false,configurable:true});e.prototype.getThumbprint=function(t){if(t===void 0){t="SHA-1"}return __awaiter(this,void 0,void 0,(function(){var e,r;return __generator(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,B(t,this.raw)];case 1:e=n.sent();if(e){this.thumbprints[t]=K.ToHex(e)}return[3,3];case 2:r=n.sent();console.error("Error thumbprint get:",r);return[3,3];case 3:return[2]}}))}))};e.prototype.parseAttributes=function(){var t=this.asn.certificationRequestInfo;if(t.attributes){this.attributes=t.attributes.map((function(t){return new V(s.serialize(t))}))}};e.prototype.exportAsBase64=function(){return K.ToBase64(this.raw)};e.prototype.exportAsHexFormatted=function(){return F(K.ToHex(this.raw))};e.prototype.exportAsPemFormatted=function(){return"-----BEGIN CERTIFICATE REQUEST-----\n".concat(H(this.exportAsBase64()),"\n-----END CERTIFICATE REQUEST-----")};e.prototype.downloadAsPEM=function(t){L.csr.asPEM(this.exportAsPemFormatted(),t||this.commonName)};e.prototype.downloadAsDER=function(t){L.csr.asDER(this.exportAsHexFormatted(),t||this.commonName)};return e}(e);t("C",G);
/**
       * @license
       * Copyright (c) Peculiar Ventures, LLC.
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE file in the root directory of this source tree.
       */var J=function(t){__extends(e,t);function e(e){var r=t.call(this,j(e),q)||this;r.thumbprints={};r.type="X.509 Certificate Revocation List";var n=r.asn.tbsCertList;r.issuer=new S(n.issuer).toJSON();r.version=n.version+1;r.lastUpdate=n.thisUpdate.getTime();r.nextUpdate=n.nextUpdate.getTime();r.revokedCertificates=(n.revokedCertificates||[]).map((function(t){var e;return{revocationDate:t.revocationDate,userCertificate:t.userCertificate,crlEntryExtensions:(e=t.crlEntryExtensions)===null||e===void 0?void 0:e.map((function(t){return new i(s.serialize(t))}))}}));return r}e.prototype.getThumbprint=function(t){if(t===void 0){t="SHA-1"}return __awaiter(this,void 0,void 0,(function(){var e,r;return __generator(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,B(t,this.raw)];case 1:e=n.sent();if(e){this.thumbprints[t]=K.ToHex(e)}return[3,3];case 2:r=n.sent();console.error("Error thumbprint get:",r);return[3,3];case 3:return[2]}}))}))};Object.defineProperty(e.prototype,"signature",{get:function(){var t=this.asn,e=t.signature,r=t.signatureAlgorithm;return{value:e,algorithm:r.algorithm}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"commonName",{get:function(){if(!this.issuer){return""}for(var t=0;t<this.issuer.length;t+=1){var e=this.issuer[t];if(e.shortName==="CN"||e.shortName==="E"||e.shortName==="O"){return e.value}}return""},enumerable:false,configurable:true});e.prototype.parseExtensions=function(){var t=this.asn.tbsCertList;if(t.crlExtensions){this.extensions=t.crlExtensions.map((function(t){return new i(s.serialize(t))}))}};e.prototype.exportAsBase64=function(){return K.ToBase64(this.raw)};e.prototype.exportAsHexFormatted=function(){return F(K.ToHex(this.raw))};e.prototype.exportAsPemFormatted=function(){return"-----BEGIN X509 CRL-----\n".concat(H(this.exportAsBase64()),"\n-----END X509 CRL-----")};e.prototype.downloadAsPEM=function(t){L.crl.asPEM(this.exportAsPemFormatted(),t||this.commonName)};e.prototype.downloadAsDER=function(t){L.crl.asDER(this.exportAsHexFormatted(),t||this.commonName)};return e}(e);t("a",J)}}}));
//# sourceMappingURL=p-42916ec5.system.js.map