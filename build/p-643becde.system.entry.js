var __awaiter=this&&this.__awaiter||function(e,r,t,i){function a(e){return e instanceof t?e:new t((function(r){r(e)}))}return new(t||(t=Promise))((function(t,c){function s(e){try{l(i.next(e))}catch(r){c(r)}}function o(e){try{l(i["throw"](e))}catch(r){c(r)}}function l(e){e.done?t(e.value):a(e.value).then(s,o)}l((i=i.apply(e,r||[])).next())}))};var __generator=this&&this.__generator||function(e,r){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,a,c,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(e){return function(r){return l([e,r])}}function l(s){if(i)throw new TypeError("Generator is already executing.");while(t)try{if(i=1,a&&(c=s[0]&2?a["return"]:s[0]?a["throw"]||((c=a["return"])&&c.call(a),0):a.next)&&!(c=c.call(a,s[1])).done)return c;if(a=0,c)s=[s[0]&2,c.value];switch(s[0]){case 0:case 1:c=s;break;case 4:t.label++;return{value:s[1],done:false};case 5:t.label++;a=s[1];s=[0];continue;case 7:s=t.ops.pop();t.trys.pop();continue;default:if(!(c=t.trys,c=c.length>0&&c[c.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!c||s[1]>c[0]&&s[1]<c[3])){t.label=s[1];break}if(s[0]===6&&t.label<c[1]){t.label=c[1];c=s;break}if(c&&t.label<c[2]){t.label=c[2];t.ops.push(s);break}if(c[2])t.ops.pop();t.trys.pop();continue}s=r.call(e,t)}catch(o){s=[6,o];a=0}finally{i=c=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};System.register(["./p-4357b6d5.system.js","./p-9179aa2f.system.js","./p-352f9691.system.js"],(function(e){"use strict";var r,t,i,a,c,s;return{setters:[function(e){r=e.r;t=e.h;i=e.H},function(e){a=e.ab;c=e.aa;s=e.O},function(){}],execute:function(){var o='.sc-peculiar-certificates-viewer-h{display:block;width:100%;word-wrap:break-word;min-width:280px;overflow:auto;position:relative;background:rgb(var(--peculiar-color-light-rgb))}table.sc-peculiar-certificates-viewer{width:100%;table-layout:fixed;border-collapse:collapse}table.sc-peculiar-certificates-viewer thead.sc-peculiar-certificates-viewer{background-color:rgba(var(--peculiar-color-primary-rgb), 0.07)}table.sc-peculiar-certificates-viewer tr.sc-peculiar-certificates-viewer td.sc-peculiar-certificates-viewer{vertical-align:middle}table.sc-peculiar-certificates-viewer tbody.sc-peculiar-certificates-viewer tr.sc-peculiar-certificates-viewer:not(.expanded_summary){cursor:pointer}table.sc-peculiar-certificates-viewer th.sc-peculiar-certificates-viewer{padding:15px 10px;border-width:1px;border-style:solid}table.sc-peculiar-certificates-viewer td.sc-peculiar-certificates-viewer{padding:8px 10px;border-width:1px;border-style:solid}table.sc-peculiar-certificates-viewer .col_issuer.sc-peculiar-certificates-viewer,table.sc-peculiar-certificates-viewer .col_name.sc-peculiar-certificates-viewer,table.sc-peculiar-certificates-viewer .col_public_key.sc-peculiar-certificates-viewer{width:16%}table.sc-peculiar-certificates-viewer .col_actions.sc-peculiar-certificates-viewer,table.sc-peculiar-certificates-viewer .col_tests.sc-peculiar-certificates-viewer{width:18%}table.m_extra.sc-peculiar-certificates-viewer .col_issuer.sc-peculiar-certificates-viewer,table.m_extra.sc-peculiar-certificates-viewer .col_name.sc-peculiar-certificates-viewer,table.m_extra.sc-peculiar-certificates-viewer .col_public_key.sc-peculiar-certificates-viewer{width:12%}table.m_extra.sc-peculiar-certificates-viewer .col_actions.sc-peculiar-certificates-viewer,table.m_extra.sc-peculiar-certificates-viewer .col_tests.sc-peculiar-certificates-viewer{width:17%}table.sc-peculiar-certificates-viewer tr.expanded.sc-peculiar-certificates-viewer td.sc-peculiar-certificates-viewer:not(:last-child){border-right-color:transparent}table.sc-peculiar-certificates-viewer tr.expanded.sc-peculiar-certificates-viewer td.sc-peculiar-certificates-viewer{border-bottom-color:transparent}.expanded.sc-peculiar-certificates-viewer{border-bottom-color:transparent;background-color:rgba(var(--peculiar-color-primary-rgb), 0.04)}table.sc-peculiar-certificates-viewer tr.expanded_summary.sc-peculiar-certificates-viewer{background-color:rgba(var(--peculiar-color-primary-rgb), 0.04)}table.sc-peculiar-certificates-viewer tr.expanded_summary.sc-peculiar-certificates-viewer td.sc-peculiar-certificates-viewer{vertical-align:top;padding:10px 20px 26px}@-webkit-keyframes fadeIn{0%{opacity:0.001}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0.001}100%{opacity:1}}.modal_wrapper.sc-peculiar-certificates-viewer{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;overflow:auto;padding:10px;text-align:center;background:rgba(var(--peculiar-color-dark-rgb), 0.9);-webkit-animation:fadeIn 300ms;animation:fadeIn 300ms}.modal_wrapper.sc-peculiar-certificates-viewer:before{display:inline-block;vertical-align:middle;width:0;height:100%;content:""}.modal_content.sc-peculiar-certificates-viewer{position:relative;display:inline-block;vertical-align:middle;width:100%;max-width:900px;text-align:left;border-radius:3px;overflow:hidden}.modal_title.sc-peculiar-certificates-viewer{background-color:rgba(var(--peculiar-color-primary-rgb), 0.07);border-bottom-width:1px;border-bottom-style:solid;padding:17px 60px 17px 20px;position:relative;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.modal_close.sc-peculiar-certificates-viewer{cursor:pointer;border:none;background-color:transparent;position:absolute;top:0;bottom:0;right:0;padding:0 12px;-webkit-transition:opacity 100ms;transition:opacity 100ms;outline:none}.modal_close.sc-peculiar-certificates-viewer:hover{opacity:0.6}.modal_close.sc-peculiar-certificates-viewer svg.sc-peculiar-certificates-viewer{fill:rgb(var(--peculiar-color-dark-rgb))}.button_table_action.sc-peculiar-certificates-viewer{margin:2px}.mobile_title.sc-peculiar-certificates-viewer{display:none}.status_wrapper.sc-peculiar-certificates-viewer{height:85px;text-align:center;pointer-events:none}.search_section.sc-peculiar-certificates-viewer{background-color:rgba(var(--peculiar-color-primary-rgb), 0.07);height:50px;padding:10px;border-width:1px 1px 0 1px;border-style:solid}.input_search.sc-peculiar-certificates-viewer{height:100%;width:100%;border-radius:3px;border-width:1px;border-style:solid;padding:0 14px;font-size:12px;outline:none}.input_search.sc-peculiar-certificates-viewer::-moz-placeholder{color:rgb(var(--peculiar-color-grey_3-rgb))}.input_search.sc-peculiar-certificates-viewer:-ms-input-placeholder{color:rgb(var(--peculiar-color-grey_3-rgb))}.input_search.sc-peculiar-certificates-viewer::-ms-input-placeholder{color:rgb(var(--peculiar-color-grey_3-rgb))}.input_search.sc-peculiar-certificates-viewer::-webkit-input-placeholder{color:rgb(var(--peculiar-color-grey_3-rgb))}.input_search.sc-peculiar-certificates-viewer::placeholder{color:rgb(var(--peculiar-color-grey_3-rgb))}.loading_container.sc-peculiar-certificates-viewer{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(var(--peculiar-color-dark-rgb), 0.3);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.align_center.sc-peculiar-certificates-viewer{text-align:center}@media (hover: hover){table.sc-peculiar-certificates-viewer tbody.sc-peculiar-certificates-viewer tr.sc-peculiar-certificates-viewer:not(.expanded_summary):hover{background-color:rgba(var(--peculiar-color-primary-rgb), 0.04)}}@media (max-width: 900px){table.sc-peculiar-certificates-viewer,tbody.sc-peculiar-certificates-viewer,tr.sc-peculiar-certificates-viewer,td.sc-peculiar-certificates-viewer{display:block}thead.sc-peculiar-certificates-viewer{display:none}tr.sc-peculiar-certificates-viewer{padding:0 15px;border-width:1px;border-style:solid}tr.sc-peculiar-certificates-viewer:not(:first-child){margin-top:-1px}tr.sc-peculiar-certificates-viewer:not(.expanded_summary) td.sc-peculiar-certificates-viewer:first-child{border:none !important}table.sc-peculiar-certificates-viewer td.sc-peculiar-certificates-viewer{padding-left:0;padding-right:0;border-width:1px 0 0 0 !important;border-color:rgba(var(--peculiar-color-grey_3-rgb), 0.5) !important}table.sc-peculiar-certificates-viewer tr.expanded_summary.sc-peculiar-certificates-viewer td.sc-peculiar-certificates-viewer{padding:15px 0}.mobile_title.sc-peculiar-certificates-viewer{display:inline-block;width:90px;vertical-align:middle}.modal_title.sc-peculiar-certificates-viewer{padding:17px 60px 17px 15px}.content.sc-peculiar-certificates-viewer{display:inline-block;width:calc(100% - 90px);vertical-align:middle;text-align:left}.expanded_summary.sc-peculiar-certificates-viewer{border-top-color:transparent;padding-bottom:10px}.expanded_summary.sc-peculiar-certificates-viewer td.sc-peculiar-certificates-viewer:before{content:none}.status_wrapper.sc-peculiar-certificates-viewer{height:266px;display:table-cell}.search_section.sc-peculiar-certificates-viewer{height:60px;padding:15px}.align_center.sc-peculiar-certificates-viewer{text-align:inherit}}';var l=e("peculiar_certificates_viewer",function(){function e(e){var t=this;r(this,e);this.certificates=[];this.filterWithSearch=true;this.highlightWithSearch=true;this.search="";this.certificatesDecoded=[];this.isDecodeInProcess=true;this.isHasTests=false;this.isHasRoots=false;this.onClickDetails=function(e,r){r.stopPropagation();t.certificateSelectedForDetails=e};this.onClickModalClose=function(){t.certificateSelectedForDetails=undefined};this.onSearchChange=function(e){t.search=e.target.value.trim()}}e.prototype.componentWillLoad=function(){this.certificatesDecodeAndSet()};e.prototype.watchCertificates=function(){this.certificatesDecodeAndSet()};e.prototype.certificatesDecodeAndSet=function(){return __awaiter(this,void 0,void 0,(function(){var e,r,t,i,c,s,o,l,n,p;var u=this;return __generator(this,(function(d){switch(d.label){case 0:e=performance.now();this.isHasTests=false;this.isHasRoots=false;if(!Array.isArray(this.certificates)){return[2]}r=[];t=0,i=this.certificates;d.label=1;case 1:if(!(t<i.length))return[3,6];c=i[t];d.label=2;case 2:d.trys.push([2,4,,5]);s=new a(c.value);return[4,s.getThumbprint("SHA-1")];case 3:d.sent();r.push({body:s,tests:c.tests,name:c.name});if(!this.isHasRoots&&s.isRoot){this.isHasRoots=true}if(!this.isHasTests){if(c.tests&&(c.tests.expired||c.tests.revoked||c.tests.valid)){this.isHasTests=true}}return[3,5];case 4:o=d.sent();console.error("Error certificate parse:",o);return[3,5];case 5:t++;return[3,1];case 6:l=performance.now();n=l-e;p=800;if(n<p){setTimeout((function(){u.isDecodeInProcess=false}),p-n)}else{this.isDecodeInProcess=false}this.certificatesDecoded=r;return[2]}}))}))};e.prototype.onClickDownloadAsPem=function(e,r){r.stopPropagation();c.certificate.asPEM(e.body.export("pem"),e.name||e.body.commonName)};e.prototype.onClickDownloadAsDer=function(e,r){r.stopPropagation();c.certificate.asPEM(e.body.export("hex"),e.name||e.body.commonName)};e.prototype.onClickRow=function(e){var r=this.expandedRow===e;this.expandedRow=r?undefined:e};e.prototype.renderExpandedRow=function(e){var r=4;if(this.isHasTests){r+=1}if(!this.isHasRoots){r+=1}return t("tr",{class:"expanded_summary peculiar_stroke_grey_3"},t("td",{colSpan:r,class:"peculiar_stroke_grey_3"},t("peculiar-certificate-summary",{certificate:e,showIssuer:!e.isRoot})))};e.prototype.renderCertificateTests=function(e){if(!e){return null}var r=[];if(e.valid){r.push(t("peculiar-button",{class:"button_table_action",href:e.valid,target:"_blank"},"Valid"))}if(e.revoked){r.push(t("peculiar-button",{class:"button_table_action",href:e.revoked,target:"_blank"},"Revoked"))}if(e.expired){r.push(t("peculiar-button",{class:"button_table_action",href:e.expired,target:"_blank"},"Expired"))}return r};e.prototype.renderContentState=function(){var e=this;var r=this.highlightWithSearch?this.search:"";var i=[];this.certificatesDecoded.forEach((function(a){var c=a.body.serialNumber===e.expandedRow;var o=s[a.body.signature.algorithm]||a.body.signature.algorithm;if(e.filterWithSearch&&e.search){var l=[o,a.body.issuerCommonName,a.name,a.body.commonName,a.body.thumbprints["SHA-1"]].join(" ").toLowerCase();if(l.indexOf(e.search.toLowerCase())===-1){return}}i.push([t("tr",{class:{peculiar_stroke_grey_3:true,expanded:c},onClick:e.onClickRow.bind(e,a.body.serialNumber),key:a.body.serialNumber},!e.isHasRoots&&t("td",{class:"peculiar_stroke_grey_3"},t("peculiar-typography",{class:"mobile_title",color:"grey_5"},"Issuer:"),t("peculiar-typography",{class:"content"},t("peculiar-highlight-words",{search:r},a.body.issuerCommonName))),t("td",{class:"peculiar_stroke_grey_3"},t("peculiar-typography",{class:"mobile_title",color:"grey_5"},"Name:"),t("peculiar-typography",{class:"content"},t("peculiar-highlight-words",{search:r},a.name||a.body.commonName))),t("td",{class:"peculiar_stroke_grey_3"},t("peculiar-typography",{class:"mobile_title",color:"grey_5"},"Public Key:"),t("peculiar-typography",{class:"content"},t("peculiar-highlight-words",{search:r},o))),t("td",{class:"peculiar_stroke_grey_3"},t("peculiar-typography",{class:"mobile_title",color:"grey_5"},"Fingerprint (SHA-1):"),t("peculiar-typography",{class:"content",monospace:true},t("peculiar-highlight-words",{search:r},a.body.thumbprints["SHA-1"]))),t("td",{class:"align_center peculiar_stroke_grey_3"},t("peculiar-typography",{class:"mobile_title",color:"grey_5"},"Actions:"),t("span",{class:"content"},t("peculiar-button",{onClick:e.onClickDetails.bind(e,a.body),class:"button_table_action"},"Details"),t("peculiar-button-split",{onClick:e.onClickDownloadAsPem.bind(e,a),actions:[{text:"Download DER",onClick:e.onClickDownloadAsDer.bind(e,a)}],class:"button_table_action"},"Download PEM"))),e.isHasTests&&t("td",{class:"align_center peculiar_stroke_grey_3"},t("peculiar-typography",{class:"mobile_title",color:"grey_5"},"Test URLs:"),t("span",{class:"content"},e.renderCertificateTests(a.tests)))),c&&e.renderExpandedRow(a.body)])}));return i};e.prototype.renderCertificateDetailsModal=function(){if(!this.certificateSelectedForDetails){return null}return t("div",{class:"modal_wrapper"},t("div",{class:"modal_content peculiar_fill_light"},t("div",{class:"modal_title peculiar_stroke_grey_3"},t("peculiar-typography",{type:"h4"},"Certificate details"),t("button",{class:"modal_close",onClick:this.onClickModalClose,type:"button"},t("svg",{width:"30",height:"30",viewBox:"0 0 30 30",xmlns:"http://www.w3.org/2000/svg"},t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.7204 14.375L21.0654 19.7185C21.3115 19.9658 21.3115 20.3693 21.0654 20.6154L20.615 21.0645C20.3689 21.3118 19.9667 21.3118 19.7181 21.0645L14.3744 15.721L9.03194 21.0645C8.78327 21.3118 8.3811 21.3118 8.13371 21.0645L7.68459 20.6154C7.43847 20.3693 7.43847 19.9658 7.68459 19.7185L13.0296 14.375L7.68459 9.03155C7.43847 8.78417 7.43847 8.38074 7.68459 8.13463L8.13371 7.68554C8.3811 7.43815 8.78327 7.43815 9.03194 7.68554L14.3744 13.029L19.7181 7.68554C19.9667 7.43815 20.3689 7.43815 20.615 7.68554L21.0654 8.13463C21.3115 8.38074 21.3115 8.78417 21.0654 9.03155L15.7204 14.375Z"})))),t("peculiar-certificate-viewer",{certificate:this.certificateSelectedForDetails})))};e.prototype.renderSearch=function(){if(!this.filterWithSearch&&!this.highlightWithSearch){return null}return t("div",{class:"search_section peculiar_stroke_grey_3"},t("input",{onInput:this.onSearchChange,type:"search",value:"",class:"input_search peculiar_fill_light peculiar_stroke_grey_3 peculiar_color_dark",disabled:!this.certificatesDecoded.length,placeholder:"Search"}))};e.prototype.renderEmptyState=function(){return t("tr",{class:"peculiar_stroke_grey_3"},t("td",{class:"peculiar_stroke_grey_3 status_wrapper",colSpan:5},t("peculiar-typography",{type:"b1",align:"center"},"There are no certificates available.")))};e.prototype.renderEmptySearchState=function(){return t("tr",{class:"peculiar_stroke_grey_3"},t("td",{class:"peculiar_stroke_grey_3 status_wrapper",colSpan:5},t("peculiar-typography",{type:"b1",align:"center"},"No results found for “",this.search,"“")))};e.prototype.renderLoadingState=function(){return t("div",{class:"loading_container"},t("peculiar-circular-progress",null))};e.prototype.renderBody=function(){if(this.isDecodeInProcess){return null}if(!this.certificatesDecoded.length){return this.renderEmptyState()}var e=this.renderContentState();if(this.search&&!e.length){return this.renderEmptySearchState()}return e};e.prototype.render=function(){return t(i,null,this.renderSearch(),t("table",{class:{peculiar_color_dark:true,m_extra:this.isHasTests||!this.isHasRoots}},t("thead",null,t("tr",{class:"peculiar_stroke_grey_3"},!this.isHasRoots&&t("th",{class:"peculiar_stroke_grey_3 col_issuer"},t("peculiar-typography",{type:"h7",align:"left"},"Issuer")),t("th",{class:"peculiar_stroke_grey_3 col_name"},t("peculiar-typography",{type:"h7",align:"left"},"Name")),t("th",{class:"peculiar_stroke_grey_3 col_public_key"},t("peculiar-typography",{type:"h7",align:"left"},"Public Key")),t("th",{class:"peculiar_stroke_grey_3 col_fingerprint"},t("peculiar-typography",{type:"h7",align:"left"},"Fingerprint (SHA-1)")),t("th",{class:"peculiar_stroke_grey_3 col_actions"},t("peculiar-typography",{type:"h7",align:"center"},"Actions")),this.isHasTests&&t("th",{class:"peculiar_stroke_grey_3 col_tests"},t("peculiar-typography",{type:"h7",align:"center"},"Test URLs")))),t("tbody",null,this.renderBody())),this.renderCertificateDetailsModal(),this.isDecodeInProcess&&this.renderLoadingState())};Object.defineProperty(e,"watchers",{get:function(){return{certificates:["watchCertificates"]}},enumerable:false,configurable:true});return e}());l.style=o}}}));