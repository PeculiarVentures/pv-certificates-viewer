{"version":3,"file":"peculiar-certificates-viewer.entry.esm.js","sources":["src/components/certificate-summary/certificate-summary.tsx","src/components/certificates-viewer/certificates-viewer.scss?tag=peculiar-certificates-viewer&encapsulation=shadow","src/components/certificates-viewer/certificates-viewer.tsx"],"sourcesContent":["/**\n * @license\n * Copyright (c) Peculiar Ventures, LLC.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { FunctionalComponent, h } from '@stencil/core';\nimport type { X509Certificate } from '../../crypto';\nimport { dateShort, l10n } from '../../utils';\nimport { Typography } from '../typography';\n\ninterface ICertificateSummaryProps {\n  certificate: X509Certificate;\n  showIssuer?: boolean;\n}\n\nexport const CertificateSummary: FunctionalComponent<ICertificateSummaryProps> = (props) => {\n  const {\n    certificate,\n    showIssuer,\n  } = props;\n\n  const renderRow = (name: string | string[], value: string | number) => (\n    <tr>\n      <td>\n        <Typography\n          variant=\"b2\"\n          color=\"gray-9\"\n        >\n          {name}\n        </Typography>\n      </td>\n      <td>\n        <Typography\n          variant=\"b2\"\n          color=\"black\"\n        >\n          {value}\n        </Typography>\n      </td>\n    </tr>\n  );\n\n  return (\n    <table>\n      <tbody>\n        {renderRow(\n          l10n.getString('subjectName'),\n          certificate.subjectToString(),\n        )}\n        {showIssuer && renderRow(\n          l10n.getString('issuerName'),\n          certificate.issuerToString(),\n        )}\n\n        {renderRow(\n          l10n.getString('serialNumber'),\n          certificate.serialNumber,\n        )}\n        {renderRow(\n          l10n.getString('version'),\n          certificate.version,\n        )}\n        {renderRow(\n          l10n.getString('validity'),\n          certificate.validity,\n        )}\n        {renderRow(\n          l10n.getString('issued'),\n          dateShort(certificate.notBefore),\n        )}\n        {renderRow(\n          l10n.getString('expired'),\n          dateShort(certificate.notAfter),\n        )}\n      </tbody>\n    </table>\n  );\n};\n","@use '../../css/base.scss';\n\n:host {\n  display: block;\n  width: 100%;\n  word-wrap: break-word;\n  min-width: 280px;\n  overflow: auto;\n  position: relative;\n}\n\n.search_section {\n  padding: var(--pv-size-base-4);\n  border-bottom: 1px solid var(--pv-color-gray-4);\n}\n\n.input_search {\n  height: var(--pv-size-base-8);\n  width: 100%;\n  outline: none;\n  background-color: var(--pv-color-gray-1);\n  padding: 0 var(--pv-size-base-2);\n  border: 1px solid var(--pv-color-gray-7);\n  border-radius: 4px;\n  transition: background-color 200ms ease 0s, color 200ms ease 0s, border-color 200ms ease 0s;\n  &::placeholder {\n    color: var(--pv-color-gray-9);\n  }\n}\n\ntable {\n  width: 100%;\n  table-layout: fixed;\n  border-collapse: collapse;\n  border-spacing: 0;\n\n  td, th {\n    border-bottom: 1px solid var(--pv-color-gray-4);\n    vertical-align: top;\n    text-align: left;\n\n    &:first-child {\n      padding-right: 0;\n      width: var(--pv-size-base-10);\n    }\n    &:last-child {\n      padding-left: 0;\n      width: var(--pv-size-base-10);\n    }\n  }\n\n  th {\n    padding: var(--pv-size-base-2) var(--pv-size-base-4);\n\n    &.col_action {\n      padding: 0;\n    }\n  }\n\n  td {\n    padding: var(--pv-size-base-4);\n  }\n\n  tr {\n    &.m_expanded {\n      background: var(--pv-color-gray-1);\n\n      > td {\n        border-bottom: none;\n      }\n    }\n\n    &.expanded_summary {\n      background: var(--pv-color-gray-1);\n\n      table {\n        table-layout: initial;\n\n        td {\n          border-bottom: none;\n          padding: var(--pv-size-base-2);\n\n          &:first-child {\n            width: 200px;\n          }\n\n          &:last-child {\n            width: auto;\n          }\n        }\n      }\n    }\n  }\n}\n\n.button_table_cell {\n  margin-top: -3px;\n}\n\n.status_wrapper {\n  text-align: center;\n  height: var(--pv-size-base-16);\n  vertical-align: middle;\n}\n\n.modal_wrapper {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  animation: fadeIn 200ms;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.modal_backdrop {\n  background: var(--pv-color-black);\n  z-index: -1;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  opacity: 0.5;\n}\n\n.modal_container {\n  background: var(--pv-color-white);\n  width: 100%;\n  display: flex;\n  max-height: calc(100% - 60px);\n  flex-direction: column;\n  margin: var(--pv-size-base-6);\n  position: relative;\n  outline: none;\n  box-shadow: var(--pv-shadow-dark-hight);\n  overflow: hidden;\n  border: 0px;\n  padding: 0px;\n  max-width: 640px;\n  border-radius: 4px;\n}\n\n.modal_header {\n  padding: var(--pv-size-base-3) var(--pv-size-base-4);\n  display: flex;\n  flex: 0 0 auto;\n  -webkit-box-pack: justify;\n  justify-content: space-between;\n  gap: var(--pv-size-base-2);\n  border-bottom: 1px solid var(--pv-color-gray-5);\n}\n\n.modal_content {\n  flex: 1 1 auto;\n  overflow: auto;\n}\n\n:host([data-mobile-screen-view=\"true\"]) {\n  table, tbody, tr, td {\n    display: block;\n    width: 100% !important;\n    padding: 0;\n    border: none;\n  }\n\n  thead {\n    display: none;\n  }\n\n  table {\n    tr {\n      padding: var(--pv-size-base-2) 0;\n    }\n\n    .expanded_summary {\n      padding: 0;\n    }\n\n    .certificate_row {\n      border-bottom: 1px solid var(--pv-color-gray-5);\n      padding: var(--pv-size-base-2) var(--pv-size-base-4);\n    }\n\n    .certificate_row_actions {\n      padding-top: var(--pv-size-base-6);\n\n      td {\n        display: flex;\n        justify-content: right;\n        gap: var(--pv-size-base-4);\n      }\n    }\n  }\n\n  .button_table_cell {\n    margin-top: 0;\n  }\n}\n","/**\n * @license\n * Copyright (c) Peculiar Ventures, LLC.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {\n  Component,\n  h,\n  Prop,\n  State,\n  Watch,\n  Host,\n  Event,\n  EventEmitter,\n  Build,\n} from '@stencil/core';\nimport { X509Certificate } from '../../crypto';\nimport { OIDs } from '../../constants/oids';\nimport { l10n } from '../../utils';\nimport { Typography } from '../typography';\nimport { CertificateSummary } from '../certificate-summary';\nimport { Button } from '../button';\nimport {\n  DownloadIcon,\n  LinkIcon,\n  DetailsIcon,\n  ArrowBottomIcon,\n  ArrowTopIcon,\n  CrossIcon,\n} from '../icons';\n\nexport interface ICertificate {\n  value: string;\n  name?: string | ((certificate: X509Certificate) => string);\n  tests?: {\n    valid?: string;\n    revoked?: string;\n    expired?: string;\n  };\n}\n\ninterface ICertificateDecoded {\n  body: X509Certificate;\n  tests?: ICertificate['tests'];\n  name?: ICertificate['name'];\n}\n\n@Component({\n  tag: 'peculiar-certificates-viewer',\n  styleUrl: 'certificates-viewer.scss',\n  shadow: true,\n})\nexport class CertificatesViewer {\n  private isHasRoots = false;\n\n  private mobileMediaQuery: MediaQueryList;\n\n  /**\n   * List of certificates values for decode and show in the list.\n   * <br />\n   * **NOTE**: If you do not provide a `name` value when\n   * invocing the component it will take the first Subject CN value.\n   * <br />\n   * **NOTE**: If you do not provide a `tests` this column will be ommited from the rendered page.\n   * <br />\n   * **NOTE**: If the supplied certificates are self-signed the issuer column will be ommited.\n   */\n  @Prop() certificates: ICertificate[] = [];\n\n  /**\n   * Use filter in the list when search is changed.\n   */\n  @Prop() filterWithSearch = true;\n\n  /**\n   * Use highlight chapters in the list when search is changed.\n   */\n  @Prop() highlightWithSearch = true;\n\n  /**\n   * Mobile media query string to control screen view change.\n   * <br />\n   * **NOTE**: Based on https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia.\n   * @example\n   *  (max-width: 900px)\n   */\n  @Prop({ reflect: false }) mobileMediaQueryString?: string = '(max-width: 900px)';\n\n  /**\n   * Emitted when the user open certificate details modal.\n   */\n  @Event() detailsOpen!: EventEmitter<X509Certificate>;\n\n  /**\n   * Emitted when the user close certificate details modal.\n   */\n  @Event() detailsClose!: EventEmitter<void>;\n\n  @State() mobileScreenView = false;\n\n  @State() search = '';\n\n  @State() certificatesDecoded: ICertificateDecoded[] = [];\n\n  @State() expandedRow?: number;\n\n  @State() certificateSelectedForDetails?: X509Certificate;\n\n  @State() isDecodeInProcess = true;\n\n  private handleMediaQueryChange(event: MediaQueryListEvent) {\n    this.mobileScreenView = event.matches;\n  }\n\n  componentWillLoad() {\n    this.certificatesDecodeAndSet();\n\n    if (Build.isBrowser) {\n      this.mobileMediaQuery = window.matchMedia(this.mobileMediaQueryString);\n      this.mobileMediaQuery.addEventListener('change', this.handleMediaQueryChange.bind(this));\n      this.mobileScreenView = this.mobileMediaQuery.matches;\n    }\n  }\n\n  disconnectedCallback() {\n    this.mobileMediaQuery.removeEventListener('change', this.handleMediaQueryChange.bind(this));\n  }\n\n  @Watch('certificates')\n  watchCertificates(newValue: ICertificate[], oldValue: ICertificate[]) {\n    /**\n     * Prevent rerender after set the same `certificates` prop.\n     */\n    if (JSON.stringify(newValue) !== JSON.stringify(oldValue)) {\n      this.certificatesDecodeAndSet();\n    }\n  }\n\n  async certificatesDecodeAndSet() {\n    let hasRoots = false;\n\n    if (!Array.isArray(this.certificates)) {\n      return;\n    }\n\n    const data: ICertificateDecoded[] = [];\n\n    for (const certificate of this.certificates) {\n      try {\n        const decoded = new X509Certificate(certificate.value);\n\n        await decoded.getThumbprint('SHA-1');\n\n        data.push({\n          body: decoded,\n          tests: certificate.tests,\n          name: certificate.name,\n        });\n\n        if (!hasRoots && decoded.isRoot) {\n          hasRoots = true;\n        }\n      } catch (error) {\n        console.error('Error certificate parse:', error);\n      }\n    }\n\n    this.isHasRoots = hasRoots;\n    this.isDecodeInProcess = false;\n    this.certificatesDecoded = data;\n  }\n\n  private getCertificateName(certificate: ICertificateDecoded) {\n    if (typeof certificate.name === 'function') {\n      return certificate.name(certificate.body);\n    }\n\n    return certificate.name || certificate.body.commonName;\n  }\n\n  private handleClickDownloadAsPem(certificate: ICertificateDecoded) {\n    certificate.body.downloadAsPEM(this.getCertificateName(certificate));\n  }\n\n  private handleClickDownloadAsDer(certificate: ICertificateDecoded) {\n    certificate.body.downloadAsDER(this.getCertificateName(certificate));\n  }\n\n  private handleClickDetails = (certificate: X509Certificate) => {\n    this.certificateSelectedForDetails = certificate;\n    this.detailsOpen.emit(certificate);\n  };\n\n  private handleModalClose = () => {\n    this.certificateSelectedForDetails = undefined;\n\n    this.detailsClose.emit();\n  };\n\n  private handleClickRow(index: number) {\n    const isExpandedRowClicked = this.expandedRow === index;\n\n    this.expandedRow = isExpandedRowClicked\n      ? undefined\n      : index;\n  }\n\n  private handleSearch = (event: Event) => {\n    const target = event.target as HTMLInputElement;\n\n    this.search = target.value.trim();\n  };\n\n  private getMaxColSpanValue() {\n    let colSpan = 5;\n\n    if (!this.isHasRoots) {\n      colSpan += 1;\n    }\n\n    return colSpan;\n  }\n\n  private renderCertificateButtonActions(certificate: ICertificateDecoded) {\n    const isHasTestURLs = certificate.tests\n      && (certificate.tests.expired || certificate.tests.revoked || certificate.tests.valid);\n\n    return (\n      <peculiar-button-menu\n        class=\"button_table_cell\"\n        groups={[\n          {\n            title: l10n.getString('previewCertificate'),\n            options: [\n              {\n                text: l10n.getString('viewDetails'),\n                startIcon: <DetailsIcon />,\n                onClick: () => this.handleClickDetails(certificate.body),\n              },\n            ],\n          },\n          {\n            title: l10n.getString('downloadOptions'),\n            options: [\n              {\n                text: l10n.getString('download.pem'),\n                startIcon: <DownloadIcon />,\n                onClick: () => this.handleClickDownloadAsPem(certificate),\n              },\n              {\n                text: l10n.getString('download.der'),\n                startIcon: <DownloadIcon />,\n                onClick: () => this.handleClickDownloadAsDer(certificate),\n              },\n            ],\n          },\n          ...(isHasTestURLs\n            ? [{\n                title: l10n.getString('testURLs'),\n                options: [\n                  ...(certificate.tests?.valid\n                    ? [{\n                        text: l10n.getString('valid'),\n                        href: certificate.tests.valid,\n                        startIcon: <LinkIcon />,\n                      }]\n                    : []),\n                  ...(certificate.tests?.revoked\n                    ? [{\n                        text: l10n.getString('revoked'),\n                        href: certificate.tests.revoked,\n                        startIcon: <LinkIcon />,\n                      }]\n                    : []),\n                  ...(certificate.tests?.expired\n                    ? [{\n                        text: l10n.getString('expired'),\n                        href: certificate.tests.expired,\n                        startIcon: <LinkIcon />,\n                      }]\n                    : []),\n                ],\n              }]\n            : []),\n        ]}\n      />\n    );\n  }\n\n  private renderExpandedRow(certificate: X509Certificate) {\n    const colSpan = this.getMaxColSpanValue() - 2;\n\n    return (\n      <tr class=\"expanded_summary\">\n        <td />\n        <td colSpan={colSpan}>\n          <CertificateSummary\n            certificate={certificate}\n            showIssuer={!certificate.isRoot}\n          />\n        </td>\n        <td />\n      </tr>\n    );\n  }\n\n  private renderCertificatesRows() {\n    const searchHighlight = this.highlightWithSearch\n      ? this.search\n      : '';\n    const content = [];\n\n    this.certificatesDecoded.forEach((certificate, index) => {\n      const isExpandedRow = index === this.expandedRow;\n      const publicKeyValue = OIDs[certificate.body.signature.algorithm]\n        || certificate.body.signature.algorithm;\n\n      if (this.filterWithSearch && this.search) {\n        const certificateStringForSearch = [\n          publicKeyValue,\n          certificate.body.issuerCommonName,\n          this.getCertificateName(certificate),\n          certificate.body.thumbprints['SHA-1'],\n        ]\n          .join(' ')\n          .toLowerCase();\n\n        if (certificateStringForSearch.indexOf(this.search.toLowerCase()) === -1) {\n          return;\n        }\n      }\n\n      if (this.mobileScreenView) {\n        content.push([\n          <tr\n            class={{\n              certificate_row: true,\n              m_expanded: isExpandedRow,\n            }}\n            key={certificate.body.thumbprints['SHA-1']}\n          >\n            <td>\n              <table>\n                <tbody>\n                  {!this.isHasRoots && (\n                    <tr>\n                      <td>\n                        <Typography variant=\"b2\" color=\"gray-9\">\n                          {l10n.getString('issuer')}\n                        </Typography>\n                      </td>\n                      <td>\n                        <Typography variant=\"b2\" color=\"black\">\n                          <peculiar-highlight-words search={searchHighlight}>\n                            {certificate.body.issuerCommonName}\n                          </peculiar-highlight-words>\n                        </Typography>\n                      </td>\n                    </tr>\n                  )}\n                  <tr>\n                    <td>\n                      <Typography variant=\"b2\" color=\"gray-9\">\n                        {l10n.getString('name')}\n                      </Typography>\n                    </td>\n                    <td>\n                      <Typography variant=\"b2\" color=\"black\">\n                        <peculiar-highlight-words search={searchHighlight}>\n                          {this.getCertificateName(certificate)}\n                        </peculiar-highlight-words>\n                      </Typography>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <Typography variant=\"b2\" color=\"gray-9\">\n                        {l10n.getString('publicKey')}\n                      </Typography>\n                    </td>\n                    <td>\n                      <Typography variant=\"b2\" color=\"black\">\n                        <peculiar-highlight-words search={searchHighlight}>\n                          {publicKeyValue}\n                        </peculiar-highlight-words>\n                      </Typography>\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <Typography variant=\"b2\" color=\"gray-9\">\n                        {l10n.getString('fingerprint')}\n                        &nbsp; (SHA-1)\n                      </Typography>\n                    </td>\n                    <td>\n                      <Typography variant=\"b2\" color=\"black\">\n                        <peculiar-highlight-words search={searchHighlight}>\n                          {certificate.body.thumbprints['SHA-1']}\n                        </peculiar-highlight-words>\n                      </Typography>\n                    </td>\n                  </tr>\n                  {isExpandedRow && this.renderExpandedRow(certificate.body)}\n                  <tr class=\"certificate_row_actions\">\n                    <td>\n                      {this.renderCertificateButtonActions(certificate)}\n                      <Button\n                        startIcon={isExpandedRow ? <ArrowTopIcon /> : <ArrowBottomIcon />}\n                        onClick={this.handleClickRow.bind(this, index)}\n                      />\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </td>\n          </tr>,\n        ]);\n\n        return;\n      }\n\n      content.push([\n        <tr\n          class={{ m_expanded: isExpandedRow }}\n          key={certificate.body.thumbprints['SHA-1']}\n        >\n          <td>\n            <Button\n              startIcon={isExpandedRow ? <ArrowTopIcon /> : <ArrowBottomIcon />}\n              class=\"button_table_cell\"\n\n              onClick={this.handleClickRow.bind(this, index)}\n            />\n          </td>\n          {!this.isHasRoots && (\n            <td>\n              <Typography>\n                <peculiar-highlight-words search={searchHighlight}>\n                  {certificate.body.issuerCommonName}\n                </peculiar-highlight-words>\n              </Typography>\n            </td>\n          )}\n          <td>\n            <Typography>\n              <peculiar-highlight-words search={searchHighlight}>\n                {this.getCertificateName(certificate)}\n              </peculiar-highlight-words>\n            </Typography>\n          </td>\n          <td>\n            <Typography>\n              <peculiar-highlight-words search={searchHighlight}>\n                {publicKeyValue}\n              </peculiar-highlight-words>\n            </Typography>\n          </td>\n          <td>\n            <Typography>\n              <peculiar-highlight-words search={searchHighlight}>\n                {certificate.body.thumbprints['SHA-1']}\n              </peculiar-highlight-words>\n            </Typography>\n          </td>\n          <td>\n            {this.renderCertificateButtonActions(certificate)}\n          </td>\n        </tr>,\n        isExpandedRow && this.renderExpandedRow(certificate.body),\n      ]);\n    });\n\n    return content;\n  }\n\n  private renderCertificateDetailsModal() {\n    if (!this.certificateSelectedForDetails) {\n      return null;\n    }\n\n    return (\n      <div\n        class=\"modal_wrapper\"\n        role=\"presentation\"\n        aria-hidden=\"false\"\n        part=\"presentation\"\n      >\n        <div\n          class=\"modal_backdrop\"\n          aria-hidden=\"true\"\n          onClick={this.handleModalClose}\n        />\n        <div\n          class=\"modal_container\"\n          role=\"dialog\"\n          part=\"presentation_container\"\n        >\n          <header class=\"modal_header\">\n            <Typography\n              variant=\"h4\"\n            >\n              {l10n.getString('certificateDetails')}\n            </Typography>\n            <Button\n              startIcon={<CrossIcon />}\n              onClick={this.handleModalClose}\n            />\n          </header>\n          <div class=\"modal_content\">\n            <peculiar-certificate-viewer\n              certificate={this.certificateSelectedForDetails}\n              mobileMediaQueryString={this.mobileMediaQueryString}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  private renderSearch() {\n    if (!this.filterWithSearch && !this.highlightWithSearch) {\n      return null;\n    }\n\n    return (\n      <div class=\"search_section\">\n        <input\n          type=\"search\"\n          value=\"\"\n          class=\"input_search t-b3 c-black\"\n          disabled={!this.certificatesDecoded.length}\n          placeholder=\"Search\"\n          onInput={this.handleSearch}\n        />\n      </div>\n    );\n  }\n\n  private renderEmptyState() {\n    const colSpan = this.getMaxColSpanValue();\n\n    return (\n      <tr>\n        <td\n          class=\"status_wrapper\"\n          colSpan={colSpan}\n        >\n          <Typography\n            variant=\"b1\"\n          >\n            There are no certificates available.\n          </Typography>\n        </td>\n      </tr>\n    );\n  }\n\n  private renderEmptySearchState() {\n    const colSpan = this.getMaxColSpanValue();\n\n    return (\n      <tr>\n        <td\n          class=\"status_wrapper\"\n          colSpan={colSpan}\n        >\n          <Typography\n            variant=\"b1\"\n          >\n            No results found for &ldquo;\n            {this.search}\n            &ldquo;\n          </Typography>\n        </td>\n      </tr>\n    );\n  }\n\n  private renderLoadingState() {\n    return (\n      <div class=\"loading_container\">\n        <peculiar-circular-progress />\n      </div>\n    );\n  }\n\n  private renderTableBody() {\n    if (this.isDecodeInProcess) {\n      return null;\n    }\n\n    if (!this.certificatesDecoded.length) {\n      return this.renderEmptyState();\n    }\n\n    const certificatesRows = this.renderCertificatesRows();\n\n    if (this.search && !certificatesRows.length) {\n      return this.renderEmptySearchState();\n    }\n\n    return certificatesRows;\n  }\n\n  render() {\n    return (\n      <Host\n        data-mobile-screen-view={String(this.mobileScreenView)}\n      >\n        {this.renderSearch()}\n        <table>\n          {!this.mobileScreenView && (\n            <thead>\n              <tr>\n                <th />\n                {!this.isHasRoots && (\n                  <th class=\"col_issuer\">\n                    <Typography variant=\"s2\">\n                      {l10n.getString('issuer')}\n                    </Typography>\n                  </th>\n                )}\n                <th class=\"col_name\">\n                  <Typography variant=\"s2\">\n                    {l10n.getString('name')}\n                  </Typography>\n                </th>\n                <th class=\"col_public_key\">\n                  <Typography variant=\"s2\">\n                    {l10n.getString('publicKey')}\n                  </Typography>\n                </th>\n                <th class=\"col_fingerprint\">\n                  <Typography variant=\"s2\">\n                    {l10n.getString('fingerprint')}\n                    &nbsp; (SHA-1)\n                  </Typography>\n                </th>\n                <th />\n              </tr>\n            </thead>\n          )}\n          <tbody>\n            {this.renderTableBody()}\n          </tbody>\n        </table>\n\n        {this.renderCertificateDetailsModal()}\n        {this.isDecodeInProcess && this.renderLoadingState()}\n      </Host>\n    );\n  }\n}\n"],"names":[],"mappings":"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"}