/*!
 * Â© Peculiar Ventures https://peculiarventures.com/ - MIT License
 */
import{r as e,c,h as r,F as t,H as a}from"./p-1ad9064c.js";import{a as i}from"./p-25a532a3.js";import"./p-bfbdf73e.js";import{X as o}from"./p-a35f15b3.js";import{X as s,a as p}from"./p-aebc7e40.js";import{P as n}from"./p-55293978.js";import{T as l,B as d}from"./p-56e68c42.js";const v="*.sc-peculiar-certificate-decoder{-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-text-size-adjust:none;-ms-text-size-adjust:none;text-size-adjust:none;-webkit-text-size-adjust:none;-webkit-tap-highlight-color:transparent;font-family:var(--pv-font-family, inherit)}.t-h1.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-h1-weight);font-size:var(--pv-text-h1-size);line-height:var(--pv-text-h1-height);letter-spacing:var(--pv-text-h1-spacing)}.t-h2.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-h2-weight);font-size:var(--pv-text-h2-size);line-height:var(--pv-text-h2-height);letter-spacing:var(--pv-text-h2-spacing)}.t-h3.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-h3-weight);font-size:var(--pv-text-h3-size);line-height:var(--pv-text-h3-height);letter-spacing:var(--pv-text-h3-spacing)}.t-h4.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-h4-weight);font-size:var(--pv-text-h4-size);line-height:var(--pv-text-h4-height);letter-spacing:var(--pv-text-h4-spacing)}.t-h5.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-h5-weight);font-size:var(--pv-text-h5-size);line-height:var(--pv-text-h5-height);letter-spacing:var(--pv-text-h5-spacing)}.t-s1.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-s1-weight);font-size:var(--pv-text-s1-size);line-height:var(--pv-text-s1-height);letter-spacing:var(--pv-text-s1-spacing)}.t-s2.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-s2-weight);font-size:var(--pv-text-s2-size);line-height:var(--pv-text-s2-height);letter-spacing:var(--pv-text-s2-spacing)}.t-b1.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-b1-weight);font-size:var(--pv-text-b1-size);line-height:var(--pv-text-b1-height);letter-spacing:var(--pv-text-b1-spacing)}.t-b2.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-b2-weight);font-size:var(--pv-text-b2-size);line-height:var(--pv-text-b2-height);letter-spacing:var(--pv-text-b2-spacing)}.t-b3.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-b3-weight);font-size:var(--pv-text-b3-size);line-height:var(--pv-text-b3-height);letter-spacing:var(--pv-text-b3-spacing)}.t-btn1.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-btn1-weight);font-size:var(--pv-text-btn1-size);line-height:var(--pv-text-btn1-height);letter-spacing:var(--pv-text-btn1-spacing)}.t-btn2.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-btn2-weight);font-size:var(--pv-text-btn2-size);line-height:var(--pv-text-btn2-height);letter-spacing:var(--pv-text-btn2-spacing)}.t-c1.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-c1-weight);font-size:var(--pv-text-c1-size);line-height:var(--pv-text-c1-height);letter-spacing:var(--pv-text-c1-spacing)}.t-c2.sc-peculiar-certificate-decoder{font-weight:var(--pv-text-c2-weight);font-size:var(--pv-text-c2-size);line-height:var(--pv-text-c2-height);letter-spacing:var(--pv-text-c2-spacing)}.c-primary-tint-5.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-primary-tint-5)}.c-primary-tint-4.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-primary-tint-4)}.c-primary-tint-3.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-primary-tint-3)}.c-primary-tint-2.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-primary-tint-2)}.c-primary-tint-1.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-primary-tint-1)}.c-primary.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-primary)}.c-primary-shade-1.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-primary-shade-1)}.c-primary-shade-2.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-primary-shade-2)}.c-primary-shade-3.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-primary-shade-3)}.c-primary-shade-4.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-primary-shade-4)}.c-primary-shade-5.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-primary-shade-5)}.c-primary-contrast.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-primary-contrast)}.c-secondary-tint-5.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-secondary-tint-5)}.c-secondary-tint-4.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-secondary-tint-4)}.c-secondary-tint-3.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-secondary-tint-3)}.c-secondary-tint-2.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-secondary-tint-2)}.c-secondary-tint-1.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-secondary-tint-1)}.c-secondary.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-secondary)}.c-secondary-shade-1.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-secondary-shade-1)}.c-secondary-shade-2.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-secondary-shade-2)}.c-secondary-shade-3.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-secondary-shade-3)}.c-secondary-shade-4.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-secondary-shade-4)}.c-secondary-shade-5.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-secondary-shade-5)}.c-secondary-contrast.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-secondary-contrast)}.c-wrong-tint-5.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-wrong-tint-5)}.c-wrong-tint-4.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-wrong-tint-4)}.c-wrong-tint-3.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-wrong-tint-3)}.c-wrong-tint-2.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-wrong-tint-2)}.c-wrong-tint-1.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-wrong-tint-1)}.c-wrong.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-wrong)}.c-wrong-shade-1.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-wrong-shade-1)}.c-wrong-shade-2.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-wrong-shade-2)}.c-wrong-shade-3.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-wrong-shade-3)}.c-wrong-shade-4.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-wrong-shade-4)}.c-wrong-shade-5.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-wrong-shade-5)}.c-wrong-contrast.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-wrong-contrast)}.c-attention-tint-5.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-attention-tint-5)}.c-attention-tint-4.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-attention-tint-4)}.c-attention-tint-3.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-attention-tint-3)}.c-attention-tint-2.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-attention-tint-2)}.c-attention-tint-1.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-attention-tint-1)}.c-attention.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-attention)}.c-attention-shade-1.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-attention-shade-1)}.c-attention-shade-2.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-attention-shade-2)}.c-attention-shade-3.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-attention-shade-3)}.c-attention-shade-4.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-attention-shade-4)}.c-attention-shade-5.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-attention-shade-5)}.c-success-tint-5.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-success-tint-5)}.c-success-tint-4.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-success-tint-4)}.c-success-tint-3.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-success-tint-3)}.c-success-tint-2.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-success-tint-2)}.c-success-tint-1.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-success-tint-1)}.c-success.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-success)}.c-success-shade-1.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-success-shade-1)}.c-success-shade-2.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-success-shade-2)}.c-success-shade-3.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-success-shade-3)}.c-success-shade-4.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-success-shade-4)}.c-success-shade-5.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-success-shade-5)}.c-black.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-black)}.c-gray-10.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-gray-10)}.c-gray-9.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-gray-9)}.c-gray-8.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-gray-8)}.c-gray-7.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-gray-7)}.c-gray-6.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-gray-6)}.c-gray-5.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-gray-5)}.c-gray-4.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-gray-4)}.c-gray-3.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-gray-3)}.c-gray-2.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-gray-2)}.c-gray-1.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-gray-1)}.c-white.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-white)}.c-extra-1.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-extra-1)}.c-extra-2.sc-peculiar-certificate-decoder{--pv-color-base:var(--pv-color-extra-2)}.typography.sc-peculiar-certificate-decoder{color:var(--pv-color-base)}.button.sc-peculiar-certificate-decoder{display:-ms-inline-flexbox;display:inline-flex;cursor:pointer;background:transparent;border:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;text-decoration:none;outline:none;font-family:inherit;border-radius:4px;height:var(--pv-size-base-6);min-width:var(--pv-size-base-6);padding:0 var(--pv-size-base-2);-webkit-transition:background-color 200ms ease 0s;transition:background-color 200ms ease 0s;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;gap:var(--pv-size-base-2);font-size:0}.button.m_no_padding.sc-peculiar-certificate-decoder{padding:0}.button.sc-peculiar-certificate-decoder:hover{background-color:var(--pv-color-gray-3)}.button.sc-peculiar-certificate-decoder:focus{background-color:var(--pv-color-gray-4)}.button.sc-peculiar-certificate-decoder:active{background-color:var(--pv-color-gray-5)}.sc-peculiar-certificate-decoder-h{display:block;width:100%}.textarea.sc-peculiar-certificate-decoder{min-height:300px;width:100%;border-radius:4px;border:1px solid var(--pv-color-gray-5);padding:14px;font-family:monospace;resize:vertical}.controls.sc-peculiar-certificate-decoder{margin-top:var(--pv-size-base-2);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:var(--pv-size-base-2);margin-bottom:var(--pv-size-base-12)}.control_row.sc-peculiar-certificate-decoder{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:var(--pv-size-base)}.tab-control.sc-peculiar-certificate-decoder{border-width:0px 0px 3px;padding:var(--pv-size-base-3);cursor:pointer;border-style:solid;border-color:transparent}.tab-control.sc-peculiar-certificate-decoder:hover{background-color:var(--pv-color-secondary-tint-5)}.tabs-container.sc-peculiar-certificate-decoder{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.tabs-container.sc-peculiar-certificate-decoder input[type=radio].sc-peculiar-certificate-decoder{display:none}.tabs-container.sc-peculiar-certificate-decoder input[type=radio].sc-peculiar-certificate-decoder:checked+.tab-control.sc-peculiar-certificate-decoder{border-color:var(--pv-color-secondary)}.tabs-container.sc-peculiar-certificate-decoder input[type=radio].sc-peculiar-certificate-decoder:not(:checked)+.tab-control.sc-peculiar-certificate-decoder+.tab-content.sc-peculiar-certificate-decoder{display:none}.tab-content.sc-peculiar-certificate-decoder{-ms-flex-order:99;order:99;width:100%;display:block;border-top:1px solid var(--pv-color-gray-4)}";const f=v;const h=/-----BEGIN [^-]+-----([A-Za-z0-9+/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+/=\s]+)====/;const b=class{constructor(r){e(this,r);this.successParse=c(this,"successParse",7);this.clearCertificate=c(this,"clearCertificate",7);this.handleClickDecode=()=>{const{value:e}=this.inputPaste;if(e){const c=[...e.matchAll(new RegExp(h,"g"))];const r=c.map((e=>e[0].trim()));if(r.length){this.decode(r)}else{this.decode([e])}}};this.handleClickClear=()=>{this.clearValue()};this.handleChangeInputFile=async e=>{const c=e.target;if(c.files){const e=await i(c.files[0]);if(typeof e.value==="string"){this.decode([e.value])}c.value=""}};this.handleChangeExample=e=>{if(e.target.value){this.decode([e.target.value])}else{this.clearValue()}};this.handleDropFile=async e=>{e.stopPropagation();e.preventDefault();const c=e.dataTransfer;if(c.files){const e=await i(c.files[0]);if(typeof e.value==="string"){this.decode([e.value])}}};this.certificateExamples=undefined;this.certificatesToDecode=undefined;this.certificatesDecoded=undefined}componentDidLoad(){if(this.certificatesToDecode){setTimeout((()=>this.decode(this.certificatesToDecode)),100)}}clearValue(){this.inputPaste.value="";this.certificatesDecoded=null;this.clearCertificate.emit()}setValue(e){this.certificatesDecoded=e;this.inputPaste.value=e.map((e=>e.body.toString("pem"))).join("\n");this.successParse.emit(e.map((e=>e.body.toString("base64url"))))}decode(e){Promise.all(e.map((e=>new Promise((c=>{c(new o(e))})).catch((()=>new s(e))).catch((()=>new n(e))).catch((()=>new p(e))).catch((c=>{console.log(c);alert(`Error decoding certificate:\n"${e}"\n\nPlease try to use Certificate/AttributeCertificate/CertificateRequest/CRL.`)}))))).then((e=>{this.setValue(e.filter((e=>e)).map((e=>({name:e.commonName,body:e}))))}))}static renderCertificateBody(e){if(e instanceof o){return r("peculiar-certificate-viewer",{certificate:e,download:true})}if(e instanceof s){return r("peculiar-attribute-certificate-viewer",{certificate:e,download:true})}if(e instanceof n){return r("peculiar-csr-viewer",{certificate:e,download:true})}if(e instanceof p){return r("peculiar-crl-viewer",{certificate:e,download:true})}return null}renderCertificates(){var e;if(!((e=this.certificatesDecoded)===null||e===void 0?void 0:e.length)){return null}if(this.certificatesDecoded.length===1){return b.renderCertificateBody(this.certificatesDecoded[0].body)}return r("div",{class:"tabs-container"},this.certificatesDecoded.map(((e,c)=>r(t,null,r("input",{type:"radio",id:`tab-${c}`,name:"cert-tabs",checked:c===0}),r(l,{variant:"s2",component:"label",htmlFor:`tab-${c}`,class:"tab-control",color:"black"},e.name),r("div",{class:"tab-content"},b.renderCertificateBody(e.body))))))}render(){var e;return r(a,{key:"42ad43482db45462a9b3b34d54d6d19db8c5024d"},r("textarea",{key:"d0e7710d3efa5b3bdc12375abef77f83f2ebaea0",placeholder:"Certificate DER or PEM",class:"textarea t-b2 c-black",ref:e=>{this.inputPaste=e},onDrop:this.handleDropFile}),r("div",{key:"e0f8228a082eb5c34685672bfb682a7bfc2dbd1c",class:"controls"},r("div",{key:"6e55e97e21f6e0eaaa5981e3be0b8edcd86882f1",class:"control_row"},r(l,{key:"a71ab2e3019e853cabfc6f4d42b8b57027221283",variant:"b3",color:"secondary-tint-2"},"Drag or load file:"),r("input",{key:"bae1b2376d99493f2f83b42b6fc14fe03c117013",type:"file",accept:"application/pkix-cert,application/x-x509-ca-cert,application/x-x509-user-cert,application/pkcs10,application/pkix-crl,.csr,.req,.crl",onChange:this.handleChangeInputFile,value:""})),((e=this.certificateExamples)===null||e===void 0?void 0:e.length)&&r("div",{class:"control_row"},r(l,{variant:"b3",color:"secondary-tint-2"},"Load examples:"),r("select",{onChange:this.handleChangeExample},r("option",{value:""},"None"),this.certificateExamples.map((e=>r("option",{value:e.value},e.title))))),r("div",{key:"b4be41330bc260eda729b65fe7206912f752eeca",class:"control_row"},r(d,{key:"eb030b7c2f8b3e8bafb894d00c4382106a548ee8",onClick:this.handleClickDecode},"Decode"),r(d,{key:"2baa2d02163229aeab1c3e71e3f525faeaf75f0a",onClick:this.handleClickClear},"Clear"))),this.renderCertificates())}};b.style=f;export{b as peculiar_certificate_decoder};
//# sourceMappingURL=p-d8804a32.entry.js.map