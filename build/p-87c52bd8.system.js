var __extends=this&&this.__extends||function(){var t=function(e,r){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]};return t(e,r)};return function(e,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]}return t};return __assign.apply(this,arguments)};var __rest=this&&this.__rest||function(t,e){var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0)r[n]=t[n];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++){if(e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i]))r[n[i]]=t[n[i]]}return r};
/*!
 * Â© Peculiar Ventures https://peculiarventures.com/ - MIT License
 */System.register([],(function(t){"use strict";return{execute:function(){t({$:_r,G:void 0,H:Pe,J:wr,M:mr,U:void 0,X:Sr,a2:y,d:e,x:at,y:br});
/**
       * @license
       * Copyright (c) Peculiar Ventures, LLC.
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE file in the root directory of this source tree.
       */function e(t,e,r,n){if(n===void 0){n="application/octet-stream"}var i=new Blob([t],{type:n});if(navigator.msSaveBlob){navigator.msSaveBlob(i,"".concat(e,".").concat(r));return new Promise((function(t){setTimeout(t,100)}))}var o=window.URL.createObjectURL(i);var a=document.createElement("a");var s=document.createElement("iframe");a.style.display="none";s.style.display="none";s.name=o;document.body.appendChild(s);a.href=o;a.target=o;a.download="".concat(e,".").concat(r);document.body.appendChild(a);a.dispatchEvent(new MouseEvent("click"));document.body.removeChild(a);return new Promise((function(t){setTimeout((function(){document.body.removeChild(s);t()}),100)}))}
/*!
       * MIT License
       *
       * Copyright (c) 2017-2022 Peculiar Ventures, LLC
       *
       * Permission is hereby granted, free of charge, to any person obtaining a copy
       * of this software and associated documentation files (the "Software"), to deal
       * in the Software without restriction, including without limitation the rights
       * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
       * copies of the Software, and to permit persons to whom the Software is
       * furnished to do so, subject to the following conditions:
       *
       * The above copyright notice and this permission notice shall be included in all
       * copies or substantial portions of the Software.
       *
       * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
       * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
       * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
       * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
       * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
       * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
       * SOFTWARE.
       *
       */var r="[object ArrayBuffer]";var n=function(){function t(){}t.isArrayBuffer=function(t){return Object.prototype.toString.call(t)===r};t.toArrayBuffer=function(t){if(this.isArrayBuffer(t)){return t}if(t.byteLength===t.buffer.byteLength){return t.buffer}if(t.byteOffset===0&&t.byteLength===t.buffer.byteLength){return t.buffer}return this.toUint8Array(t.buffer).slice(t.byteOffset,t.byteOffset+t.byteLength).buffer};t.toUint8Array=function(t){return this.toView(t,Uint8Array)};t.toView=function(t,e){if(t.constructor===e){return t}if(this.isArrayBuffer(t)){return new e(t)}if(this.isArrayBufferView(t)){return new e(t.buffer,t.byteOffset,t.byteLength)}throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")};t.isBufferSource=function(t){return this.isArrayBufferView(t)||this.isArrayBuffer(t)};t.isArrayBufferView=function(t){return ArrayBuffer.isView(t)||t&&this.isArrayBuffer(t.buffer)};t.isEqual=function(e,r){var n=t.toUint8Array(e);var i=t.toUint8Array(r);if(n.length!==i.byteLength){return false}for(var o=0;o<n.length;o++){if(n[o]!==i[o]){return false}}return true};t.concat=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}var r;if(Array.isArray(t[0])&&!(t[1]instanceof Function)){r=t[0]}else if(Array.isArray(t[0])&&t[1]instanceof Function){r=t[0]}else{if(t[t.length-1]instanceof Function){r=t.slice(0,t.length-1)}else{r=t}}var n=0;for(var i=0,o=r;i<o.length;i++){var a=o[i];n+=a.byteLength}var s=new Uint8Array(n);var u=0;for(var c=0,l=r;c<l.length;c++){var a=l[c];var f=this.toUint8Array(a);s.set(f,u);u+=f.length}if(t[t.length-1]instanceof Function){return this.toView(s,t[t.length-1])}return s.buffer};return t}();var i="string";var o=/^[0-9a-f]+$/i;var a=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/;var s=/^[a-zA-Z0-9-_]+$/;var u=function(){function t(){}t.fromString=function(t){var e=unescape(encodeURIComponent(t));var r=new Uint8Array(e.length);for(var n=0;n<e.length;n++){r[n]=e.charCodeAt(n)}return r.buffer};t.toString=function(t){var e=n.toUint8Array(t);var r="";for(var i=0;i<e.length;i++){r+=String.fromCharCode(e[i])}var o=decodeURIComponent(escape(r));return o};return t}();var c=function(){function t(){}t.toString=function(t,e){if(e===void 0){e=false}var r=n.toArrayBuffer(t);var i=new DataView(r);var o="";for(var a=0;a<r.byteLength;a+=2){var s=i.getUint16(a,e);o+=String.fromCharCode(s)}return o};t.fromString=function(t,e){if(e===void 0){e=false}var r=new ArrayBuffer(t.length*2);var n=new DataView(r);for(var i=0;i<t.length;i++){n.setUint16(i*2,t.charCodeAt(i),e)}return r};return t}();var l=function(){function t(){}t.isHex=function(t){return typeof t===i&&o.test(t)};t.isBase64=function(t){return typeof t===i&&a.test(t)};t.isBase64Url=function(t){return typeof t===i&&s.test(t)};t.ToString=function(t,e){if(e===void 0){e="utf8"}var r=n.toUint8Array(t);switch(e.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return c.toString(r,true);case"utf16":case"utf16be":return c.toString(r);default:throw new Error("Unknown type of encoding '".concat(e,"'"))}};t.FromString=function(t,e){if(e===void 0){e="utf8"}if(!t){return new ArrayBuffer(0)}switch(e.toLowerCase()){case"utf8":return this.FromUtf8String(t);case"binary":return this.FromBinary(t);case"hex":return this.FromHex(t);case"base64":return this.FromBase64(t);case"base64url":return this.FromBase64Url(t);case"utf16le":return c.fromString(t,true);case"utf16":case"utf16be":return c.fromString(t);default:throw new Error("Unknown type of encoding '".concat(e,"'"))}};t.ToBase64=function(t){var e=n.toUint8Array(t);if(typeof btoa!=="undefined"){var r=this.ToString(e,"binary");return btoa(r)}else{return Buffer.from(e).toString("base64")}};t.FromBase64=function(e){var r=this.formatString(e);if(!r){return new ArrayBuffer(0)}if(!t.isBase64(r)){throw new TypeError("Argument 'base64Text' is not Base64 encoded")}if(typeof atob!=="undefined"){return this.FromBinary(atob(r))}else{return new Uint8Array(Buffer.from(r,"base64")).buffer}};t.FromBase64Url=function(e){var r=this.formatString(e);if(!r){return new ArrayBuffer(0)}if(!t.isBase64Url(r)){throw new TypeError("Argument 'base64url' is not Base64Url encoded")}return this.FromBase64(this.Base64Padding(r.replace(/\-/g,"+").replace(/\_/g,"/")))};t.ToBase64Url=function(t){return this.ToBase64(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")};t.FromUtf8String=function(e,r){if(r===void 0){r=t.DEFAULT_UTF8_ENCODING}switch(r){case"ascii":return this.FromBinary(e);case"utf8":return u.fromString(e);case"utf16":case"utf16be":return c.fromString(e);case"utf16le":case"usc2":return c.fromString(e,true);default:throw new Error("Unknown type of encoding '".concat(r,"'"))}};t.ToUtf8String=function(e,r){if(r===void 0){r=t.DEFAULT_UTF8_ENCODING}switch(r){case"ascii":return this.ToBinary(e);case"utf8":return u.toString(e);case"utf16":case"utf16be":return c.toString(e);case"utf16le":case"usc2":return c.toString(e,true);default:throw new Error("Unknown type of encoding '".concat(r,"'"))}};t.FromBinary=function(t){var e=t.length;var r=new Uint8Array(e);for(var n=0;n<e;n++){r[n]=t.charCodeAt(n)}return r.buffer};t.ToBinary=function(t){var e=n.toUint8Array(t);var r="";for(var i=0;i<e.length;i++){r+=String.fromCharCode(e[i])}return r};t.ToHex=function(t){var e=n.toUint8Array(t);var r="";var i=e.length;for(var o=0;o<i;o++){var a=e[o];if(a<16){r+="0"}r+=a.toString(16)}return r};t.FromHex=function(e){var r=this.formatString(e);if(!r){return new ArrayBuffer(0)}if(!t.isHex(r)){throw new TypeError("Argument 'hexString' is not HEX encoded")}if(r.length%2){r="0".concat(r)}var n=new Uint8Array(r.length/2);for(var i=0;i<r.length;i=i+2){var o=r.slice(i,i+2);n[i/2]=parseInt(o,16)}return n.buffer};t.ToUtf16String=function(t,e){if(e===void 0){e=false}return c.toString(t,e)};t.FromUtf16String=function(t,e){if(e===void 0){e=false}return c.fromString(t,e)};t.Base64Padding=function(t){var e=4-t.length%4;if(e<4){for(var r=0;r<e;r++){t+="="}}return t};t.formatString=function(t){return(t===null||t===void 0?void 0:t.replace(/[\n\r\t ]/g,""))||""};return t}();l.DEFAULT_UTF8_ENCODING="utf8";function f(t,e){if(!(t&&e)){return false}if(t.byteLength!==e.byteLength){return false}var r=new Uint8Array(t);var n=new Uint8Array(e);for(var i=0;i<t.byteLength;i++){if(r[i]!==n[i]){return false}}return true}var p=t("_",n);var v=t("ad",l);var h=f;
/**
       * @license
       * Copyright (c) Peculiar Ventures, LLC.
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE file in the root directory of this source tree.
       */var d=function(){function t(){}return t}();t("D",d);d.cert={asPEM:function(t,r){e(v.FromString(t),r,"cer","application/pkix-cert")},asDER:function(t,r){e(v.FromString(t),r,"cer","application/pkix-cert")}};d.attrCert={asPEM:function(t,r){e(v.FromString(t),r,"cer","application/pkix-attr-cert")},asDER:function(t,r){e(v.FromString(t),r,"cer","application/pkix-attr-cert")}};d.csr={asPEM:function(t,r){e(v.FromString(t),r,"csr","application/pkcs10")},asDER:function(t,r){e(v.FromString(t),r,"csr","application/pkcs10")}};d.crl={asPEM:function(t,r){e(v.FromString(t),r,"crl","application/pkix-crl")},asDER:function(t,r){e(v.FromString(t),r,"crl","application/pkix-crl")}};function y(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)if(a=t[s])o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o;return i>3&&o&&Object.defineProperty(e,r,o),o}typeof SuppressedError==="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};
/*!
       Copyright (c) Peculiar Ventures, LLC
      */function g(t,e){var r=0;if(t.length===1){return t[0]}for(var n=t.length-1;n>=0;n--){r+=t[t.length-1-n]*Math.pow(2,e*n)}return r}function m(t,e,r){if(r===void 0){r=-1}var n=r;var i=t;var o=0;var a=Math.pow(2,e);for(var s=1;s<8;s++){if(t<a){var u=void 0;if(n<0){u=new ArrayBuffer(s);o=s}else{if(n<s){return new ArrayBuffer(0)}u=new ArrayBuffer(n);o=n}var c=new Uint8Array(u);for(var l=s-1;l>=0;l--){var f=Math.pow(2,l*e);c[o-l-1]=Math.floor(i/f);i-=c[o-l-1]*f}return u}a*=Math.pow(2,e)}return new ArrayBuffer(0)}function b(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}var r=0;var n=0;for(var i=0,o=t;i<o.length;i++){var a=o[i];r+=a.length}var s=new ArrayBuffer(r);var u=new Uint8Array(s);for(var c=0,l=t;c<l.length;c++){var a=l[c];u.set(a,n);n+=a.length}return u}function w(){var t=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){var e=t[0]===255&&t[1]&128;var r=t[0]===0&&(t[1]&128)===0;if(e||r){this.warnings.push("Needlessly long format")}}var n=new ArrayBuffer(this.valueHex.byteLength);var i=new Uint8Array(n);for(var o=0;o<this.valueHex.byteLength;o++){i[o]=0}i[0]=t[0]&128;var a=g(i,8);var s=new ArrayBuffer(this.valueHex.byteLength);var u=new Uint8Array(s);for(var c=0;c<this.valueHex.byteLength;c++){u[c]=t[c]}u[0]&=127;var l=g(u,8);return l-a}function S(t){var e=t<0?t*-1:t;var r=128;for(var n=1;n<8;n++){if(e<=r){if(t<0){var i=r-e;var o=m(i,8,n);var a=new Uint8Array(o);a[0]|=128;return o}var s=m(e,8,n);var u=new Uint8Array(s);if(u[0]&128){var c=s.slice(0);var l=new Uint8Array(c);s=new ArrayBuffer(s.byteLength+1);u=new Uint8Array(s);for(var f=0;f<c.byteLength;f++){u[f+1]=l[f]}u[0]=0}return s}r*=Math.pow(2,8)}return new ArrayBuffer(0)}function B(t,e){if(t.byteLength!==e.byteLength){return false}var r=new Uint8Array(t);var n=new Uint8Array(e);for(var i=0;i<r.length;i++){if(r[i]!==n[i]){return false}}return true}function k(t,e){var r=t.toString(10);if(e<r.length){return""}var n=e-r.length;var i=new Array(n);for(var o=0;o<n;o++){i[o]="0"}var a=i.join("");return a.concat(r)}
/*!
       * Copyright (c) 2014, GMO GlobalSign
       * Copyright (c) 2015-2022, Peculiar Ventures
       * All rights reserved.
       *
       * Author 2014-2019, Yury Strozhevsky
       *
       * Redistribution and use in source and binary forms, with or without modification,
       * are permitted provided that the following conditions are met:
       *
       * * Redistributions of source code must retain the above copyright notice, this
       *   list of conditions and the following disclaimer.
       *
       * * Redistributions in binary form must reproduce the above copyright notice, this
       *   list of conditions and the following disclaimer in the documentation and/or
       *   other materials provided with the distribution.
       *
       * * Neither the name of the copyright holder nor the names of its
       *   contributors may be used to endorse or promote products derived from
       *   this software without specific prior written permission.
       *
       * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
       * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
       * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
       * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
       * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
       * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
       * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
       * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
       * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
       * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
       *
       */function A(){if(typeof BigInt==="undefined"){throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}}function x(t){var e=0;var r=0;for(var n=0;n<t.length;n++){var i=t[n];e+=i.byteLength}var o=new Uint8Array(e);for(var n=0;n<t.length;n++){var i=t[n];o.set(new Uint8Array(i),r);r+=i.byteLength}return o.buffer}function I(t,e,r,n){if(!(e instanceof Uint8Array)){t.error="Wrong parameter: inputBuffer must be 'Uint8Array'";return false}if(!e.byteLength){t.error="Wrong parameter: inputBuffer has zero length";return false}if(r<0){t.error="Wrong parameter: inputOffset less than zero";return false}if(n<0){t.error="Wrong parameter: inputLength less than zero";return false}if(e.byteLength-r-n<0){t.error="End of input reached before message was fully decoded (inconsistent offset and length values)";return false}return true}var O=function(){function t(){this.items=[]}t.prototype.write=function(t){this.items.push(t)};t.prototype.final=function(){return x(this.items)};return t}();var _=[new Uint8Array([1])];var N="0123456789";var E="name";var C="valueHexView";var U="isHexOnly";var T="idBlock";var V="tagClass";var L="tagNumber";var j="isConstructed";var H="fromBER";var D="toBER";var R="local";var P="";var M=new ArrayBuffer(0);var F=new Uint8Array(0);var q="EndOfContent";var J="OCTET STRING";var z="BIT STRING";function G(t){var e;return e=function(t){__extends(e,t);function e(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var n=this;var i;n=t.apply(this,e)||this;var o=e[0]||{};n.isHexOnly=(i=o.isHexOnly)!==null&&i!==void 0?i:false;n.valueHexView=o.valueHex?p.toUint8Array(o.valueHex):F;return n}Object.defineProperty(e.prototype,"valueHex",{get:function(){return this.valueHexView.slice().buffer},set:function(t){this.valueHexView=new Uint8Array(t)},enumerable:false,configurable:true});e.prototype.fromBER=function(t,e,r){var n=t instanceof ArrayBuffer?new Uint8Array(t):t;if(!I(this,n,e,r)){return-1}var i=e+r;this.valueHexView=n.subarray(e,i);if(!this.valueHexView.length){this.warnings.push("Zero buffer length");return e}this.blockLength=r;return i};e.prototype.toBER=function(t){if(t===void 0){t=false}if(!this.isHexOnly){this.error="Flag 'isHexOnly' is not set, abort";return M}if(t){return new ArrayBuffer(this.valueHexView.byteLength)}return this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer};e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{isHexOnly:this.isHexOnly,valueHex:v.ToHex(this.valueHexView)})};return e}(t),e.NAME="hexBlock",e}var W=function(){function t(t){var e=t===void 0?{}:t,r=e.blockLength,n=r===void 0?0:r,i=e.error,o=i===void 0?P:i,a=e.warnings,s=a===void 0?[]:a,u=e.valueBeforeDecode,c=u===void 0?F:u;this.blockLength=n;this.error=o;this.warnings=s;this.valueBeforeDecodeView=p.toUint8Array(c)}t.blockName=function(){return this.NAME};Object.defineProperty(t.prototype,"valueBeforeDecode",{get:function(){return this.valueBeforeDecodeView.slice().buffer},set:function(t){this.valueBeforeDecodeView=new Uint8Array(t)},enumerable:false,configurable:true});t.prototype.toJSON=function(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:v.ToHex(this.valueBeforeDecodeView)}};return t}();W.NAME="baseBlock";var $=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.fromBER=function(t,e,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")};e.prototype.toBER=function(t,e){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")};return e}(W);$.NAME="valueBlock";var K=function(t){__extends(e,t);function e(e){var r=e===void 0?{}:e,n=r.idBlock,i=n===void 0?{}:n;var o=this;var a,s,u,c;o=t.call(this)||this;if(i){o.isHexOnly=(a=i.isHexOnly)!==null&&a!==void 0?a:false;o.valueHexView=i.valueHex?p.toUint8Array(i.valueHex):F;o.tagClass=(s=i.tagClass)!==null&&s!==void 0?s:-1;o.tagNumber=(u=i.tagNumber)!==null&&u!==void 0?u:-1;o.isConstructed=(c=i.isConstructed)!==null&&c!==void 0?c:false}else{o.tagClass=-1;o.tagNumber=-1;o.isConstructed=false}return o}e.prototype.toBER=function(t){if(t===void 0){t=false}var e=0;switch(this.tagClass){case 1:e|=0;break;case 2:e|=64;break;case 3:e|=128;break;case 4:e|=192;break;default:this.error="Unknown tag class";return M}if(this.isConstructed)e|=32;if(this.tagNumber<31&&!this.isHexOnly){var r=new Uint8Array(1);if(!t){var n=this.tagNumber;n&=31;e|=n;r[0]=e}return r.buffer}if(!this.isHexOnly){var i=m(this.tagNumber,7);var o=new Uint8Array(i);var a=i.byteLength;var s=new Uint8Array(a+1);s[0]=e|31;if(!t){for(var u=0;u<a-1;u++)s[u+1]=o[u]|128;s[a]=o[a-1]}return s.buffer}var c=new Uint8Array(this.valueHexView.byteLength+1);c[0]=e|31;if(!t){var l=this.valueHexView;for(var u=0;u<l.length-1;u++)c[u+1]=l[u]|128;c[this.valueHexView.byteLength]=l[l.length-1]}return c.buffer};e.prototype.fromBER=function(t,e,r){var n=p.toUint8Array(t);if(!I(this,n,e,r)){return-1}var i=n.subarray(e,e+r);if(i.length===0){this.error="Zero buffer length";return-1}var o=i[0]&192;switch(o){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:this.error="Unknown tag class";return-1}this.isConstructed=(i[0]&32)===32;this.isHexOnly=false;var a=i[0]&31;if(a!==31){this.tagNumber=a;this.blockLength=1}else{var s=1;var u=this.valueHexView=new Uint8Array(255);var c=255;while(i[s]&128){u[s-1]=i[s]&127;s++;if(s>=i.length){this.error="End of input reached before message was fully decoded";return-1}if(s===c){c+=255;var l=new Uint8Array(c);for(var f=0;f<u.length;f++)l[f]=u[f];u=this.valueHexView=new Uint8Array(c)}}this.blockLength=s+1;u[s-1]=i[s]&127;var v=new Uint8Array(s);for(var f=0;f<s;f++)v[f]=u[f];u=this.valueHexView=new Uint8Array(s);u.set(v);if(this.blockLength<=9)this.tagNumber=g(u,7);else{this.isHexOnly=true;this.warnings.push("Tag too long, represented as hex-coded")}}if(this.tagClass===1&&this.isConstructed){switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:this.error="Constructed encoding used for primitive type";return-1}}return e+this.blockLength};e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed})};return e}(G(W));K.NAME="identificationBlock";var Z=function(t){__extends(e,t);function e(e){var r=e===void 0?{}:e,n=r.lenBlock,i=n===void 0?{}:n;var o=this;var a,s,u;o=t.call(this)||this;o.isIndefiniteForm=(a=i.isIndefiniteForm)!==null&&a!==void 0?a:false;o.longFormUsed=(s=i.longFormUsed)!==null&&s!==void 0?s:false;o.length=(u=i.length)!==null&&u!==void 0?u:0;return o}e.prototype.fromBER=function(t,e,r){var n=p.toUint8Array(t);if(!I(this,n,e,r)){return-1}var i=n.subarray(e,e+r);if(i.length===0){this.error="Zero buffer length";return-1}if(i[0]===255){this.error="Length block 0xFF is reserved by standard";return-1}this.isIndefiniteForm=i[0]===128;if(this.isIndefiniteForm){this.blockLength=1;return e+this.blockLength}this.longFormUsed=!!(i[0]&128);if(this.longFormUsed===false){this.length=i[0];this.blockLength=1;return e+this.blockLength}var o=i[0]&127;if(o>8){this.error="Too big integer";return-1}if(o+1>i.length){this.error="End of input reached before message was fully decoded";return-1}var a=e+1;var s=n.subarray(a,a+o);if(s[o-1]===0)this.warnings.push("Needlessly long encoded length");this.length=g(s,8);if(this.longFormUsed&&this.length<=127)this.warnings.push("Unnecessary usage of long length form");this.blockLength=o+1;return e+this.blockLength};e.prototype.toBER=function(t){if(t===void 0){t=false}var e;var r;if(this.length>127)this.longFormUsed=true;if(this.isIndefiniteForm){e=new ArrayBuffer(1);if(t===false){r=new Uint8Array(e);r[0]=128}return e}if(this.longFormUsed){var n=m(this.length,8);if(n.byteLength>127){this.error="Too big length";return M}e=new ArrayBuffer(n.byteLength+1);if(t)return e;var i=new Uint8Array(n);r=new Uint8Array(e);r[0]=n.byteLength|128;for(var o=0;o<n.byteLength;o++)r[o+1]=i[o];return e}e=new ArrayBuffer(1);if(t===false){r=new Uint8Array(e);r[0]=this.length}return e};e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length})};return e}(W);Z.NAME="lengthBlock";var Y={};var X=function(t){__extends(e,t);function e(e,r){if(e===void 0){e={}}var n=this;var i=e.name,o=i===void 0?P:i,a=e.optional,s=a===void 0?false:a,u=e.primitiveSchema,c=__rest(e,["name","optional","primitiveSchema"]);n=t.call(this,c)||this;n.name=o;n.optional=s;if(u){n.primitiveSchema=u}n.idBlock=new K(c);n.lenBlock=new Z(c);n.valueBlock=r?new r(c):new $(c);return n}e.prototype.fromBER=function(t,e,r){var n=this.valueBlock.fromBER(t,e,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);if(n===-1){this.error=this.valueBlock.error;return n}if(!this.idBlock.error.length)this.blockLength+=this.idBlock.blockLength;if(!this.lenBlock.error.length)this.blockLength+=this.lenBlock.blockLength;if(!this.valueBlock.error.length)this.blockLength+=this.valueBlock.blockLength;return n};e.prototype.toBER=function(t,e){var r=e||new O;if(!e){Q(this)}var n=this.idBlock.toBER(t);r.write(n);if(this.lenBlock.isIndefiniteForm){r.write(new Uint8Array([128]).buffer);this.valueBlock.toBER(t,r);r.write(new ArrayBuffer(2))}else{var i=this.valueBlock.toBER(t);this.lenBlock.length=i.byteLength;var o=this.lenBlock.toBER(t);r.write(o);r.write(i)}if(!e){return r.final()}return M};e.prototype.toJSON=function(){var e=__assign(__assign({},t.prototype.toJSON.call(this)),{idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional});if(this.primitiveSchema)e.primitiveSchema=this.primitiveSchema.toJSON();return e};e.prototype.toString=function(t){if(t===void 0){t="ascii"}if(t==="ascii"){return this.onAsciiEncoding()}return v.ToHex(this.toBER())};e.prototype.onAsciiEncoding=function(){return"".concat(this.constructor.NAME," : ").concat(v.ToHex(this.valueBlock.valueBeforeDecodeView))};e.prototype.isEqual=function(t){if(this===t){return true}if(!(t instanceof this.constructor)){return false}var e=this.toBER();var r=t.toBER();return B(e,r)};return e}(W);t("W",X);X.NAME="BaseBlock";function Q(t){if(t instanceof Y.Constructed){for(var e=0,r=t.valueBlock.value;e<r.length;e++){var n=r[e];if(Q(n)){t.lenBlock.isIndefiniteForm=true}}}return!!t.lenBlock.isIndefiniteForm}var tt=function(t){__extends(e,t);function e(e,r){if(e===void 0){e={}}var n=this;var i=e.value,o=i===void 0?P:i,a=__rest(e,["value"]);n=t.call(this,a,r)||this;if(o){n.fromString(o)}return n}e.prototype.getValue=function(){return this.valueBlock.value};e.prototype.setValue=function(t){this.valueBlock.value=t};e.prototype.fromBER=function(t,e,r){var n=this.valueBlock.fromBER(t,e,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);if(n===-1){this.error=this.valueBlock.error;return n}this.fromBuffer(this.valueBlock.valueHexView);if(!this.idBlock.error.length)this.blockLength+=this.idBlock.blockLength;if(!this.lenBlock.error.length)this.blockLength+=this.lenBlock.blockLength;if(!this.valueBlock.error.length)this.blockLength+=this.valueBlock.blockLength;return n};e.prototype.onAsciiEncoding=function(){return"".concat(this.constructor.NAME," : '").concat(this.valueBlock.value,"'")};return e}(X);tt.NAME="BaseStringBlock";var et=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.isHexOnly,i=n===void 0?true:n,o=__rest(e,["isHexOnly"]);r=t.call(this,o)||this;r.isHexOnly=i;return r}return e}(G($));et.NAME="PrimitiveValueBlock";var rt;var nt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e,et)||this;r.idBlock.isConstructed=false;return r}return e}(X);t("Z",nt);rt=nt;(function(){Y.Primitive=rt})();nt.NAME="PRIMITIVE";function it(t,e){if(t instanceof e){return t}var r=new e;r.idBlock=t.idBlock;r.lenBlock=t.lenBlock;r.warnings=t.warnings;r.valueBeforeDecodeView=t.valueBeforeDecodeView;return r}function ot(t,e,r){if(e===void 0){e=0}if(r===void 0){r=t.length}var n=e;var i=new X({},$);var o=new W;if(!I(o,t,e,r)){i.error=o.error;return{offset:-1,result:i}}var a=t.subarray(e,e+r);if(!a.length){i.error="Zero buffer length";return{offset:-1,result:i}}var s=i.idBlock.fromBER(t,e,r);if(i.idBlock.warnings.length){i.warnings.concat(i.idBlock.warnings)}if(s===-1){i.error=i.idBlock.error;return{offset:-1,result:i}}e=s;r-=i.idBlock.blockLength;s=i.lenBlock.fromBER(t,e,r);if(i.lenBlock.warnings.length){i.warnings.concat(i.lenBlock.warnings)}if(s===-1){i.error=i.lenBlock.error;return{offset:-1,result:i}}e=s;r-=i.lenBlock.blockLength;if(!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm){i.error="Indefinite length form used for primitive encoding form";return{offset:-1,result:i}}var u=X;switch(i.idBlock.tagClass){case 1:if(i.idBlock.tagNumber>=37&&i.idBlock.isHexOnly===false){i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard";return{offset:-1,result:i}}switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0){i.error="Type [UNIVERSAL 0] is reserved";return{offset:-1,result:i}}u=Y.EndOfContent;break;case 1:u=Y.Boolean;break;case 2:u=Y.Integer;break;case 3:u=Y.BitString;break;case 4:u=Y.OctetString;break;case 5:u=Y.Null;break;case 6:u=Y.ObjectIdentifier;break;case 10:u=Y.Enumerated;break;case 12:u=Y.Utf8String;break;case 13:u=Y.RelativeObjectIdentifier;break;case 14:u=Y.TIME;break;case 15:i.error="[UNIVERSAL 15] is reserved by ASN.1 standard";return{offset:-1,result:i};case 16:u=Y.Sequence;break;case 17:u=Y.Set;break;case 18:u=Y.NumericString;break;case 19:u=Y.PrintableString;break;case 20:u=Y.TeletexString;break;case 21:u=Y.VideotexString;break;case 22:u=Y.IA5String;break;case 23:u=Y.UTCTime;break;case 24:u=Y.GeneralizedTime;break;case 25:u=Y.GraphicString;break;case 26:u=Y.VisibleString;break;case 27:u=Y.GeneralString;break;case 28:u=Y.UniversalString;break;case 29:u=Y.CharacterString;break;case 30:u=Y.BmpString;break;case 31:u=Y.DATE;break;case 32:u=Y.TimeOfDay;break;case 33:u=Y.DateTime;break;case 34:u=Y.Duration;break;default:{var c=i.idBlock.isConstructed?new Y.Constructed:new Y.Primitive;c.idBlock=i.idBlock;c.lenBlock=i.lenBlock;c.warnings=i.warnings;i=c}}break;case 2:case 3:case 4:default:{u=i.idBlock.isConstructed?Y.Constructed:Y.Primitive}}i=it(i,u);s=i.fromBER(t,e,i.lenBlock.isIndefiniteForm?r:i.lenBlock.length);i.valueBeforeDecodeView=t.subarray(n,n+i.blockLength);return{offset:s,result:i}}function at(t){if(!t.byteLength){var e=new X({},$);e.error="Input buffer has zero length";return{offset:-1,result:e}}return ot(p.toUint8Array(t).slice(),0,t.byteLength)}function st(t,e){if(t){return 1}return e}var ut=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.value,i=n===void 0?[]:n,o=e.isIndefiniteForm,a=o===void 0?false:o,s=__rest(e,["value","isIndefiniteForm"]);r=t.call(this,s)||this;r.value=i;r.isIndefiniteForm=a;return r}e.prototype.fromBER=function(t,e,r){var n=p.toUint8Array(t);if(!I(this,n,e,r)){return-1}this.valueBeforeDecodeView=n.subarray(e,e+r);if(this.valueBeforeDecodeView.length===0){this.warnings.push("Zero buffer length");return e}var i=e;while(st(this.isIndefiniteForm,r)>0){var o=ot(n,i,r);if(o.offset===-1){this.error=o.result.error;this.warnings.concat(o.result.warnings);return-1}i=o.offset;this.blockLength+=o.result.blockLength;r-=o.result.blockLength;this.value.push(o.result);if(this.isIndefiniteForm&&o.result.constructor.NAME===q){break}}if(this.isIndefiniteForm){if(this.value[this.value.length-1].constructor.NAME===q){this.value.pop()}else{this.warnings.push("No EndOfContent block encoded")}}return i};e.prototype.toBER=function(t,e){var r=e||new O;for(var n=0;n<this.value.length;n++){this.value[n].toBER(t,r)}if(!e){return r.final()}return M};e.prototype.toJSON=function(){var e=__assign(__assign({},t.prototype.toJSON.call(this)),{isIndefiniteForm:this.isIndefiniteForm,value:[]});for(var r=0,n=this.value;r<n.length;r++){var i=n[r];e.value.push(i.toJSON())}return e};return e}($);ut.NAME="ConstructedValueBlock";var ct;var lt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e,ut)||this;r.idBlock.isConstructed=true;return r}e.prototype.fromBER=function(t,e,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;var n=this.valueBlock.fromBER(t,e,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);if(n===-1){this.error=this.valueBlock.error;return n}if(!this.idBlock.error.length)this.blockLength+=this.idBlock.blockLength;if(!this.lenBlock.error.length)this.blockLength+=this.lenBlock.blockLength;if(!this.valueBlock.error.length)this.blockLength+=this.valueBlock.blockLength;return n};e.prototype.onAsciiEncoding=function(){var t=[];for(var e=0,r=this.valueBlock.value;e<r.length;e++){var n=r[e];t.push(n.toString("ascii").split("\n").map((function(t){return"  ".concat(t)})).join("\n"))}var i=this.idBlock.tagClass===3?"[".concat(this.idBlock.tagNumber,"]"):this.constructor.NAME;return t.length?"".concat(i," :\n").concat(t.join("\n")):"".concat(i," :")};return e}(X);t("F",lt);ct=lt;(function(){Y.Constructed=ct})();lt.NAME="CONSTRUCTED";var ft=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.fromBER=function(t,e,r){return e};e.prototype.toBER=function(t){return M};return e}($);ft.override="EndOfContentValueBlock";var pt;var vt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e,ft)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=0;return r}return e}(X);pt=vt;(function(){Y.EndOfContent=pt})();vt.NAME=q;var ht;var dt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e,$)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=5;return r}e.prototype.fromBER=function(t,e,r){if(this.lenBlock.length>0)this.warnings.push("Non-zero length of value block for Null type");if(!this.idBlock.error.length)this.blockLength+=this.idBlock.blockLength;if(!this.lenBlock.error.length)this.blockLength+=this.lenBlock.blockLength;this.blockLength+=r;if(e+r>t.byteLength){this.error="End of input reached before message was fully decoded (inconsistent offset and length values)";return-1}return e+r};e.prototype.toBER=function(t,e){var r=new ArrayBuffer(2);if(!t){var n=new Uint8Array(r);n[0]=5;n[1]=0}if(e){e.write(r)}return r};e.prototype.onAsciiEncoding=function(){return"".concat(this.constructor.NAME)};return e}(X);t("Y",dt);ht=dt;(function(){Y.Null=ht})();dt.NAME="NULL";var yt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.value,i=__rest(e,["value"]);r=t.call(this,i)||this;if(i.valueHex){r.valueHexView=p.toUint8Array(i.valueHex)}else{r.valueHexView=new Uint8Array(1)}if(n){r.value=n}return r}Object.defineProperty(e.prototype,"value",{get:function(){for(var t=0,e=this.valueHexView;t<e.length;t++){var r=e[t];if(r>0){return true}}return false},set:function(t){this.valueHexView[0]=t?255:0},enumerable:false,configurable:true});e.prototype.fromBER=function(t,e,r){var n=p.toUint8Array(t);if(!I(this,n,e,r)){return-1}this.valueHexView=n.subarray(e,e+r);if(r>1)this.warnings.push("Boolean value encoded in more then 1 octet");this.isHexOnly=true;w.call(this);this.blockLength=r;return e+r};e.prototype.toBER=function(){return this.valueHexView.slice()};e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{value:this.value})};return e}(G($));yt.NAME="BooleanValueBlock";var gt;var mt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e,yt)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=1;return r}e.prototype.getValue=function(){return this.valueBlock.value};e.prototype.setValue=function(t){this.valueBlock.value=t};e.prototype.onAsciiEncoding=function(){return"".concat(this.constructor.NAME," : ").concat(this.getValue)};return e}(X);gt=mt;(function(){Y.Boolean=gt})();mt.NAME="BOOLEAN";var bt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.isConstructed,i=n===void 0?false:n,o=__rest(e,["isConstructed"]);r=t.call(this,o)||this;r.isConstructed=i;return r}e.prototype.fromBER=function(e,r,n){var i=0;if(this.isConstructed){this.isHexOnly=false;i=ut.prototype.fromBER.call(this,e,r,n);if(i===-1)return i;for(var o=0;o<this.value.length;o++){var a=this.value[o].constructor.NAME;if(a===q){if(this.isIndefiniteForm)break;else{this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only";return-1}}if(a!==J){this.error="OCTET STRING may consists of OCTET STRINGs only";return-1}}}else{this.isHexOnly=true;i=t.prototype.fromBER.call(this,e,r,n);this.blockLength=n}return i};e.prototype.toBER=function(t,e){if(this.isConstructed)return ut.prototype.toBER.call(this,t,e);return t?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer};e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{isConstructed:this.isConstructed})};return e}(G(ut));bt.NAME="OctetStringValueBlock";var wt;var St=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.idBlock,i=n===void 0?{}:n,o=e.lenBlock,a=o===void 0?{}:o,s=__rest(e,["idBlock","lenBlock"]);var u,c;(u=s.isConstructed)!==null&&u!==void 0?u:s.isConstructed=!!((c=s.value)===null||c===void 0?void 0:c.length);r=t.call(this,__assign({idBlock:__assign({isConstructed:s.isConstructed},i),lenBlock:__assign(__assign({},a),{isIndefiniteForm:!!s.isIndefiniteForm})},s),bt)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=4;return r}e.prototype.fromBER=function(e,r,n){this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;if(n===0){if(this.idBlock.error.length===0)this.blockLength+=this.idBlock.blockLength;if(this.lenBlock.error.length===0)this.blockLength+=this.lenBlock.blockLength;return r}if(!this.valueBlock.isConstructed){var i=e instanceof ArrayBuffer?new Uint8Array(e):e;var o=i.subarray(r,r+n);try{if(o.byteLength){var a=ot(o,0,o.byteLength);if(a.offset!==-1&&a.offset===n){this.valueBlock.value=[a.result]}}}catch(t){}}return t.prototype.fromBER.call(this,e,r,n)};e.prototype.onAsciiEncoding=function(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length){return lt.prototype.onAsciiEncoding.call(this)}return"".concat(this.constructor.NAME," : ").concat(v.ToHex(this.valueBlock.valueHexView))};e.prototype.getValue=function(){if(!this.idBlock.isConstructed){return this.valueBlock.valueHexView.slice().buffer}var t=[];for(var r=0,n=this.valueBlock.value;r<n.length;r++){var i=n[r];if(i instanceof e){t.push(i.valueBlock.valueHexView)}}return p.concat(t)};return e}(X);wt=St;(function(){Y.OctetString=wt})();St.NAME=J;var Bt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.unusedBits,i=n===void 0?0:n,o=e.isConstructed,a=o===void 0?false:o,s=__rest(e,["unusedBits","isConstructed"]);r=t.call(this,s)||this;r.unusedBits=i;r.isConstructed=a;r.blockLength=r.valueHexView.byteLength;return r}e.prototype.fromBER=function(t,e,r){if(!r){return e}var n=-1;if(this.isConstructed){n=ut.prototype.fromBER.call(this,t,e,r);if(n===-1)return n;for(var i=0,o=this.value;i<o.length;i++){var a=o[i];var s=a.constructor.NAME;if(s===q){if(this.isIndefiniteForm)break;else{this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only";return-1}}if(s!==z){this.error="BIT STRING may consists of BIT STRINGs only";return-1}var u=a.valueBlock;if(this.unusedBits>0&&u.unusedBits>0){this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only';return-1}this.unusedBits=u.unusedBits}return n}var c=p.toUint8Array(t);if(!I(this,c,e,r)){return-1}var l=c.subarray(e,e+r);this.unusedBits=l[0];if(this.unusedBits>7){this.error="Unused bits for BitString must be in range 0-7";return-1}if(!this.unusedBits){var f=l.subarray(1);try{if(f.byteLength){var v=ot(f,0,f.byteLength);if(v.offset!==-1&&v.offset===r-1){this.value=[v.result]}}}catch(t){}}this.valueHexView=l.subarray(1);this.blockLength=l.length;return e+r};e.prototype.toBER=function(t,e){if(this.isConstructed){return ut.prototype.toBER.call(this,t,e)}if(t){return new ArrayBuffer(this.valueHexView.byteLength+1)}if(!this.valueHexView.byteLength){return M}var r=new Uint8Array(this.valueHexView.length+1);r[0]=this.unusedBits;r.set(this.valueHexView,1);return r.buffer};e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{unusedBits:this.unusedBits,isConstructed:this.isConstructed})};return e}(G(ut));Bt.NAME="BitStringValueBlock";var kt;var At=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.idBlock,i=n===void 0?{}:n,o=e.lenBlock,a=o===void 0?{}:o,s=__rest(e,["idBlock","lenBlock"]);var u,c;(u=s.isConstructed)!==null&&u!==void 0?u:s.isConstructed=!!((c=s.value)===null||c===void 0?void 0:c.length);r=t.call(this,__assign({idBlock:__assign({isConstructed:s.isConstructed},i),lenBlock:__assign(__assign({},a),{isIndefiniteForm:!!s.isIndefiniteForm})},s),Bt)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=3;return r}e.prototype.fromBER=function(e,r,n){this.valueBlock.isConstructed=this.idBlock.isConstructed;this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;return t.prototype.fromBER.call(this,e,r,n)};e.prototype.onAsciiEncoding=function(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length){return lt.prototype.onAsciiEncoding.call(this)}else{var t=[];var e=this.valueBlock.valueHexView;for(var r=0,n=e;r<n.length;r++){var i=n[r];t.push(i.toString(2).padStart(8,"0"))}var o=t.join("");return"".concat(this.constructor.NAME," : ").concat(o.substring(0,o.length-this.valueBlock.unusedBits))}};return e}(X);kt=At;(function(){Y.BitString=kt})();At.NAME=z;var xt;function It(t,e){var r=new Uint8Array([0]);var n=new Uint8Array(t);var i=new Uint8Array(e);var o=n.slice(0);var a=o.length-1;var s=i.slice(0);var u=s.length-1;var c=0;var l=u<a?a:u;var f=0;for(var p=l;p>=0;p--,f++){switch(true){case f<s.length:c=o[a-f]+s[u-f]+r[0];break;default:c=o[a-f]+r[0]}r[0]=c/10;switch(true){case f>=o.length:o=b(new Uint8Array([c%10]),o);break;default:o[a-f]=c%10}}if(r[0]>0)o=b(r,o);return o}function Ot(t){if(t>=_.length){for(var e=_.length;e<=t;e++){var r=new Uint8Array([0]);var n=_[e-1].slice(0);for(var i=n.length-1;i>=0;i--){var o=new Uint8Array([(n[i]<<1)+r[0]]);r[0]=o[0]/10;n[i]=o[0]%10}if(r[0]>0)n=b(r,n);_.push(n)}}return _[t]}function _t(t,e){var r=0;var n=new Uint8Array(t);var i=new Uint8Array(e);var o=n.slice(0);var a=o.length-1;var s=i.slice(0);var u=s.length-1;var c;var l=0;for(var f=u;f>=0;f--,l++){c=o[a-l]-s[u-l]-r;switch(true){case c<0:r=1;o[a-l]=c+10;break;default:r=0;o[a-l]=c}}if(r>0){for(var f=a-u+1;f>=0;f--,l++){c=o[a-l]-r;if(c<0){r=1;o[a-l]=c+10}else{r=0;o[a-l]=c;break}}}return o.slice()}var Nt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.value,i=__rest(e,["value"]);r=t.call(this,i)||this;r._valueDec=0;if(i.valueHex){r.setValueHex()}if(n!==undefined){r.valueDec=n}return r}e.prototype.setValueHex=function(){if(this.valueHexView.length>=4){this.warnings.push("Too big Integer for decoding, hex only");this.isHexOnly=true;this._valueDec=0}else{this.isHexOnly=false;if(this.valueHexView.length>0){this._valueDec=w.call(this)}}};Object.defineProperty(e.prototype,"valueDec",{get:function(){return this._valueDec},set:function(t){this._valueDec=t;this.isHexOnly=false;this.valueHexView=new Uint8Array(S(t))},enumerable:false,configurable:true});e.prototype.fromDER=function(t,e,r,n){if(n===void 0){n=0}var i=this.fromBER(t,e,r);if(i===-1)return i;var o=this.valueHexView;if(o[0]===0&&(o[1]&128)!==0){this.valueHexView=o.subarray(1)}else{if(n!==0){if(o.length<n){if(n-o.length>1)n=o.length+1;this.valueHexView=o.subarray(n-o.length)}}}return i};e.prototype.toDER=function(t){if(t===void 0){t=false}var e=this.valueHexView;switch(true){case(e[0]&128)!==0:{var r=new Uint8Array(this.valueHexView.length+1);r[0]=0;r.set(e,1);this.valueHexView=r}break;case e[0]===0&&(e[1]&128)===0:{this.valueHexView=this.valueHexView.subarray(1)}break}return this.toBER(t)};e.prototype.fromBER=function(e,r,n){var i=t.prototype.fromBER.call(this,e,r,n);if(i===-1){return i}this.setValueHex();return i};e.prototype.toBER=function(t){return t?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer};e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{valueDec:this.valueDec})};e.prototype.toString=function(){var t=this.valueHexView.length*8-1;var e=new Uint8Array(this.valueHexView.length*8/3);var r=0;var n;var i=this.valueHexView;var o="";var a=false;for(var s=i.byteLength-1;s>=0;s--){n=i[s];for(var u=0;u<8;u++){if((n&1)===1){switch(r){case t:e=_t(Ot(r),e);o="-";break;default:e=It(e,Ot(r))}}r++;n>>=1}}for(var u=0;u<e.length;u++){if(e[u])a=true;if(a)o+=N.charAt(e[u])}if(a===false)o+=N.charAt(0);return o};return e}(G($));xt=Nt;Nt.NAME="IntegerValueBlock";(function(){Object.defineProperty(xt.prototype,"valueHex",{set:function(t){this.valueHexView=new Uint8Array(t);this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}})})();var Et;var Ct=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e,Nt)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=2;return r}e.prototype.toBigInt=function(){A();return BigInt(this.valueBlock.toString())};e.fromBigInt=function(t){A();var r=BigInt(t);var n=new O;var i=r.toString(16).replace(/^-/,"");var o=new Uint8Array(v.FromHex(i));if(r<0){var a=new Uint8Array(o.length+(o[0]&128?1:0));a[0]|=128;var s=BigInt("0x".concat(v.ToHex(a)));var u=s+r;var c=p.toUint8Array(v.FromHex(u.toString(16)));c[0]|=128;n.write(c)}else{if(o[0]&128){n.write(new Uint8Array([0]))}n.write(o)}var l=new e({valueHex:n.final()});return l};e.prototype.convertToDER=function(){var t=new e({valueHex:this.valueBlock.valueHexView});t.valueBlock.toDER();return t};e.prototype.convertFromDER=function(){return new e({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})};e.prototype.onAsciiEncoding=function(){return"".concat(this.constructor.NAME," : ").concat(this.valueBlock.toString())};return e}(X);Et=Ct;(function(){Y.Integer=Et})();Ct.NAME="INTEGER";var Ut;var Tt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=10;return r}return e}(Ct);Ut=Tt;(function(){Y.Enumerated=Ut})();Tt.NAME="ENUMERATED";var Vt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.valueDec,i=n===void 0?-1:n,o=e.isFirstSid,a=o===void 0?false:o,s=__rest(e,["valueDec","isFirstSid"]);r=t.call(this,s)||this;r.valueDec=i;r.isFirstSid=a;return r}e.prototype.fromBER=function(t,e,r){if(!r){return e}var n=p.toUint8Array(t);if(!I(this,n,e,r)){return-1}var i=n.subarray(e,e+r);this.valueHexView=new Uint8Array(r);for(var o=0;o<r;o++){this.valueHexView[o]=i[o]&127;this.blockLength++;if((i[o]&128)===0)break}var a=new Uint8Array(this.blockLength);for(var o=0;o<this.blockLength;o++){a[o]=this.valueHexView[o]}this.valueHexView=a;if((i[this.blockLength-1]&128)!==0){this.error="End of input reached before message was fully decoded";return-1}if(this.valueHexView[0]===0)this.warnings.push("Needlessly long format of SID encoding");if(this.blockLength<=8)this.valueDec=g(this.valueHexView,7);else{this.isHexOnly=true;this.warnings.push("Too big SID for decoding, hex only")}return e+this.blockLength};Object.defineProperty(e.prototype,"valueBigInt",{set:function(t){A();var e=BigInt(t).toString(2);while(e.length%7){e="0"+e}var r=new Uint8Array(e.length/7);for(var n=0;n<r.length;n++){r[n]=parseInt(e.slice(n*7,n*7+7),2)+(n+1<r.length?128:0)}this.fromBER(r.buffer,0,r.length)},enumerable:false,configurable:true});e.prototype.toBER=function(t){if(this.isHexOnly){if(t)return new ArrayBuffer(this.valueHexView.byteLength);var e=this.valueHexView;var r=new Uint8Array(this.blockLength);for(var n=0;n<this.blockLength-1;n++)r[n]=e[n]|128;r[this.blockLength-1]=e[this.blockLength-1];return r.buffer}var i=m(this.valueDec,7);if(i.byteLength===0){this.error="Error during encoding SID value";return M}var o=new Uint8Array(i.byteLength);if(!t){var a=new Uint8Array(i);var s=i.byteLength-1;for(var n=0;n<s;n++)o[n]=a[n]|128;o[s]=a[s]}return o};e.prototype.toString=function(){var t="";if(this.isHexOnly)t=v.ToHex(this.valueHexView);else{if(this.isFirstSid){var e=this.valueDec;if(this.valueDec<=39)t="0.";else{if(this.valueDec<=79){t="1.";e-=40}else{t="2.";e-=80}}t+=e.toString()}else t=this.valueDec.toString()}return t};e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{valueDec:this.valueDec,isFirstSid:this.isFirstSid})};return e}(G($));Vt.NAME="sidBlock";var Lt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.value,i=n===void 0?P:n,o=__rest(e,["value"]);r=t.call(this,o)||this;r.value=[];if(i){r.fromString(i)}return r}e.prototype.fromBER=function(t,e,r){var n=e;while(r>0){var i=new Vt;n=i.fromBER(t,n,r);if(n===-1){this.blockLength=0;this.error=i.error;return n}if(this.value.length===0)i.isFirstSid=true;this.blockLength+=i.blockLength;r-=i.blockLength;this.value.push(i)}return n};e.prototype.toBER=function(t){var e=[];for(var r=0;r<this.value.length;r++){var n=this.value[r].toBER(t);if(n.byteLength===0){this.error=this.value[r].error;return M}e.push(n)}return x(e)};e.prototype.fromString=function(t){this.value=[];var e=0;var r=0;var n="";var i=false;do{r=t.indexOf(".",e);if(r===-1)n=t.substring(e);else n=t.substring(e,r);e=r+1;if(i){var o=this.value[0];var a=0;switch(o.valueDec){case 0:break;case 1:a=40;break;case 2:a=80;break;default:this.value=[];return}var s=parseInt(n,10);if(isNaN(s))return;o.valueDec=s+a;i=false}else{var o=new Vt;if(n>Number.MAX_SAFE_INTEGER){A();var u=BigInt(n);o.valueBigInt=u}else{o.valueDec=parseInt(n,10);if(isNaN(o.valueDec))return}if(!this.value.length){o.isFirstSid=true;i=true}this.value.push(o)}}while(r!==-1)};e.prototype.toString=function(){var t="";var e=false;for(var r=0;r<this.value.length;r++){e=this.value[r].isHexOnly;var n=this.value[r].toString();if(r!==0)t="".concat(t,".");if(e){n="{".concat(n,"}");if(this.value[r].isFirstSid)t="2.{".concat(n," - 80}");else t+=n}else t+=n}return t};e.prototype.toJSON=function(){var e=__assign(__assign({},t.prototype.toJSON.call(this)),{value:this.toString(),sidArray:[]});for(var r=0;r<this.value.length;r++){e.sidArray.push(this.value[r].toJSON())}return e};return e}($);Lt.NAME="ObjectIdentifierValueBlock";var jt;var Ht=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e,Lt)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=6;return r}e.prototype.getValue=function(){return this.valueBlock.toString()};e.prototype.setValue=function(t){this.valueBlock.fromString(t)};e.prototype.onAsciiEncoding=function(){return"".concat(this.constructor.NAME," : ").concat(this.valueBlock.toString()||"empty")};e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{value:this.getValue()})};return e}(X);jt=Ht;(function(){Y.ObjectIdentifier=jt})();Ht.NAME="OBJECT IDENTIFIER";var Dt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.valueDec,i=n===void 0?0:n,o=__rest(e,["valueDec"]);r=t.call(this,o)||this;r.valueDec=i;return r}e.prototype.fromBER=function(t,e,r){if(r===0)return e;var n=p.toUint8Array(t);if(!I(this,n,e,r))return-1;var i=n.subarray(e,e+r);this.valueHexView=new Uint8Array(r);for(var o=0;o<r;o++){this.valueHexView[o]=i[o]&127;this.blockLength++;if((i[o]&128)===0)break}var a=new Uint8Array(this.blockLength);for(var o=0;o<this.blockLength;o++)a[o]=this.valueHexView[o];this.valueHexView=a;if((i[this.blockLength-1]&128)!==0){this.error="End of input reached before message was fully decoded";return-1}if(this.valueHexView[0]===0)this.warnings.push("Needlessly long format of SID encoding");if(this.blockLength<=8)this.valueDec=g(this.valueHexView,7);else{this.isHexOnly=true;this.warnings.push("Too big SID for decoding, hex only")}return e+this.blockLength};e.prototype.toBER=function(t){if(this.isHexOnly){if(t)return new ArrayBuffer(this.valueHexView.byteLength);var e=this.valueHexView;var r=new Uint8Array(this.blockLength);for(var n=0;n<this.blockLength-1;n++)r[n]=e[n]|128;r[this.blockLength-1]=e[this.blockLength-1];return r.buffer}var i=m(this.valueDec,7);if(i.byteLength===0){this.error="Error during encoding SID value";return M}var o=new Uint8Array(i.byteLength);if(!t){var a=new Uint8Array(i);var s=i.byteLength-1;for(var n=0;n<s;n++)o[n]=a[n]|128;o[s]=a[s]}return o.buffer};e.prototype.toString=function(){var t="";if(this.isHexOnly)t=v.ToHex(this.valueHexView);else{t=this.valueDec.toString()}return t};e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{valueDec:this.valueDec})};return e}(G(W));Dt.NAME="relativeSidBlock";var Rt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.value,i=n===void 0?P:n,o=__rest(e,["value"]);r=t.call(this,o)||this;r.value=[];if(i){r.fromString(i)}return r}e.prototype.fromBER=function(t,e,r){var n=e;while(r>0){var i=new Dt;n=i.fromBER(t,n,r);if(n===-1){this.blockLength=0;this.error=i.error;return n}this.blockLength+=i.blockLength;r-=i.blockLength;this.value.push(i)}return n};e.prototype.toBER=function(t,e){var r=[];for(var n=0;n<this.value.length;n++){var i=this.value[n].toBER(t);if(i.byteLength===0){this.error=this.value[n].error;return M}r.push(i)}return x(r)};e.prototype.fromString=function(t){this.value=[];var e=0;var r=0;var n="";do{r=t.indexOf(".",e);if(r===-1)n=t.substring(e);else n=t.substring(e,r);e=r+1;var i=new Dt;i.valueDec=parseInt(n,10);if(isNaN(i.valueDec))return true;this.value.push(i)}while(r!==-1);return true};e.prototype.toString=function(){var t="";var e=false;for(var r=0;r<this.value.length;r++){e=this.value[r].isHexOnly;var n=this.value[r].toString();if(r!==0)t="".concat(t,".");if(e){n="{".concat(n,"}");t+=n}else t+=n}return t};e.prototype.toJSON=function(){var e=__assign(__assign({},t.prototype.toJSON.call(this)),{value:this.toString(),sidArray:[]});for(var r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e};return e}($);Rt.NAME="RelativeObjectIdentifierValueBlock";var Pt;var Mt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e,Rt)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=13;return r}e.prototype.getValue=function(){return this.valueBlock.toString()};e.prototype.setValue=function(t){this.valueBlock.fromString(t)};e.prototype.onAsciiEncoding=function(){return"".concat(this.constructor.NAME," : ").concat(this.valueBlock.toString()||"empty")};e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{value:this.getValue()})};return e}(X);Pt=Mt;(function(){Y.RelativeObjectIdentifier=Pt})();Mt.NAME="RelativeObjectIdentifier";var Ft;var qt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=16;return r}return e}(lt);t("O",qt);Ft=qt;(function(){Y.Sequence=Ft})();qt.NAME="SEQUENCE";var Jt;var zt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=17;return r}return e}(lt);t("R",zt);Jt=zt;(function(){Y.Set=Jt})();zt.NAME="SET";var Gt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=__rest(e,[]);r=t.call(this,n)||this;r.isHexOnly=true;r.value=P;return r}e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{value:this.value})};return e}(G($));Gt.NAME="StringValueBlock";var Wt=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Gt);Wt.NAME="SimpleStringValueBlock";var $t=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=__rest(e,[]);return t.call(this,r,Wt)||this}e.prototype.fromBuffer=function(t){this.valueBlock.value=String.fromCharCode.apply(null,p.toUint8Array(t))};e.prototype.fromString=function(t){var e=t.length;var r=this.valueBlock.valueHexView=new Uint8Array(e);for(var n=0;n<e;n++)r[n]=t.charCodeAt(n);this.valueBlock.value=t};return e}(tt);$t.NAME="SIMPLE STRING";var Kt=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.fromBuffer=function(t){this.valueBlock.valueHexView=p.toUint8Array(t);try{this.valueBlock.value=v.ToUtf8String(t)}catch(e){this.warnings.push('Error during "decodeURIComponent": '.concat(e,", using raw string"));this.valueBlock.value=v.ToBinary(t)}};e.prototype.fromString=function(t){this.valueBlock.valueHexView=new Uint8Array(v.FromUtf8String(t));this.valueBlock.value=t};return e}($t);Kt.NAME="Utf8StringValueBlock";var Zt;var Yt=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=12;return r}return e}(Kt);Zt=Yt;(function(){Y.Utf8String=Zt})();Yt.NAME="UTF8String";var Xt=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.fromBuffer=function(t){this.valueBlock.value=v.ToUtf16String(t);this.valueBlock.valueHexView=p.toUint8Array(t)};e.prototype.fromString=function(t){this.valueBlock.value=t;this.valueBlock.valueHexView=new Uint8Array(v.FromUtf16String(t))};return e}($t);Xt.NAME="BmpStringValueBlock";var Qt;var te=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=__rest(e,[]);r=t.call(this,n)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=30;return r}return e}(Xt);Qt=te;(function(){Y.BmpString=Qt})();te.NAME="BMPString";var ee=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.fromBuffer=function(t){var e=ArrayBuffer.isView(t)?t.slice().buffer:t.slice(0);var r=new Uint8Array(e);for(var n=0;n<r.length;n+=4){r[n]=r[n+3];r[n+1]=r[n+2];r[n+2]=0;r[n+3]=0}this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(e))};e.prototype.fromString=function(t){var e=t.length;var r=this.valueBlock.valueHexView=new Uint8Array(e*4);for(var n=0;n<e;n++){var i=m(t.charCodeAt(n),8);var o=new Uint8Array(i);if(o.length>4)continue;var a=4-o.length;for(var s=o.length-1;s>=0;s--)r[n*4+s+a]=o[s]}this.valueBlock.value=t};return e}($t);ee.NAME="UniversalStringValueBlock";var re;var ne=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=__rest(e,[]);r=t.call(this,n)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=28;return r}return e}(ee);re=ne;(function(){Y.UniversalString=re})();ne.NAME="UniversalString";var ie;var oe=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=18;return r}return e}($t);ie=oe;(function(){Y.NumericString=ie})();oe.NAME="NumericString";var ae;var se=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=19;return r}return e}($t);ae=se;(function(){Y.PrintableString=ae})();se.NAME="PrintableString";var ue;var ce=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=20;return r}return e}($t);ue=ce;(function(){Y.TeletexString=ue})();ce.NAME="TeletexString";var le;var fe=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=21;return r}return e}($t);le=fe;(function(){Y.VideotexString=le})();fe.NAME="VideotexString";var pe;var ve=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=22;return r}return e}($t);pe=ve;(function(){Y.IA5String=pe})();ve.NAME="IA5String";var he;var de=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=25;return r}return e}($t);he=de;(function(){Y.GraphicString=he})();de.NAME="GraphicString";var ye;var ge=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=26;return r}return e}($t);ye=ge;(function(){Y.VisibleString=ye})();ge.NAME="VisibleString";var me;var be=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=27;return r}return e}($t);me=be;(function(){Y.GeneralString=me})();be.NAME="GeneralString";var we;var Se=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=29;return r}return e}($t);we=Se;(function(){Y.CharacterString=we})();Se.NAME="CharacterString";var Be;var ke=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.value,i=e.valueDate,o=__rest(e,["value","valueDate"]);r=t.call(this,o)||this;r.year=0;r.month=0;r.day=0;r.hour=0;r.minute=0;r.second=0;if(n){r.fromString(n);r.valueBlock.valueHexView=new Uint8Array(n.length);for(var a=0;a<n.length;a++)r.valueBlock.valueHexView[a]=n.charCodeAt(a)}if(i){r.fromDate(i);r.valueBlock.valueHexView=new Uint8Array(r.toBuffer())}r.idBlock.tagClass=1;r.idBlock.tagNumber=23;return r}e.prototype.fromBuffer=function(t){this.fromString(String.fromCharCode.apply(null,p.toUint8Array(t)))};e.prototype.toBuffer=function(){var t=this.toString();var e=new ArrayBuffer(t.length);var r=new Uint8Array(e);for(var n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return e};e.prototype.fromDate=function(t){this.year=t.getUTCFullYear();this.month=t.getUTCMonth()+1;this.day=t.getUTCDate();this.hour=t.getUTCHours();this.minute=t.getUTCMinutes();this.second=t.getUTCSeconds()};e.prototype.toDate=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))};e.prototype.fromString=function(t){var e=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi;var r=e.exec(t);if(r===null){this.error="Wrong input string for conversion";return}var n=parseInt(r[1],10);if(n>=50)this.year=1900+n;else this.year=2e3+n;this.month=parseInt(r[2],10);this.day=parseInt(r[3],10);this.hour=parseInt(r[4],10);this.minute=parseInt(r[5],10);this.second=parseInt(r[6],10)};e.prototype.toString=function(e){if(e===void 0){e="iso"}if(e==="iso"){var r=new Array(7);r[0]=k(this.year<2e3?this.year-1900:this.year-2e3,2);r[1]=k(this.month,2);r[2]=k(this.day,2);r[3]=k(this.hour,2);r[4]=k(this.minute,2);r[5]=k(this.second,2);r[6]="Z";return r.join("")}return t.prototype.toString.call(this,e)};e.prototype.onAsciiEncoding=function(){return"".concat(this.constructor.NAME," : ").concat(this.toDate().toISOString())};e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second})};return e}(ge);Be=ke;(function(){Y.UTCTime=Be})();ke.NAME="UTCTime";var Ae;var xe=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n;r=t.call(this,e)||this;(n=r.millisecond)!==null&&n!==void 0?n:r.millisecond=0;r.idBlock.tagClass=1;r.idBlock.tagNumber=24;return r}e.prototype.fromDate=function(e){t.prototype.fromDate.call(this,e);this.millisecond=e.getUTCMilliseconds()};e.prototype.toDate=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))};e.prototype.fromString=function(t){var e=false;var r="";var n="";var i=0;var o;var a=0;var s=0;if(t[t.length-1]==="Z"){r=t.substring(0,t.length-1);e=true}else{var u=new Number(t[t.length-1]);if(isNaN(u.valueOf()))throw new Error("Wrong input string for conversion");r=t}if(e){if(r.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(r.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{var c=1;var l=r.indexOf("+");var f="";if(l===-1){l=r.indexOf("-");c=-1}if(l!==-1){f=r.substring(l+1);r=r.substring(0,l);if(f.length!==2&&f.length!==4)throw new Error("Wrong input string for conversion");var u=parseInt(f.substring(0,2),10);if(isNaN(u.valueOf()))throw new Error("Wrong input string for conversion");a=c*u;if(f.length===4){u=parseInt(f.substring(2,4),10);if(isNaN(u.valueOf()))throw new Error("Wrong input string for conversion");s=c*u}}}var p=r.indexOf(".");if(p===-1)p=r.indexOf(",");if(p!==-1){var v=new Number("0".concat(r.substring(p)));if(isNaN(v.valueOf()))throw new Error("Wrong input string for conversion");i=v.valueOf();n=r.substring(0,p)}else n=r;switch(true){case n.length===8:o=/(\d{4})(\d{2})(\d{2})/gi;if(p!==-1)throw new Error("Wrong input string for conversion");break;case n.length===10:o=/(\d{4})(\d{2})(\d{2})(\d{2})/gi;if(p!==-1){var h=60*i;this.minute=Math.floor(h);h=60*(h-this.minute);this.second=Math.floor(h);h=1e3*(h-this.second);this.millisecond=Math.floor(h)}break;case n.length===12:o=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi;if(p!==-1){var h=60*i;this.second=Math.floor(h);h=1e3*(h-this.second);this.millisecond=Math.floor(h)}break;case n.length===14:o=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi;if(p!==-1){var h=1e3*i;this.millisecond=Math.floor(h)}break;default:throw new Error("Wrong input string for conversion")}var d=o.exec(n);if(d===null)throw new Error("Wrong input string for conversion");for(var y=1;y<d.length;y++){switch(y){case 1:this.year=parseInt(d[y],10);break;case 2:this.month=parseInt(d[y],10);break;case 3:this.day=parseInt(d[y],10);break;case 4:this.hour=parseInt(d[y],10)+a;break;case 5:this.minute=parseInt(d[y],10)+s;break;case 6:this.second=parseInt(d[y],10);break;default:throw new Error("Wrong input string for conversion")}}if(e===false){var g=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=g.getUTCFullYear();this.month=g.getUTCMonth();this.day=g.getUTCDay();this.hour=g.getUTCHours();this.minute=g.getUTCMinutes();this.second=g.getUTCSeconds();this.millisecond=g.getUTCMilliseconds()}};e.prototype.toString=function(e){if(e===void 0){e="iso"}if(e==="iso"){var r=[];r.push(k(this.year,4));r.push(k(this.month,2));r.push(k(this.day,2));r.push(k(this.hour,2));r.push(k(this.minute,2));r.push(k(this.second,2));if(this.millisecond!==0){r.push(".");r.push(k(this.millisecond,3))}r.push("Z");return r.join("")}return t.prototype.toString.call(this,e)};e.prototype.toJSON=function(){return __assign(__assign({},t.prototype.toJSON.call(this)),{millisecond:this.millisecond})};return e}(ke);Ae=xe;(function(){Y.GeneralizedTime=Ae})();xe.NAME="GeneralizedTime";var Ie;var Oe=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=31;return r}return e}(Yt);Ie=Oe;(function(){Y.DATE=Ie})();Oe.NAME="DATE";var _e;var Ne=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=32;return r}return e}(Yt);_e=Ne;(function(){Y.TimeOfDay=_e})();Ne.NAME="TimeOfDay";var Ee;var Ce=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=33;return r}return e}(Yt);Ee=Ce;(function(){Y.DateTime=Ee})();Ce.NAME="DateTime";var Ue;var Te=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=34;return r}return e}(Yt);Ue=Te;(function(){Y.Duration=Ue})();Te.NAME="Duration";var Ve;var Le=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;r.idBlock.tagClass=1;r.idBlock.tagNumber=14;return r}return e}(Yt);Ve=Le;(function(){Y.TIME=Ve})();Le.NAME="TIME";var je=function(){function t(t){var e=t===void 0?{}:t,r=e.name,n=r===void 0?P:r,i=e.optional,o=i===void 0?false:i;this.name=n;this.optional=o}return t}();var He=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.value,i=n===void 0?[]:n,o=__rest(e,["value"]);r=t.call(this,o)||this;r.value=i;return r}return e}(je);var De=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=this;var n=e.value,i=n===void 0?new je:n,o=e.local,a=o===void 0?false:o,s=__rest(e,["value","local"]);r=t.call(this,s)||this;r.value=i;r.local=a;return r}return e}(je);var Re=function(){function t(t){var e=t===void 0?{}:t,r=e.data,n=r===void 0?F:r;this.dataView=p.toUint8Array(n)}Object.defineProperty(t.prototype,"data",{get:function(){return this.dataView.slice().buffer},set:function(t){this.dataView=p.toUint8Array(t)},enumerable:false,configurable:true});t.prototype.fromBER=function(t,e,r){var n=e+r;this.dataView=p.toUint8Array(t).subarray(e,n);return n};t.prototype.toBER=function(t){return this.dataView.slice().buffer};return t}();function Pe(t,e,r){if(r instanceof He){for(var n=0;n<r.value.length;n++){var i=Pe(t,e,r.value[n]);if(i.verified){return{verified:true,result:t}}}{var o={verified:false,result:{error:"Wrong values for Choice type"}};if(r.hasOwnProperty(E))o.name=r.name;return o}}if(r instanceof je){if(r.hasOwnProperty(E))t[r.name]=e;return{verified:true,result:t}}if(t instanceof Object===false){return{verified:false,result:{error:"Wrong root object"}}}if(e instanceof Object===false){return{verified:false,result:{error:"Wrong ASN.1 data"}}}if(r instanceof Object===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(T in r===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(H in r.idBlock===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(D in r.idBlock===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}var a=r.idBlock.toBER(false);if(a.byteLength===0){return{verified:false,result:{error:"Error encoding idBlock for ASN.1 schema"}}}var s=r.idBlock.fromBER(a,0,a.byteLength);if(s===-1){return{verified:false,result:{error:"Error decoding idBlock for ASN.1 schema"}}}if(r.idBlock.hasOwnProperty(V)===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(r.idBlock.tagClass!==e.idBlock.tagClass){return{verified:false,result:t}}if(r.idBlock.hasOwnProperty(L)===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(r.idBlock.tagNumber!==e.idBlock.tagNumber){return{verified:false,result:t}}if(r.idBlock.hasOwnProperty(j)===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(r.idBlock.isConstructed!==e.idBlock.isConstructed){return{verified:false,result:t}}if(!(U in r.idBlock)){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}if(r.idBlock.isHexOnly!==e.idBlock.isHexOnly){return{verified:false,result:t}}if(r.idBlock.isHexOnly){if(C in r.idBlock===false){return{verified:false,result:{error:"Wrong ASN.1 schema"}}}var u=r.idBlock.valueHexView;var c=e.idBlock.valueHexView;if(u.length!==c.length){return{verified:false,result:t}}for(var l=0;l<u.length;l++){if(u[l]!==c[1]){return{verified:false,result:t}}}}if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,P);if(r.name)t[r.name]=e}if(r instanceof Y.Constructed){var f=0;var i={verified:false,result:{error:"Unknown error"}};var p=r.valueBlock.value.length;if(p>0){if(r.valueBlock.value[0]instanceof De){p=e.valueBlock.value.length}}if(p===0){return{verified:true,result:t}}if(e.valueBlock.value.length===0&&r.valueBlock.value.length!==0){var v=true;for(var l=0;l<r.valueBlock.value.length;l++)v=v&&(r.valueBlock.value[l].optional||false);if(v){return{verified:true,result:t}}if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,P);if(r.name)delete t[r.name]}t.error="Inconsistent object length";return{verified:false,result:t}}for(var l=0;l<p;l++){if(l-f>=e.valueBlock.value.length){if(r.valueBlock.value[l].optional===false){var o={verified:false,result:t};t.error="Inconsistent length between ASN.1 data and schema";if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,P);if(r.name){delete t[r.name];o.name=r.name}}return o}}else{if(r.valueBlock.value[0]instanceof De){i=Pe(t,e.valueBlock.value[l],r.valueBlock.value[0].value);if(i.verified===false){if(r.valueBlock.value[0].optional)f++;else{if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,P);if(r.name)delete t[r.name]}return i}}if(E in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){var h={};if(R in r.valueBlock.value[0]&&r.valueBlock.value[0].local)h=e;else h=t;if(typeof h[r.valueBlock.value[0].name]==="undefined")h[r.valueBlock.value[0].name]=[];h[r.valueBlock.value[0].name].push(e.valueBlock.value[l])}}else{i=Pe(t,e.valueBlock.value[l-f],r.valueBlock.value[l]);if(i.verified===false){if(r.valueBlock.value[l].optional)f++;else{if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,P);if(r.name)delete t[r.name]}return i}}}}}if(i.verified===false){var o={verified:false,result:t};if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,P);if(r.name){delete t[r.name];o.name=r.name}}return o}return{verified:true,result:t}}if(r.primitiveSchema&&C in e.valueBlock){var d=ot(e.valueBlock.valueHexView);if(d.offset===-1){var o={verified:false,result:d.result};if(r.name){r.name=r.name.replace(/^\s+|\s+$/g,P);if(r.name){delete t[r.name];o.name=r.name}}return o}return Pe(t,d.result,r.primitiveSchema)}return{verified:true,result:t}}function Me(t,e){if(e instanceof Object===false){return{verified:false,result:{error:"Wrong ASN.1 schema type"}}}var r=ot(p.toUint8Array(t));if(r.offset===-1){return{verified:false,result:r.result}}return Pe(r.result,r.result,e)}var Fe=Object.freeze({__proto__:null,Any:je,BaseBlock:X,BaseStringBlock:tt,BitString:At,BmpString:te,Boolean:mt,CharacterString:Se,Choice:He,Constructed:lt,DATE:Oe,DateTime:Ce,Duration:Te,EndOfContent:vt,Enumerated:Tt,GeneralString:be,GeneralizedTime:xe,GraphicString:de,HexBlock:G,IA5String:ve,Integer:Ct,Null:dt,NumericString:oe,ObjectIdentifier:Ht,OctetString:St,Primitive:nt,PrintableString:se,RawData:Re,RelativeObjectIdentifier:Mt,Repeated:De,Sequence:qt,Set:zt,TIME:Le,TeletexString:ce,TimeOfDay:Ne,UTCTime:ke,UniversalString:ne,Utf8String:Yt,ValueBlock:$,VideotexString:fe,ViewWriter:O,VisibleString:ge,compareSchema:Pe,fromBER:at,verifySchema:Me});t("V",Fe);var qe;(function(t){t[t["Sequence"]=0]="Sequence";t[t["Set"]=1]="Set";t[t["Choice"]=2]="Choice"})(qe||(qe=t("G",{})));var Je;(function(t){t[t["Any"]=1]="Any";t[t["Boolean"]=2]="Boolean";t[t["OctetString"]=3]="OctetString";t[t["BitString"]=4]="BitString";t[t["Integer"]=5]="Integer";t[t["Enumerated"]=6]="Enumerated";t[t["ObjectIdentifier"]=7]="ObjectIdentifier";t[t["Utf8String"]=8]="Utf8String";t[t["BmpString"]=9]="BmpString";t[t["UniversalString"]=10]="UniversalString";t[t["NumericString"]=11]="NumericString";t[t["PrintableString"]=12]="PrintableString";t[t["TeletexString"]=13]="TeletexString";t[t["VideotexString"]=14]="VideotexString";t[t["IA5String"]=15]="IA5String";t[t["GraphicString"]=16]="GraphicString";t[t["VisibleString"]=17]="VisibleString";t[t["GeneralString"]=18]="GeneralString";t[t["CharacterString"]=19]="CharacterString";t[t["UTCTime"]=20]="UTCTime";t[t["GeneralizedTime"]=21]="GeneralizedTime";t[t["DATE"]=22]="DATE";t[t["TimeOfDay"]=23]="TimeOfDay";t[t["DateTime"]=24]="DateTime";t[t["Duration"]=25]="Duration";t[t["TIME"]=26]="TIME";t[t["Null"]=27]="Null"})(Je||(Je=t("U",{})));var ze=function(){function t(t,e){if(e===void 0){e=0}this.unusedBits=0;this.value=new ArrayBuffer(0);if(t){if(typeof t==="number"){this.fromNumber(t)}else if(p.isBufferSource(t)){this.unusedBits=e;this.value=p.toArrayBuffer(t)}else{throw TypeError("Unsupported type of 'params' argument for BitString")}}}t.prototype.fromASN=function(t){if(!(t instanceof At)){throw new TypeError("Argument 'asn' is not instance of ASN.1 BitString")}this.unusedBits=t.valueBlock.unusedBits;this.value=t.valueBlock.valueHex;return this};t.prototype.toASN=function(){return new At({unusedBits:this.unusedBits,valueHex:this.value})};t.prototype.toSchema=function(t){return new At({name:t})};t.prototype.toNumber=function(){var t="";var e=new Uint8Array(this.value);for(var r=0,n=e;r<n.length;r++){var i=n[r];t+=i.toString(2).padStart(8,"0")}t=t.split("").reverse().join("");if(this.unusedBits){t=t.slice(this.unusedBits).padStart(this.unusedBits,"0")}return parseInt(t,2)};t.prototype.fromNumber=function(t){var e=t.toString(2);var r=e.length+7>>3;this.unusedBits=(r<<3)-e.length;var n=new Uint8Array(r);e=e.padStart(r<<3,"0").split("").reverse().join("");var i=0;while(i<r){n[i]=parseInt(e.slice(i<<3,(i<<3)+8),2);i++}this.value=n.buffer};return t}();t("aY",ze);var Ge=function(){function t(t){if(typeof t==="number"){this.buffer=new ArrayBuffer(t)}else{if(p.isBufferSource(t)){this.buffer=p.toArrayBuffer(t)}else if(Array.isArray(t)){this.buffer=new Uint8Array(t)}else{this.buffer=new ArrayBuffer(0)}}}Object.defineProperty(t.prototype,"byteLength",{get:function(){return this.buffer.byteLength},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"byteOffset",{get:function(){return 0},enumerable:false,configurable:true});t.prototype.fromASN=function(t){if(!(t instanceof St)){throw new TypeError("Argument 'asn' is not instance of ASN.1 OctetString")}this.buffer=t.valueBlock.valueHex;return this};t.prototype.toASN=function(){return new St({valueHex:this.buffer})};t.prototype.toSchema=function(t){return new St({name:t})};return t}();t("a5",Ge);var We={fromASN:function(t){return t instanceof dt?null:t.valueBeforeDecodeView},toASN:function(t){if(t===null){return new dt}var e=at(t);if(e.result.error){throw new Error(e.result.error)}return e.result}};var $e={fromASN:function(t){return t.valueBlock.valueHexView.byteLength>=4?t.valueBlock.toString():t.valueBlock.valueDec},toASN:function(t){return new Ct({value:+t})}};var Ke={fromASN:function(t){return t.valueBlock.valueDec},toASN:function(t){return new Tt({value:t})}};var Ze=t("a6",{fromASN:function(t){return t.valueBlock.valueHexView},toASN:function(t){return new Ct({valueHex:t})}});var Ye={fromASN:function(t){return t.valueBlock.valueHexView},toASN:function(t){return new At({valueHex:t})}};var Xe={fromASN:function(t){return t.valueBlock.toString()},toASN:function(t){return new Ht({value:t})}};var Qe={fromASN:function(t){return t.valueBlock.value},toASN:function(t){return new mt({value:t})}};var tr=t("a7",{fromASN:function(t){return t.valueBlock.valueHexView},toASN:function(t){return new St({valueHex:t})}});var er=t("a$",{fromASN:function(t){return new Ge(t.getValue())},toASN:function(t){return t.toASN()}});function rr(t){return{fromASN:function(t){return t.valueBlock.value},toASN:function(e){return new t({value:e})}}}var nr=rr(Yt);var ir=rr(te);var or=rr(ne);var ar=rr(oe);var sr=rr(se);var ur=rr(ce);var cr=rr(fe);var lr=rr(ve);var fr=rr(de);var pr=rr(ge);var vr=rr(be);var hr=rr(Se);var dr={fromASN:function(t){return t.toDate()},toASN:function(t){return new ke({valueDate:t})}};var yr={fromASN:function(t){return t.toDate()},toASN:function(t){return new xe({valueDate:t})}};var gr={fromASN:function(){return null},toASN:function(){return new dt}};function mr(t){switch(t){case Je.Any:return We;case Je.BitString:return Ye;case Je.BmpString:return ir;case Je.Boolean:return Qe;case Je.CharacterString:return hr;case Je.Enumerated:return Ke;case Je.GeneralString:return vr;case Je.GeneralizedTime:return yr;case Je.GraphicString:return fr;case Je.IA5String:return lr;case Je.Integer:return $e;case Je.Null:return gr;case Je.NumericString:return ar;case Je.ObjectIdentifier:return Xe;case Je.OctetString:return tr;case Je.PrintableString:return sr;case Je.TeletexString:return ur;case Je.UTCTime:return dr;case Je.UniversalString:return or;case Je.Utf8String:return nr;case Je.VideotexString:return cr;case Je.VisibleString:return pr;default:return null}}function br(t){if(typeof t==="function"&&t.prototype){if(t.prototype.toASN&&t.prototype.fromASN){return true}else{return br(t.prototype)}}else{return!!(t&&typeof t==="object"&&"toASN"in t&&"fromASN"in t)}}function wr(t){var e;if(t){var r=Object.getPrototypeOf(t);if(((e=r===null||r===void 0?void 0:r.prototype)===null||e===void 0?void 0:e.constructor)===Array){return true}return wr(r)}return false}function Sr(t,e){if(!(t&&e)){return false}if(t.byteLength!==e.byteLength){return false}var r=new Uint8Array(t);var n=new Uint8Array(e);for(var i=0;i<t.byteLength;i++){if(r[i]!==n[i]){return false}}return true}var Br=function(){function t(){this.items=new WeakMap}t.prototype.has=function(t){return this.items.has(t)};t.prototype.get=function(t,e){if(e===void 0){e=false}var r=this.items.get(t);if(!r){throw new Error("Cannot get schema for '".concat(t.prototype.constructor.name,"' target"))}if(e&&!r.schema){throw new Error("Schema '".concat(t.prototype.constructor.name,"' doesn't contain ASN.1 schema. Call 'AsnSchemaStorage.cache'."))}return r};t.prototype.cache=function(t){var e=this.get(t);if(!e.schema){e.schema=this.create(t,true)}};t.prototype.createDefault=function(t){var e={type:qe.Sequence,items:{}};var r=this.findParentSchema(t);if(r){Object.assign(e,r);e.items=Object.assign({},e.items,r.items)}return e};t.prototype.create=function(t,e){var r=this.items.get(t)||this.createDefault(t);var n=[];for(var i in r.items){var o=r.items[i];var a=e?i:"";var s=void 0;if(typeof o.type==="number"){var u=Je[o.type];var c=Fe[u];if(!c){throw new Error("Cannot get ASN1 class by name '".concat(u,"'"))}s=new c({name:a})}else if(br(o.type)){var l=new o.type;s=l.toSchema(a)}else if(o.optional){var f=this.get(o.type);if(f.type===qe.Choice){s=new je({name:a})}else{s=this.create(o.type,false);s.name=a}}else{s=new je({name:a})}var p=!!o.optional||o.defaultValue!==undefined;if(o.repeated){s.name="";var v=o.repeated==="set"?zt:qt;s=new v({name:"",value:[new De({name:a,value:s})]})}if(o.context!==null&&o.context!==undefined){if(o.implicit){if(typeof o.type==="number"||br(o.type)){var v=o.repeated?lt:nt;n.push(new v({name:a,optional:p,idBlock:{tagClass:3,tagNumber:o.context}}))}else{this.cache(o.type);var h=!!o.repeated;var d=!h?this.get(o.type,true).schema:s;d="valueBlock"in d?d.valueBlock.value:d.value;n.push(new lt({name:!h?a:"",optional:p,idBlock:{tagClass:3,tagNumber:o.context},value:d}))}}else{n.push(new lt({optional:p,idBlock:{tagClass:3,tagNumber:o.context},value:[s]}))}}else{s.optional=p;n.push(s)}}switch(r.type){case qe.Sequence:return new qt({value:n,name:""});case qe.Set:return new zt({value:n,name:""});case qe.Choice:return new He({value:n,name:""});default:throw new Error("Unsupported ASN1 type in use")}};t.prototype.set=function(t,e){this.items.set(t,e);return this};t.prototype.findParentSchema=function(t){var e=Object.getPrototypeOf(t);if(e){var r=this.items.get(e);return r||this.findParentSchema(e)}return null};return t}();var kr=t("z",new Br);var Ar=t("a4",(function(t){return function(e){var r;if(!kr.has(e)){r=kr.createDefault(e);kr.set(e,r)}else{r=kr.get(e)}Object.assign(r,t)}}));var xr=t("a3",(function(t){return function(e,r){var n;if(!kr.has(e.constructor)){n=kr.createDefault(e.constructor);kr.set(e.constructor,n)}else{n=kr.get(e.constructor)}var i=Object.assign({},t);if(typeof i.type==="number"&&!i.converter){var o=mr(t.type);if(!o){throw new Error("Cannot get default converter for property '".concat(r,"' of ").concat(e.constructor.name))}i.converter=o}n.items[r]=i}}));var Ir=function(t){__extends(e,t);function e(e){if(e===void 0){e=[]}var r=this;if(typeof e==="number"){r=t.call(this,e)||this}else{r=t.call(this)||this;for(var n=0,i=e;n<i.length;n++){var o=i[n];r.push(o)}}return r}return e}(Array);t("a8",Ir);var Or=t("a0",typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{});function _r(t,e,r){return r={path:e,exports:{},require:function(t,e){return Nr()}},t(r,r.exports),r.exports}function Nr(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Er=_r((function(t){(function(e){var r="(0?\\d+|0x[a-f0-9]+)";var n={fourOctet:new RegExp("^".concat(r,"\\.").concat(r,"\\.").concat(r,"\\.").concat(r,"$"),"i"),threeOctet:new RegExp("^".concat(r,"\\.").concat(r,"\\.").concat(r,"$"),"i"),twoOctet:new RegExp("^".concat(r,"\\.").concat(r,"$"),"i"),longValue:new RegExp("^".concat(r,"$"),"i")};var i=new RegExp("^0[0-7]+$","i");var o=new RegExp("^0x[a-f0-9]+$","i");var a="%[0-9a-z]{1,}";var s="(?:[0-9a-f]+::?)+";var u={zoneIndex:new RegExp(a,"i"),native:new RegExp("^(::)?(".concat(s,")?([0-9a-f]+)?(::)?(").concat(a,")?$"),"i"),deprecatedTransitional:new RegExp("^(?:::)(".concat(r,"\\.").concat(r,"\\.").concat(r,"\\.").concat(r,"(").concat(a,")?)$"),"i"),transitional:new RegExp("^((?:".concat(s,")|(?:::)(?:").concat(s,")?)").concat(r,"\\.").concat(r,"\\.").concat(r,"\\.").concat(r,"(").concat(a,")?$"),"i")};function c(t,e){if(t.indexOf("::")!==t.lastIndexOf("::")){return null}var r=0;var n=-1;var i=(t.match(u.zoneIndex)||[])[0];var o,a;if(i){i=i.substring(1);t=t.replace(/%.+$/,"")}while((n=t.indexOf(":",n+1))>=0){r++}if(t.substr(0,2)==="::"){r--}if(t.substr(-2,2)==="::"){r--}if(r>e){return null}a=e-r;o=":";while(a--){o+="0:"}t=t.replace("::",o);if(t[0]===":"){t=t.slice(1)}if(t[t.length-1]===":"){t=t.slice(0,-1)}e=function(){var e=t.split(":");var r=[];for(var n=0;n<e.length;n++){r.push(parseInt(e[n],16))}return r}();return{parts:e,zoneId:i}}function l(t,e,r,n){if(t.length!==e.length){throw new Error("ipaddr: cannot match CIDR for objects with different lengths")}var i=0;var o;while(n>0){o=r-n;if(o<0){o=0}if(t[i]>>o!==e[i]>>o){return false}n-=r;i+=1}return true}function f(t){if(o.test(t)){return parseInt(t,16)}if(t[0]==="0"&&!isNaN(parseInt(t[1],10))){if(i.test(t)){return parseInt(t,8)}throw new Error("ipaddr: cannot parse ".concat(t," as octal"))}return parseInt(t,10)}function p(t,e){while(t.length<e){t="0".concat(t)}return t}var v={};v.IPv4=function(){function t(t){if(t.length!==4){throw new Error("ipaddr: ipv4 octet count should be 4")}var e,r;for(e=0;e<t.length;e++){r=t[e];if(!(0<=r&&r<=255)){throw new Error("ipaddr: ipv4 octet should fit in 8 bits")}}this.octets=t}t.prototype.SpecialRanges={unspecified:[[new t([0,0,0,0]),8]],broadcast:[[new t([255,255,255,255]),32]],multicast:[[new t([224,0,0,0]),4]],linkLocal:[[new t([169,254,0,0]),16]],loopback:[[new t([127,0,0,0]),8]],carrierGradeNat:[[new t([100,64,0,0]),10]],private:[[new t([10,0,0,0]),8],[new t([172,16,0,0]),12],[new t([192,168,0,0]),16]],reserved:[[new t([192,0,0,0]),24],[new t([192,0,2,0]),24],[new t([192,88,99,0]),24],[new t([198,18,0,0]),15],[new t([198,51,100,0]),24],[new t([203,0,113,0]),24],[new t([240,0,0,0]),4]]};t.prototype.kind=function(){return"ipv4"};t.prototype.match=function(t,e){var r;if(e===undefined){r=t;t=r[0];e=r[1]}if(t.kind()!=="ipv4"){throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one")}return l(this.octets,t.octets,8,e)};t.prototype.prefixLengthFromSubnetMask=function(){var t=0;var e=false;var r={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};var n,i,o;for(n=3;n>=0;n-=1){i=this.octets[n];if(i in r){o=r[i];if(e&&o!==0){return null}if(o!==8){e=true}t+=o}else{return null}}return 32-t};t.prototype.range=function(){return v.subnetMatch(this,this.SpecialRanges)};t.prototype.toByteArray=function(){return this.octets.slice(0)};t.prototype.toIPv4MappedAddress=function(){return v.IPv6.parse("::ffff:".concat(this.toString()))};t.prototype.toNormalizedString=function(){return this.toString()};t.prototype.toString=function(){return this.octets.join(".")};return t}();v.IPv4.broadcastAddressFromCIDR=function(t){try{var e=this.parseCIDR(t);var r=e[0].toByteArray();var n=this.subnetMaskFromPrefixLength(e[1]).toByteArray();var i=[];var o=0;while(o<4){i.push(parseInt(r[o],10)|parseInt(n[o],10)^255);o++}return new this(i)}catch(t){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}};v.IPv4.isIPv4=function(t){return this.parser(t)!==null};v.IPv4.isValid=function(t){try{new this(this.parser(t));return true}catch(t){return false}};v.IPv4.isValidFourPartDecimal=function(t){if(v.IPv4.isValid(t)&&t.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/)){return true}else{return false}};v.IPv4.networkAddressFromCIDR=function(t){var e,r,n,i,o;try{e=this.parseCIDR(t);n=e[0].toByteArray();o=this.subnetMaskFromPrefixLength(e[1]).toByteArray();i=[];r=0;while(r<4){i.push(parseInt(n[r],10)&parseInt(o[r],10));r++}return new this(i)}catch(t){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}};v.IPv4.parse=function(t){var e=this.parser(t);if(e===null){throw new Error("ipaddr: string is not formatted like an IPv4 Address")}return new this(e)};v.IPv4.parseCIDR=function(t){var e;if(e=t.match(/^(.+)\/(\d+)$/)){var r=parseInt(e[2]);if(r>=0&&r<=32){var n=[this.parse(e[1]),r];Object.defineProperty(n,"toString",{value:function(){return this.join("/")}});return n}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")};v.IPv4.parser=function(t){var e,r,i;if(e=t.match(n.fourOctet)){return function(){var t=e.slice(1,6);var n=[];for(var i=0;i<t.length;i++){r=t[i];n.push(f(r))}return n}()}else if(e=t.match(n.longValue)){i=f(e[1]);if(i>4294967295||i<0){throw new Error("ipaddr: address outside defined range")}return function(){var t=[];var e;for(e=0;e<=24;e+=8){t.push(i>>e&255)}return t}().reverse()}else if(e=t.match(n.twoOctet)){return function(){var t=e.slice(1,4);var r=[];i=f(t[1]);if(i>16777215||i<0){throw new Error("ipaddr: address outside defined range")}r.push(f(t[0]));r.push(i>>16&255);r.push(i>>8&255);r.push(i&255);return r}()}else if(e=t.match(n.threeOctet)){return function(){var t=e.slice(1,5);var r=[];i=f(t[2]);if(i>65535||i<0){throw new Error("ipaddr: address outside defined range")}r.push(f(t[0]));r.push(f(t[1]));r.push(i>>8&255);r.push(i&255);return r}()}else{return null}};v.IPv4.subnetMaskFromPrefixLength=function(t){t=parseInt(t);if(t<0||t>32){throw new Error("ipaddr: invalid IPv4 prefix length")}var e=[0,0,0,0];var r=0;var n=Math.floor(t/8);while(r<n){e[r]=255;r++}if(n<4){e[n]=Math.pow(2,t%8)-1<<8-t%8}return new this(e)};v.IPv6=function(){function t(t,e){var r,n;if(t.length===16){this.parts=[];for(r=0;r<=14;r+=2){this.parts.push(t[r]<<8|t[r+1])}}else if(t.length===8){this.parts=t}else{throw new Error("ipaddr: ipv6 part count should be 8 or 16")}for(r=0;r<this.parts.length;r++){n=this.parts[r];if(!(0<=n&&n<=65535)){throw new Error("ipaddr: ipv6 part should fit in 16 bits")}}if(e){this.zoneId=e}}t.prototype.SpecialRanges={unspecified:[new t([0,0,0,0,0,0,0,0]),128],linkLocal:[new t([65152,0,0,0,0,0,0,0]),10],multicast:[new t([65280,0,0,0,0,0,0,0]),8],loopback:[new t([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new t([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new t([0,0,0,0,0,65535,0,0]),96],rfc6145:[new t([0,0,0,0,65535,0,0,0]),96],rfc6052:[new t([100,65435,0,0,0,0,0,0]),96],"6to4":[new t([8194,0,0,0,0,0,0,0]),16],teredo:[new t([8193,0,0,0,0,0,0,0]),32],reserved:[[new t([8193,3512,0,0,0,0,0,0]),32]],benchmarking:[new t([8193,2,0,0,0,0,0,0]),48],amt:[new t([8193,3,0,0,0,0,0,0]),32],as112v6:[new t([8193,4,274,0,0,0,0,0]),48],deprecated:[new t([8193,16,0,0,0,0,0,0]),28],orchid2:[new t([8193,32,0,0,0,0,0,0]),28]};t.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"};t.prototype.kind=function(){return"ipv6"};t.prototype.match=function(t,e){var r;if(e===undefined){r=t;t=r[0];e=r[1]}if(t.kind()!=="ipv6"){throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one")}return l(this.parts,t.parts,16,e)};t.prototype.prefixLengthFromSubnetMask=function(){var t=0;var e=false;var r={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};var n,i;for(var o=7;o>=0;o-=1){n=this.parts[o];if(n in r){i=r[n];if(e&&i!==0){return null}if(i!==16){e=true}t+=i}else{return null}}return 128-t};t.prototype.range=function(){return v.subnetMatch(this,this.SpecialRanges)};t.prototype.toByteArray=function(){var t;var e=[];var r=this.parts;for(var n=0;n<r.length;n++){t=r[n];e.push(t>>8);e.push(t&255)}return e};t.prototype.toFixedLengthString=function(){var t=function(){var t=[];for(var e=0;e<this.parts.length;e++){t.push(p(this.parts[e].toString(16),4))}return t}.call(this).join(":");var e="";if(this.zoneId){e="%".concat(this.zoneId)}return t+e};t.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress()){throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4")}var t=this.parts.slice(-2);var e=t[0];var r=t[1];return new v.IPv4([e>>8,e&255,r>>8,r&255])};t.prototype.toNormalizedString=function(){var t=function(){var t=[];for(var e=0;e<this.parts.length;e++){t.push(this.parts[e].toString(16))}return t}.call(this).join(":");var e="";if(this.zoneId){e="%".concat(this.zoneId)}return t+e};t.prototype.toRFC5952String=function(){var t=/((^|:)(0(:|$)){2,})/g;var e=this.toNormalizedString();var r=0;var n=-1;var i;while(i=t.exec(e)){if(i[0].length>n){r=i.index;n=i[0].length}}if(n<0){return e}return"".concat(e.substring(0,r),"::").concat(e.substring(r+n))};t.prototype.toString=function(){return this.toRFC5952String()};return t}();v.IPv6.broadcastAddressFromCIDR=function(t){try{var e=this.parseCIDR(t);var r=e[0].toByteArray();var n=this.subnetMaskFromPrefixLength(e[1]).toByteArray();var i=[];var o=0;while(o<16){i.push(parseInt(r[o],10)|parseInt(n[o],10)^255);o++}return new this(i)}catch(t){throw new Error("ipaddr: the address does not have IPv6 CIDR format (".concat(t,")"))}};v.IPv6.isIPv6=function(t){return this.parser(t)!==null};v.IPv6.isValid=function(t){if(typeof t==="string"&&t.indexOf(":")===-1){return false}try{var e=this.parser(t);new this(e.parts,e.zoneId);return true}catch(t){return false}};v.IPv6.networkAddressFromCIDR=function(t){var e,r,n,i,o;try{e=this.parseCIDR(t);n=e[0].toByteArray();o=this.subnetMaskFromPrefixLength(e[1]).toByteArray();i=[];r=0;while(r<16){i.push(parseInt(n[r],10)&parseInt(o[r],10));r++}return new this(i)}catch(t){throw new Error("ipaddr: the address does not have IPv6 CIDR format (".concat(t,")"))}};v.IPv6.parse=function(t){var e=this.parser(t);if(e.parts===null){throw new Error("ipaddr: string is not formatted like an IPv6 Address")}return new this(e.parts,e.zoneId)};v.IPv6.parseCIDR=function(t){var e,r,n;if(r=t.match(/^(.+)\/(\d+)$/)){e=parseInt(r[2]);if(e>=0&&e<=128){n=[this.parse(r[1]),e];Object.defineProperty(n,"toString",{value:function(){return this.join("/")}});return n}}throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")};v.IPv6.parser=function(t){var e,r,n,i,o,a;if(n=t.match(u.deprecatedTransitional)){return this.parser("::ffff:".concat(n[1]))}if(u.native.test(t)){return c(t,8)}if(n=t.match(u.transitional)){a=n[6]||"";e=c(n[1].slice(0,-1)+a,6);if(e.parts){o=[parseInt(n[2]),parseInt(n[3]),parseInt(n[4]),parseInt(n[5])];for(r=0;r<o.length;r++){i=o[r];if(!(0<=i&&i<=255)){return null}}e.parts.push(o[0]<<8|o[1]);e.parts.push(o[2]<<8|o[3]);return{parts:e.parts,zoneId:e.zoneId}}}return null};v.IPv6.subnetMaskFromPrefixLength=function(t){t=parseInt(t);if(t<0||t>128){throw new Error("ipaddr: invalid IPv6 prefix length")}var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var r=0;var n=Math.floor(t/8);while(r<n){e[r]=255;r++}if(n<16){e[n]=Math.pow(2,t%8)-1<<8-t%8}return new this(e)};v.fromByteArray=function(t){var e=t.length;if(e===4){return new v.IPv4(t)}else if(e===16){return new v.IPv6(t)}else{throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")}};v.isValid=function(t){return v.IPv6.isValid(t)||v.IPv4.isValid(t)};v.parse=function(t){if(v.IPv6.isValid(t)){return v.IPv6.parse(t)}else if(v.IPv4.isValid(t)){return v.IPv4.parse(t)}else{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")}};v.parseCIDR=function(t){try{return v.IPv6.parseCIDR(t)}catch(e){try{return v.IPv4.parseCIDR(t)}catch(t){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}};v.process=function(t){var e=this.parse(t);if(e.kind()==="ipv6"&&e.isIPv4MappedAddress()){return e.toIPv4Address()}else{return e}};v.subnetMatch=function(t,e,r){var n,i,o,a;if(r===undefined||r===null){r="unicast"}for(i in e){if(Object.prototype.hasOwnProperty.call(e,i)){o=e[i];if(o[0]&&!(o[0]instanceof Array)){o=[o]}for(n=0;n<o.length;n++){a=o[n];if(t.kind()===a[0].kind()&&t.match.apply(t,a)){return i}}}}return r};if(t.exports){t.exports=v}else{e.ipaddr=v}})(Or)}));var Cr=function(){function t(){}t.decodeIP=function(t){if(t.length===64&&parseInt(t,16)===0){return"::/0"}if(t.length!==16){return t}var e=parseInt(t.slice(8),16).toString(2).split("").reduce((function(t,e){return t+ +e}),0);var r=t.slice(0,8).replace(/(.{2})/g,(function(t){return"".concat(parseInt(t,16),".")}));r=r.slice(0,-1);return"".concat(r,"/").concat(e)};t.toString=function(t){if(t.byteLength===4||t.byteLength===16){var e=new Uint8Array(t);var r=Er.fromByteArray(Array.from(e));return r.toString()}return this.decodeIP(v.ToHex(t))};t.fromString=function(t){var e=Er.parse(t);return new Uint8Array(e.toByteArray()).buffer};return t}();var Ur,Tr,Vr;var Lr=t("b0",function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}t.prototype.toString=function(){return this.bmpString||this.printableString||this.teletexString||this.universalString||this.utf8String||""};return t}());y([xr({type:Je.TeletexString})],Lr.prototype,"teletexString",void 0);y([xr({type:Je.PrintableString})],Lr.prototype,"printableString",void 0);y([xr({type:Je.UniversalString})],Lr.prototype,"universalString",void 0);y([xr({type:Je.Utf8String})],Lr.prototype,"utf8String",void 0);y([xr({type:Je.BmpString})],Lr.prototype,"bmpString",void 0);Lr=t("b0",y([Ar({type:qe.Choice})],Lr));var jr=function(t){__extends(e,t);function e(e){if(e===void 0){e={}}var r=t.call(this,e)||this;Object.assign(r,e);return r}e.prototype.toString=function(){return this.ia5String||(this.anyValue?v.ToHex(this.anyValue):t.prototype.toString.call(this))};return e}(Lr);y([xr({type:Je.IA5String})],jr.prototype,"ia5String",void 0);y([xr({type:Je.Any})],jr.prototype,"anyValue",void 0);jr=y([Ar({type:qe.Choice})],jr);var Hr=function(){function t(t){if(t===void 0){t={}}this.type="";this.value=new jr;Object.assign(this,t)}return t}();y([xr({type:Je.ObjectIdentifier})],Hr.prototype,"type",void 0);y([xr({type:jr})],Hr.prototype,"value",void 0);var Dr=Ur=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,Ur.prototype);return r}return e}(Ir);Dr=Ur=y([Ar({type:qe.Set,itemType:Hr})],Dr);var Rr=Tr=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,Tr.prototype);return r}return e}(Ir);Rr=Tr=y([Ar({type:qe.Sequence,itemType:Dr})],Rr);var Pr=t("ab",Vr=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,Vr.prototype);return r}return e}(Rr));Pr=t("ab",Vr=y([Ar({type:qe.Sequence})],Pr));var Mr={fromASN:function(t){return Cr.toString(tr.fromASN(t))},toASN:function(t){return tr.toASN(Cr.fromString(t))}};var Fr=function(){function t(t){if(t===void 0){t={}}this.typeId="";this.value=new ArrayBuffer(0);Object.assign(this,t)}return t}();t("b2",Fr);y([xr({type:Je.ObjectIdentifier})],Fr.prototype,"typeId",void 0);y([xr({type:Je.Any,context:0})],Fr.prototype,"value",void 0);var qr=function(){function t(t){if(t===void 0){t={}}this.partyName=new Lr;Object.assign(this,t)}return t}();t("b5",qr);y([xr({type:Lr,optional:true,context:0,implicit:true})],qr.prototype,"nameAssigner",void 0);y([xr({type:Lr,context:1,implicit:true})],qr.prototype,"partyName",void 0);var Jr=t("aV",function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}());y([xr({type:Fr,context:0,implicit:true})],Jr.prototype,"otherName",void 0);y([xr({type:Je.IA5String,context:1,implicit:true})],Jr.prototype,"rfc822Name",void 0);y([xr({type:Je.IA5String,context:2,implicit:true})],Jr.prototype,"dNSName",void 0);y([xr({type:Je.Any,context:3,implicit:true})],Jr.prototype,"x400Address",void 0);y([xr({type:Pr,context:4,implicit:false})],Jr.prototype,"directoryName",void 0);y([xr({type:qr,context:5})],Jr.prototype,"ediPartyName",void 0);y([xr({type:Je.IA5String,context:6,implicit:true})],Jr.prototype,"uniformResourceIdentifier",void 0);y([xr({type:Je.OctetString,context:7,implicit:true,converter:Mr})],Jr.prototype,"iPAddress",void 0);y([xr({type:Je.ObjectIdentifier,context:8,implicit:true})],Jr.prototype,"registeredID",void 0);Jr=t("aV",y([Ar({type:qe.Choice})],Jr));var zr="1.3.6.1.5.5.7";var Gr="".concat(zr,".1");var Wr="2.5.29";var $r;var Kr=t("ae","".concat(Gr,".1"));var Zr=function(){function t(t){if(t===void 0){t={}}this.accessMethod="";this.accessLocation=new Jr;Object.assign(this,t)}return t}();y([xr({type:Je.ObjectIdentifier})],Zr.prototype,"accessMethod",void 0);y([xr({type:Jr})],Zr.prototype,"accessLocation",void 0);var Yr=t("A",$r=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,$r.prototype);return r}return e}(Ir));Yr=t("A",$r=y([Ar({type:qe.Sequence,itemType:Zr})],Yr));var Xr=t("af","".concat(Wr,".35"));var Qr=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ge);var tn=function(){function t(t){if(t===void 0){t={}}if(t){Object.assign(this,t)}}return t}();t("a",tn);y([xr({type:Qr,context:0,optional:true,implicit:true})],tn.prototype,"keyIdentifier",void 0);y([xr({type:Jr,context:1,optional:true,implicit:true,repeated:"sequence"})],tn.prototype,"authorityCertIssuer",void 0);y([xr({type:Je.Integer,context:2,optional:true,implicit:true,converter:Ze})],tn.prototype,"authorityCertSerialNumber",void 0);var en=t("ag","".concat(Wr,".19"));var rn=function(){function t(t){if(t===void 0){t={}}this.cA=false;Object.assign(this,t)}return t}();t("B",rn);y([xr({type:Je.Boolean,defaultValue:false})],rn.prototype,"cA",void 0);y([xr({type:Je.Integer,optional:true})],rn.prototype,"pathLenConstraint",void 0);var nn;var on=t("aW",nn=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,nn.prototype);return r}return e}(Ir));on=t("aW",nn=y([Ar({type:qe.Sequence,itemType:Jr})],on));var an;var sn=t("ah","".concat(Wr,".29"));var un=t("ai",an=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,an.prototype);return r}return e}(on));un=t("ai",an=y([Ar({type:qe.Sequence})],un));var cn;var ln=t("aj","".concat(Wr,".32"));var fn=t("b3",function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}t.prototype.toString=function(){return this.ia5String||this.visibleString||this.bmpString||this.utf8String||""};return t}());y([xr({type:Je.IA5String})],fn.prototype,"ia5String",void 0);y([xr({type:Je.VisibleString})],fn.prototype,"visibleString",void 0);y([xr({type:Je.BmpString})],fn.prototype,"bmpString",void 0);y([xr({type:Je.Utf8String})],fn.prototype,"utf8String",void 0);fn=t("b3",y([Ar({type:qe.Choice})],fn));var pn=function(){function t(t){if(t===void 0){t={}}this.organization=new fn;this.noticeNumbers=[];Object.assign(this,t)}return t}();y([xr({type:fn})],pn.prototype,"organization",void 0);y([xr({type:Je.Integer,repeated:"sequence"})],pn.prototype,"noticeNumbers",void 0);var vn=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();t("b4",vn);y([xr({type:pn,optional:true})],vn.prototype,"noticeRef",void 0);y([xr({type:fn,optional:true})],vn.prototype,"explicitText",void 0);var hn=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();y([xr({type:Je.IA5String})],hn.prototype,"cPSuri",void 0);y([xr({type:vn})],hn.prototype,"userNotice",void 0);hn=y([Ar({type:qe.Choice})],hn);var dn=function(){function t(t){if(t===void 0){t={}}this.policyQualifierId="";this.qualifier=new ArrayBuffer(0);Object.assign(this,t)}return t}();y([xr({type:Je.ObjectIdentifier})],dn.prototype,"policyQualifierId",void 0);y([xr({type:Je.Any})],dn.prototype,"qualifier",void 0);var yn=function(){function t(t){if(t===void 0){t={}}this.policyIdentifier="";Object.assign(this,t)}return t}();y([xr({type:Je.ObjectIdentifier})],yn.prototype,"policyIdentifier",void 0);y([xr({type:dn,repeated:"sequence",optional:true})],yn.prototype,"policyQualifiers",void 0);var gn=t("C",cn=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,cn.prototype);return r}return e}(Ir));gn=t("C",cn=y([Ar({type:qe.Sequence,itemType:yn})],gn));var mn=t("aR","".concat(Wr,".20"));var bn=t("k",function(){function t(t){if(t===void 0){t=0}this.value=t}return t}());y([xr({type:Je.Integer})],bn.prototype,"value",void 0);bn=t("k",y([Ar({type:qe.Choice})],bn));var wn=t("aS","".concat(Wr,".27"));var Sn=t("aT",function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(bn));Sn=t("aT",y([Ar({type:qe.Choice})],Sn));var Bn;var kn=t("ak","".concat(Wr,".31"));var An;(function(t){t[t["unused"]=1]="unused";t[t["keyCompromise"]=2]="keyCompromise";t[t["cACompromise"]=4]="cACompromise";t[t["affiliationChanged"]=8]="affiliationChanged";t[t["superseded"]=16]="superseded";t[t["cessationOfOperation"]=32]="cessationOfOperation";t[t["certificateHold"]=64]="certificateHold";t[t["privilegeWithdrawn"]=128]="privilegeWithdrawn";t[t["aACompromise"]=256]="aACompromise"})(An||(An={}));var xn=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.toJSON=function(){var t=[];var e=this.toNumber();if(e&An.aACompromise){t.push("aACompromise")}if(e&An.affiliationChanged){t.push("affiliationChanged")}if(e&An.cACompromise){t.push("cACompromise")}if(e&An.certificateHold){t.push("certificateHold")}if(e&An.cessationOfOperation){t.push("cessationOfOperation")}if(e&An.keyCompromise){t.push("keyCompromise")}if(e&An.privilegeWithdrawn){t.push("privilegeWithdrawn")}if(e&An.superseded){t.push("superseded")}if(e&An.unused){t.push("unused")}return t};e.prototype.toString=function(){return"[".concat(this.toJSON().join(", "),"]")};return e}(ze);var In=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();y([xr({type:Jr,context:0,repeated:"sequence",implicit:true})],In.prototype,"fullName",void 0);y([xr({type:Dr,context:1,implicit:true})],In.prototype,"nameRelativeToCRLIssuer",void 0);In=y([Ar({type:qe.Choice})],In);var On=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();y([xr({type:In,context:0,optional:true})],On.prototype,"distributionPoint",void 0);y([xr({type:xn,context:1,optional:true,implicit:true})],On.prototype,"reasons",void 0);y([xr({type:Jr,context:2,optional:true,repeated:"sequence",implicit:true})],On.prototype,"cRLIssuer",void 0);var _n=t("b",Bn=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,Bn.prototype);return r}return e}(Ir));_n=t("b",Bn=y([Ar({type:qe.Sequence,itemType:On})],_n));var Nn;var En=Nn=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,Nn.prototype);return r}return e}(_n);En=Nn=y([Ar({type:qe.Sequence,itemType:On})],En);var Cn=t("al","".concat(Wr,".28"));var Un=function(){function t(e){if(e===void 0){e={}}this.onlyContainsUserCerts=t.ONLY;this.onlyContainsCACerts=t.ONLY;this.indirectCRL=t.ONLY;this.onlyContainsAttributeCerts=t.ONLY;Object.assign(this,e)}return t}();t("I",Un);Un.ONLY=false;y([xr({type:In,context:0,optional:true})],Un.prototype,"distributionPoint",void 0);y([xr({type:Je.Boolean,context:1,defaultValue:Un.ONLY,implicit:true})],Un.prototype,"onlyContainsUserCerts",void 0);y([xr({type:Je.Boolean,context:2,defaultValue:Un.ONLY,implicit:true})],Un.prototype,"onlyContainsCACerts",void 0);y([xr({type:xn,context:3,optional:true,implicit:true})],Un.prototype,"onlySomeReasons",void 0);y([xr({type:Je.Boolean,context:4,defaultValue:Un.ONLY,implicit:true})],Un.prototype,"indirectCRL",void 0);y([xr({type:Je.Boolean,context:5,defaultValue:Un.ONLY,implicit:true})],Un.prototype,"onlyContainsAttributeCerts",void 0);var Tn=t("am","".concat(Wr,".21"));var Vn;(function(t){t[t["unspecified"]=0]="unspecified";t[t["keyCompromise"]=1]="keyCompromise";t[t["cACompromise"]=2]="cACompromise";t[t["affiliationChanged"]=3]="affiliationChanged";t[t["superseded"]=4]="superseded";t[t["cessationOfOperation"]=5]="cessationOfOperation";t[t["certificateHold"]=6]="certificateHold";t[t["removeFromCRL"]=8]="removeFromCRL";t[t["privilegeWithdrawn"]=9]="privilegeWithdrawn";t[t["aACompromise"]=10]="aACompromise"})(Vn||(Vn={}));var Ln=t("c",function(){function t(t){if(t===void 0){t=Vn.unspecified}this.reason=Vn.unspecified;this.reason=t}t.prototype.toJSON=function(){return Vn[this.reason]};t.prototype.toString=function(){return this.toJSON()};return t}());y([xr({type:Je.Enumerated})],Ln.prototype,"reason",void 0);Ln=t("c",y([Ar({type:qe.Choice})],Ln));var jn;var Hn=t("an","".concat(Wr,".37"));var Dn=t("E",jn=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,jn.prototype);return r}return e}(Ir));Dn=t("E",jn=y([Ar({type:qe.Sequence,itemType:Je.ObjectIdentifier})],Dn));var Rn=t("ao","".concat(Wr,".54"));var Pn=t("ap",function(){function t(t){if(t===void 0){t=new ArrayBuffer(0)}this.value=t}return t}());y([xr({type:Je.Integer,converter:Ze})],Pn.prototype,"value",void 0);Pn=t("ap",y([Ar({type:qe.Choice})],Pn));var Mn=t("aq","".concat(Wr,".24"));var Fn=t("ar",function(){function t(t){this.value=new Date;if(t){this.value=t}}return t}());y([xr({type:Je.GeneralizedTime})],Fn.prototype,"value",void 0);Fn=t("ar",y([Ar({type:qe.Choice})],Fn));var qn;var Jn=t("as","".concat(Wr,".18"));var zn=t("at",qn=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,qn.prototype);return r}return e}(on));zn=t("at",qn=y([Ar({type:qe.Sequence})],zn));var Gn=t("au","".concat(Wr,".15"));var Wn;(function(t){t[t["digitalSignature"]=1]="digitalSignature";t[t["nonRepudiation"]=2]="nonRepudiation";t[t["keyEncipherment"]=4]="keyEncipherment";t[t["dataEncipherment"]=8]="dataEncipherment";t[t["keyAgreement"]=16]="keyAgreement";t[t["keyCertSign"]=32]="keyCertSign";t[t["cRLSign"]=64]="cRLSign";t[t["encipherOnly"]=128]="encipherOnly";t[t["decipherOnly"]=256]="decipherOnly"})(Wn||(Wn={}));var $n=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.toJSON=function(){var t=this.toNumber();var e=[];if(t&Wn.cRLSign){e.push("crlSign")}if(t&Wn.dataEncipherment){e.push("dataEncipherment")}if(t&Wn.decipherOnly){e.push("decipherOnly")}if(t&Wn.digitalSignature){e.push("digitalSignature")}if(t&Wn.encipherOnly){e.push("encipherOnly")}if(t&Wn.keyAgreement){e.push("keyAgreement")}if(t&Wn.keyCertSign){e.push("keyCertSign")}if(t&Wn.keyEncipherment){e.push("keyEncipherment")}if(t&Wn.nonRepudiation){e.push("nonRepudiation")}return e};e.prototype.toString=function(){return"[".concat(this.toJSON().join(", "),"]")};return e}(ze);t("K",$n);var Kn;var Zn=t("av","".concat(Wr,".30"));var Yn=function(){function t(t){if(t===void 0){t={}}this.base=new Jr;this.minimum=0;Object.assign(this,t)}return t}();y([xr({type:Jr})],Yn.prototype,"base",void 0);y([xr({type:Je.Integer,context:0,defaultValue:0,implicit:true})],Yn.prototype,"minimum",void 0);y([xr({type:Je.Integer,context:1,optional:true,implicit:true})],Yn.prototype,"maximum",void 0);var Xn=Kn=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,Kn.prototype);return r}return e}(Ir);Xn=Kn=y([Ar({type:qe.Sequence,itemType:Yn})],Xn);var Qn=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();t("N",Qn);y([xr({type:Xn,context:0,optional:true,implicit:true})],Qn.prototype,"permittedSubtrees",void 0);y([xr({type:Xn,context:1,optional:true,implicit:true})],Qn.prototype,"excludedSubtrees",void 0);var ti=t("aw","".concat(Wr,".36"));var ei=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();t("P",ei);y([xr({type:Je.Integer,context:0,implicit:true,optional:true,converter:Ze})],ei.prototype,"requireExplicitPolicy",void 0);y([xr({type:Je.Integer,context:1,implicit:true,optional:true,converter:Ze})],ei.prototype,"inhibitPolicyMapping",void 0);var ri;var ni=t("ax","".concat(Wr,".33"));var ii=function(){function t(t){if(t===void 0){t={}}this.issuerDomainPolicy="";this.subjectDomainPolicy="";Object.assign(this,t)}return t}();y([xr({type:Je.ObjectIdentifier})],ii.prototype,"issuerDomainPolicy",void 0);y([xr({type:Je.ObjectIdentifier})],ii.prototype,"subjectDomainPolicy",void 0);var oi=t("e",ri=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,ri.prototype);return r}return e}(Ir));oi=t("e",ri=y([Ar({type:qe.Sequence,itemType:ii})],oi));var ai;var si=t("ay","".concat(Wr,".17"));var ui=t("S",ai=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,ai.prototype);return r}return e}(on));ui=t("S",ai=y([Ar({type:qe.Sequence})],ui));var ci=function(){function t(t){if(t===void 0){t={}}this.type="";this.values=[];Object.assign(this,t)}return t}();t("a9",ci);y([xr({type:Je.ObjectIdentifier})],ci.prototype,"type",void 0);y([xr({type:Je.Any,repeated:"set"})],ci.prototype,"values",void 0);var li;var fi=t("az","".concat(Wr,".9"));var pi=t("f",li=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,li.prototype);return r}return e}(Ir));pi=t("f",li=y([Ar({type:qe.Sequence,itemType:ci})],pi));var vi=t("aA","".concat(Wr,".14"));var hi=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Qr);t("g",hi);var di=t("aM","".concat(Wr,".16"));var yi=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();t("h",yi);y([xr({type:Je.GeneralizedTime,context:0,implicit:true,optional:true})],yi.prototype,"notBefore",void 0);y([xr({type:Je.GeneralizedTime,context:1,implicit:true,optional:true})],yi.prototype,"notAfter",void 0);var gi=t("aN","1.2.840.113533.7.65.0");var mi;(function(t){t[t["keyUpdateAllowed"]=1]="keyUpdateAllowed";t[t["newExtensions"]=2]="newExtensions";t[t["pKIXCertificate"]=4]="pKIXCertificate"})(mi||(mi={}));var bi=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.toJSON=function(){var t=[];var e=this.toNumber();if(e&mi.pKIXCertificate){t.push("pKIXCertificate")}if(e&mi.newExtensions){t.push("newExtensions")}if(e&mi.keyUpdateAllowed){t.push("keyUpdateAllowed")}return t};e.prototype.toString=function(){return"[".concat(this.toJSON().join(", "),"]")};return e}(ze);var wi=function(){function t(t){if(t===void 0){t={}}this.entrustVers="";this.entrustInfoFlags=new bi;Object.assign(this,t)}return t}();t("i",wi);y([xr({type:Je.GeneralString})],wi.prototype,"entrustVers",void 0);y([xr({type:bi})],wi.prototype,"entrustInfoFlags",void 0);var Si;var Bi=t("aQ","".concat(Gr,".11"));var ki=t("j",Si=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,Si.prototype);return r}return e}(Ir));ki=t("j",Si=y([Ar({type:qe.Sequence,itemType:Zr})],ki));var Ai=function(){function t(t){if(t===void 0){t={}}this.algorithm="";Object.assign(this,t)}t.prototype.isEqual=function(e){return e instanceof t&&e.algorithm==this.algorithm&&(e.parameters&&this.parameters&&h(e.parameters,this.parameters)||e.parameters===this.parameters)};return t}();t("a1",Ai);y([xr({type:Je.ObjectIdentifier})],Ai.prototype,"algorithm",void 0);y([xr({type:Je.Any,optional:true})],Ai.prototype,"parameters",void 0);var xi=function(){function t(t){if(t===void 0){t={}}this.algorithm=new Ai;this.subjectPublicKey=new ArrayBuffer(0);Object.assign(this,t)}return t}();t("aa",xi);y([xr({type:Ai})],xi.prototype,"algorithm",void 0);y([xr({type:Je.BitString})],xi.prototype,"subjectPublicKey",void 0);var Ii=t("aZ",function(){function t(t){if(t){if(typeof t==="string"||typeof t==="number"||t instanceof Date){var e=new Date(t);if(e.getUTCFullYear()>2049){this.generalTime=e}else{this.utcTime=e}}else{Object.assign(this,t)}}}t.prototype.getTime=function(){var t=this.utcTime||this.generalTime;if(!t){throw new Error("Cannot get time from CHOICE object")}return t};return t}());y([xr({type:Je.UTCTime})],Ii.prototype,"utcTime",void 0);y([xr({type:Je.GeneralizedTime})],Ii.prototype,"generalTime",void 0);Ii=t("aZ",y([Ar({type:qe.Choice})],Ii));var Oi=function(){function t(t){this.notBefore=new Ii(new Date);this.notAfter=new Ii(new Date);if(t){this.notBefore=new Ii(t.notBefore);this.notAfter=new Ii(t.notAfter)}}return t}();y([xr({type:Ii})],Oi.prototype,"notBefore",void 0);y([xr({type:Ii})],Oi.prototype,"notAfter",void 0);var _i;var Ni=function(){function t(e){if(e===void 0){e={}}this.extnID="";this.critical=t.CRITICAL;this.extnValue=new Ge;Object.assign(this,e)}return t}();t("ac",Ni);Ni.CRITICAL=false;y([xr({type:Je.ObjectIdentifier})],Ni.prototype,"extnID",void 0);y([xr({type:Je.Boolean,defaultValue:Ni.CRITICAL})],Ni.prototype,"critical",void 0);y([xr({type:Ge})],Ni.prototype,"extnValue",void 0);var Ei=t("aX",_i=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,_i.prototype);return r}return e}(Ir));Ei=t("aX",_i=y([Ar({type:qe.Sequence,itemType:Ni})],Ei));var Ci;(function(t){t[t["v1"]=0]="v1";t[t["v2"]=1]="v2";t[t["v3"]=2]="v3"})(Ci||(Ci={}));var Ui=function(){function t(t){if(t===void 0){t={}}this.version=Ci.v1;this.serialNumber=new ArrayBuffer(0);this.signature=new Ai;this.issuer=new Pr;this.validity=new Oi;this.subject=new Pr;this.subjectPublicKeyInfo=new xi;Object.assign(this,t)}return t}();y([xr({type:Je.Integer,context:0,defaultValue:Ci.v1})],Ui.prototype,"version",void 0);y([xr({type:Je.Integer,converter:Ze})],Ui.prototype,"serialNumber",void 0);y([xr({type:Ai})],Ui.prototype,"signature",void 0);y([xr({type:Pr})],Ui.prototype,"issuer",void 0);y([xr({type:Oi})],Ui.prototype,"validity",void 0);y([xr({type:Pr})],Ui.prototype,"subject",void 0);y([xr({type:xi})],Ui.prototype,"subjectPublicKeyInfo",void 0);y([xr({type:Je.BitString,context:1,implicit:true,optional:true})],Ui.prototype,"issuerUniqueID",void 0);y([xr({type:Je.BitString,context:2,implicit:true,optional:true})],Ui.prototype,"subjectUniqueID",void 0);y([xr({type:Ei,context:3,optional:true})],Ui.prototype,"extensions",void 0);var Ti=function(){function t(t){if(t===void 0){t={}}this.tbsCertificate=new Ui;this.signatureAlgorithm=new Ai;this.signatureValue=new ArrayBuffer(0);Object.assign(this,t)}return t}();t("a_",Ti);y([xr({type:Ui})],Ti.prototype,"tbsCertificate",void 0);y([xr({type:Ai})],Ti.prototype,"signatureAlgorithm",void 0);y([xr({type:Je.BitString})],Ti.prototype,"signatureValue",void 0);var Vi=function(){function t(t){if(t===void 0){t={}}this.userCertificate=new ArrayBuffer(0);this.revocationDate=new Ii;Object.assign(this,t)}return t}();y([xr({type:Je.Integer,converter:Ze})],Vi.prototype,"userCertificate",void 0);y([xr({type:Ii})],Vi.prototype,"revocationDate",void 0);y([xr({type:Ni,optional:true,repeated:"sequence"})],Vi.prototype,"crlEntryExtensions",void 0);var Li=function(){function t(t){if(t===void 0){t={}}this.signature=new Ai;this.issuer=new Pr;this.thisUpdate=new Ii;Object.assign(this,t)}return t}();y([xr({type:Je.Integer,optional:true})],Li.prototype,"version",void 0);y([xr({type:Ai})],Li.prototype,"signature",void 0);y([xr({type:Pr})],Li.prototype,"issuer",void 0);y([xr({type:Ii})],Li.prototype,"thisUpdate",void 0);y([xr({type:Ii,optional:true})],Li.prototype,"nextUpdate",void 0);y([xr({type:Vi,repeated:"sequence",optional:true})],Li.prototype,"revokedCertificates",void 0);y([xr({type:Ni,optional:true,context:0,repeated:"sequence"})],Li.prototype,"crlExtensions",void 0);var ji=function(){function t(t){if(t===void 0){t={}}this.tbsCertList=new Li;this.signatureAlgorithm=new Ai;this.signature=new ArrayBuffer(0);Object.assign(this,t)}return t}();t("b1",ji);y([xr({type:Li})],ji.prototype,"tbsCertList",void 0);y([xr({type:Ai})],ji.prototype,"signatureAlgorithm",void 0);y([xr({type:Je.BitString})],ji.prototype,"signature",void 0);var Hi;var Di=t("aO","".concat(Gr,".2"));var Ri;(function(t){t[t["picture"]=0]="picture";t[t["handwrittenSignature"]=1]="handwrittenSignature"})(Ri||(Ri={}));var Pi=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();y([xr({type:Je.Integer})],Pi.prototype,"predefinedBiometricType",void 0);y([xr({type:Je.ObjectIdentifier})],Pi.prototype,"biometricDataOid",void 0);Pi=y([Ar({type:qe.Choice})],Pi);var Mi=function(){function t(t){if(t===void 0){t={}}this.typeOfBiometricData=new Pi;this.hashAlgorithm=new Ai;this.biometricDataHash=new Ge;Object.assign(this,t)}return t}();y([xr({type:Pi})],Mi.prototype,"typeOfBiometricData",void 0);y([xr({type:Ai})],Mi.prototype,"hashAlgorithm",void 0);y([xr({type:Ge})],Mi.prototype,"biometricDataHash",void 0);y([xr({type:Je.IA5String,optional:true})],Mi.prototype,"sourceDataUri",void 0);var Fi=t("l",Hi=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,Hi.prototype);return r}return e}(Ir));Fi=t("l",Hi=y([Ar({type:qe.Sequence,itemType:Mi})],Fi));var qi="".concat(zr,".11");var Ji,zi;var Gi=t("aB","".concat(Gr,".3"));var Wi=function(){function t(){this.statementId="";this.statementInfo=new ArrayBuffer(0)}return t}();y([xr({type:Je.ObjectIdentifier})],Wi.prototype,"statementId",void 0);y([xr({type:Je.Any,optional:true})],Wi.prototype,"statementInfo",void 0);var $i=t("b6","".concat(qi,".2"));var Ki=Ji=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,Ji.prototype);return r}return e}(Ir);Ki=Ji=y([Ar({type:qe.Sequence,itemType:Jr})],Ki);var Zi=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();t("b7",Zi);y([xr({type:Je.ObjectIdentifier,optional:true})],Zi.prototype,"semanticsIdentifier",void 0);y([xr({type:Ki,optional:true})],Zi.prototype,"nameRegistrationAuthorities",void 0);var Yi=t("Q",zi=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,zi.prototype);return r}return e}(Ir));Yi=t("Q",zi=y([Ar({type:qe.Sequence,itemType:Wi})],Yi));var Xi=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Lr);Xi=y([Ar({type:qe.Choice})],Xi);var Qi;(function(t){t["M"]="M";t["F"]="F";t["m"]="m";t["f"]="f"})(Qi||(Qi={}));var to;var eo=to=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,to.prototype);return r}return e}(gn);eo=to=y([Ar({type:qe.Sequence})],eo);var ro=t("aC","1.3.6.1.4.1.311.21.7");var no=function(){function t(t){if(t===void 0){t={}}this.templateID="";this.templateMajorVersion=0;this.templateMinorVersion=0;Object.assign(this,t)}return t}();t("m",no);y([xr({type:Je.ObjectIdentifier})],no.prototype,"templateID",void 0);y([xr({type:Je.Integer})],no.prototype,"templateMajorVersion",void 0);y([xr({type:Je.Integer})],no.prototype,"templateMinorVersion",void 0);var io=t("aD","1.3.6.1.4.1.311.20.2");var oo=function(){function t(t){if(t===void 0){t={}}this.name="";Object.assign(this,t)}return t}();y([xr({type:Je.Utf8String})],oo.prototype,"name",void 0);var ao=t("n",function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}t.prototype.toString=function(){var t,e;return((t=this.name)===null||t===void 0?void 0:t.toString())||((e=this.spec)===null||e===void 0?void 0:e.name)||""};return t}());y([xr({type:Lr})],ao.prototype,"name",void 0);y([xr({type:oo})],ao.prototype,"spec",void 0);ao=t("n",y([Ar({type:qe.Choice})],ao));var so=t("aG","1.3.6.1.4.1.311.21.1");var uo=t("o",function(){function t(){this.value=new ArrayBuffer(0)}t.prototype.toString=function(){var t=this.getVersion();return"V".concat(t.certificateIndex,".").concat(t.keyIndex)};t.prototype.getVersion=function(){var t=new Uint8Array(this.value);if(this.value.byteLength<4){t=new Uint8Array(4);t.set(new Uint8Array(this.value),4-this.value.byteLength)}return{keyIndex:parseInt(v.ToHex(t.slice(0,2)),16),certificateIndex:parseInt(v.ToHex(t.slice(2)),16)}};return t}());y([xr({type:Je.Integer,converter:Ze})],uo.prototype,"value",void 0);uo=t("o",y([Ar({type:qe.Choice})],uo));var co=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();y([xr({type:Je.NumericString})],co.prototype,"numericString",void 0);y([xr({type:Je.PrintableString})],co.prototype,"printableString",void 0);y([xr({type:Je.TeletexString})],co.prototype,"teletexString",void 0);y([xr({type:Je.VideotexString})],co.prototype,"videotexString",void 0);y([xr({type:Je.IA5String})],co.prototype,"ia5String",void 0);y([xr({type:Je.GraphicString})],co.prototype,"graphicString",void 0);y([xr({type:Je.VisibleString})],co.prototype,"visibleString",void 0);y([xr({type:Je.GeneralString})],co.prototype,"generalString",void 0);y([xr({type:Je.UniversalString})],co.prototype,"universalString",void 0);y([xr({type:Je.BmpString})],co.prototype,"bmpString",void 0);co=y([Ar({type:qe.Choice})],co);var lo=function(){function t(t){if(t===void 0){t=new ArrayBuffer(0)}this.value=t}return t}();y([xr({type:Je.Any})],lo.prototype,"value",void 0);lo=y([Ar({type:qe.Choice})],lo);var fo;var po=fo=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,fo.prototype);return r}return e}(Ei);po=fo=y([Ar({type:qe.Sequence})],po);var vo=function(){function t(t){if(t===void 0){t={}}this.keySpec=0;this.cspName="";this.signature=new ArrayBuffer(0);Object.assign(this,t)}return t}();y([xr({type:Je.Integer})],vo.prototype,"keySpec",void 0);y([xr({type:Je.BmpString})],vo.prototype,"cspName",void 0);y([xr({type:Je.BitString})],vo.prototype,"signature",void 0);var ho;var yo=ho=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,ho.prototype);return r}return e}(Ir);yo=ho=y([Ar({type:qe.Sequence,itemType:Je.Any})],yo);var go;var mo=go=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,go.prototype);return r}return e}(Ir);mo=go=y([Ar({type:qe.Sequence,itemType:Je.Any})],mo);var bo;var wo=function(){function t(t){if(t===void 0){t={}}this.name="";this.value="";Object.assign(this,t)}return t}();y([xr({type:Je.BmpString})],wo.prototype,"name",void 0);y([xr({type:Je.BmpString})],wo.prototype,"value",void 0);var So=bo=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,bo.prototype);return r}return e}(Ir);So=bo=y([Ar({type:qe.Sequence,itemType:wo})],So);var Bo=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Fr);Bo=y([Ar({type:qe.Sequence})],Bo);var ko=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Fr);ko=y([Ar({type:qe.Sequence})],ko);var Ao=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ti);Ao=y([Ar({type:qe.Sequence})],Ao);var xo=function(){function t(t){if(t===void 0){t={}}this.clientId=0;this.machineName="";this.userName="";this.processName="";Object.assign(this,t)}return t}();y([xr({type:Je.Integer})],xo.prototype,"clientId",void 0);y([xr({type:Je.Utf8String})],xo.prototype,"machineName",void 0);y([xr({type:Je.Utf8String})],xo.prototype,"userName",void 0);y([xr({type:Je.Utf8String})],xo.prototype,"processName",void 0);var Io="2.16.840.1.113730";var Oo="".concat(Io,".1");var _o=function(){function t(t){this.value="";if(t){this.value=t}}return t}();y([xr({type:Je.IA5String})],_o.prototype,"value",void 0);_o=y([Ar({type:qe.Choice})],_o);var No=function(){function t(t){this.value="";if(t){this.value=t}}return t}();y([xr({type:Je.IA5String})],No.prototype,"value",void 0);No=y([Ar({type:qe.Choice})],No);var Eo=function(){function t(t){this.value="";if(t){this.value=t}}return t}();y([xr({type:Je.IA5String})],Eo.prototype,"value",void 0);Eo=y([Ar({type:qe.Choice})],Eo);var Co=function(){function t(t){this.value="";if(t){this.value=t}}return t}();y([xr({type:Je.IA5String})],Co.prototype,"value",void 0);Co=y([Ar({type:qe.Choice})],Co);var Uo=t("aF","".concat(Oo,".1"));var To;(function(t){t[t["sslClient"]=1]="sslClient";t[t["sslServer"]=2]="sslServer";t[t["sMime"]=4]="sMime";t[t["objectSigning"]=8]="objectSigning";t[t["sslCa"]=32]="sslCa";t[t["sMimeCa"]=64]="sMimeCa";t[t["objectSigningCa"]=128]="objectSigningCa"})(To||(To={}));var Vo=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.toJSON=function(){var t=this.toNumber();var e=[];if(t&To.objectSigning){e.push("objectSigning")}if(t&To.objectSigningCa){e.push("objectSigningCa")}if(t&To.sMime){e.push("sMime")}if(t&To.sMimeCa){e.push("sMimeCa")}if(t&To.sslCa){e.push("sslCa")}if(t&To.sslClient){e.push("sslClient")}if(t&To.sslServer){e.push("sslServer")}return e};e.prototype.toString=function(){return"[".concat(this.toJSON().join(", "),"]")};return e}(ze);t("q",Vo);var Lo=t("aE","".concat(Oo,".13"));var jo=t("p",function(){function t(t){this.value="";if(t){this.value=t}}return t}());y([xr({type:Je.IA5String})],jo.prototype,"value",void 0);jo=t("p",y([Ar({type:qe.Choice})],jo));var Ho=function(){function t(t){this.value="";if(t){this.value=t}}return t}();y([xr({type:Je.IA5String})],Ho.prototype,"value",void 0);Ho=y([Ar({type:qe.Choice})],Ho);var Do=function(){function t(t){this.value="";if(t){this.value=t}}return t}();y([xr({type:Je.IA5String})],Do.prototype,"value",void 0);Do=y([Ar({type:qe.Choice})],Do);var Ro=t("aI","1.3.6.1.4.1.52266.1");var Po=function(){function t(t){if(t===void 0){t={}}this.leiCode="";Object.assign(this,t)}return t}();y([xr({type:se})],Po.prototype,"leiCode",void 0);y([xr({type:se,context:0,optional:true})],Po.prototype,"leiRole",void 0);Po=y([Ar({type:qe.Sequence})],Po);var Mo=function(){function t(t){if(t){this.text=t}}Object.defineProperty(t.prototype,"text",{get:function(){if(this.bmpString!==undefined){return this.bmpString}if(this.ia5String!==undefined){return this.ia5String}if(this.printableString!==undefined){return this.printableString}if(this.utf8String!==undefined){return this.utf8String}if(this.visibleString!==undefined){return this.visibleString}return undefined},set:function(t){this.printableString=t},enumerable:false,configurable:true});return t}();y([xr({type:Je.IA5String})],Mo.prototype,"ia5String",void 0);y([xr({type:Je.VisibleString})],Mo.prototype,"visibleString",void 0);y([xr({type:Je.BmpString})],Mo.prototype,"bmpString",void 0);y([xr({type:Je.Utf8String})],Mo.prototype,"utf8String",void 0);y([xr({type:Je.PrintableString})],Mo.prototype,"printableString",void 0);Mo=y([Ar({type:qe.Choice})],Mo);var Fo=t("L",function(t){__extends(e,t);function e(e){var r=t.call(this)||this;if(typeof e==="string"){r.text=e}else if(e instanceof Po){r.struct=e}return r}return e}(Mo));y([xr({type:Po})],Fo.prototype,"struct",void 0);Fo=t("L",y([Ar({type:qe.Choice})],Fo));var qo=t("aJ","1.3.6.1.4.1.52266.2");var Jo=t("r",function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Mo));Jo=t("r",y([Ar({type:qe.Choice})],Jo));var zo=function(){function t(t){this.offset=0;this.view=p.toUint8Array(t)}Object.defineProperty(t.prototype,"position",{get:function(){return this.offset},enumerable:false,configurable:true});t.prototype.read=function(t){if(t===void 0){t=1}var e=this.view.slice(this.offset,this.offset+t);this.offset=this.offset+e.length;return e};t.prototype.readByte=function(){var t=this.read();if(!t.length){throw new Error("End of stream")}return t[0]};t.prototype.readNumber=function(t){var e=this.read(t);var r=v.ToHex(e);return parseInt(r,16)};t.prototype.readEnd=function(){return this.read(this.view.length-this.offset)};t.prototype.reset=function(){this.offset=0};return t}();var Go=function(){function t(){}t.createStream=function(t){var e=p.toUint8Array(t);return new zo(e)};return t}();var Wo;(function(t){t[t["certificateTimestamp"]=0]="certificateTimestamp";t[t["treeHash"]=1]="treeHash"})(Wo||(Wo={}));var $o;(function(t){t[t["none"]=0]="none";t[t["md5"]=1]="md5";t[t["sha1"]=2]="sha1";t[t["sha224"]=3]="sha224";t[t["sha256"]=4]="sha256";t[t["sha384"]=5]="sha384";t[t["sha512"]=6]="sha512"})($o||($o={}));var Ko;(function(t){t[t["anonymous"]=0]="anonymous";t[t["rsa"]=1]="rsa";t[t["dsa"]=2]="dsa";t[t["ecdsa"]=3]="ecdsa"})(Ko||(Ko={}));var Zo=function(t){__extends(e,t);function e(e){var r=t.call(this)||this;r.version=0;r.logId=new ArrayBuffer(32);r.timestamp=new Date;r.extensions=new ArrayBuffer(0);r.hashAlgorithm=0;r.signatureAlgorithm=0;r.signature=new ArrayBuffer(0);if(e){r.parse(e)}return r}e.prototype.parse=function(t){this.version=t.readByte();t.read(2);this.logId=p.toArrayBuffer(t.read(32));this.timestamp=new Date(t.readNumber(8));var e=t.readNumber(2);this.extensions=t.read(e).buffer;this.hashAlgorithm=t.readByte();this.signatureAlgorithm=t.readByte();this.signature=t.read(t.readNumber(2)).buffer};e.prototype.toJSON=function(){return{version:this.version,logId:v.ToHex(this.logId),timestamp:this.timestamp,extensions:v.ToBase64(this.extensions),hashAlgorithm:$o[this.hashAlgorithm]||"undefined",signatureAlgorithm:Ko[this.signatureAlgorithm]||"undefined",signature:v.ToBase64(this.signature)}};return e}(Go);var Yo=t("aH","1.3.6.1.4.1.11129.2.4.2");var Xo=function(t){__extends(e,t);function e(){var e=t.apply(this,arguments)||this;e.items=[];return e}e.prototype.fromASN=function(e){t.prototype.fromASN.call(this,e);var r=new zo(this.buffer);var n=r.readNumber(2);this.items=[];while(r.position<n){this.items.push(new Zo(r))}return this};e.prototype.toJSON=function(){return this.items.map((function(t){return t.toJSON()}))};return e}(Ge);t("s",Xo);var Qo;(function(t){t[t["v1"]=1]="v1"})(Qo||(Qo={}));var ta=t("aL","1.2.840.113583.1.1.9.2");var ea=function(){function t(t){if(t===void 0){t={}}this.version=Qo.v1;Object.assign(this,t)}return t}();t("t",ea);y([xr({type:Je.Integer})],ea.prototype,"version",void 0);var ra=t("aK","1.2.840.113583.1.1.9.1");var na=function(){function t(t){if(t===void 0){t={}}this.version=Qo.v1;this.location=new Jr;this.requiresAuth=false;Object.assign(this,t)}return t}();t("T",na);y([xr({type:Je.Integer})],na.prototype,"version",void 0);y([xr({type:Jr})],na.prototype,"location",void 0);y([xr({type:Je.Boolean,defaultValue:false,optional:true})],na.prototype,"requiresAuth",void 0);var ia=function(){function t(t){if(t===void 0){t={}}this.hashAlg=new Ai;this.hashValue=new Ge;Object.assign(this,t)}return t}();y([xr({type:Ai})],ia.prototype,"hashAlg",void 0);y([xr({type:Ge})],ia.prototype,"hashValue",void 0);var oa=function(){function t(t){if(t===void 0){t={}}this.mediaType="";this.logotypeHash=[];this.logotypeURI=[];Object.assign(this,t)}return t}();y([xr({type:Je.IA5String})],oa.prototype,"mediaType",void 0);y([xr({type:ia,repeated:"sequence"})],oa.prototype,"logotypeHash",void 0);y([xr({type:Je.IA5String,repeated:"sequence"})],oa.prototype,"logotypeURI",void 0);var aa;(function(t){t[t["mono"]=1]="mono";t[t["stereo"]=2]="stereo";t[t["quad"]=4]="quad"})(aa||(aa={}));var sa=function(){function t(t){if(t===void 0){t={}}this.fileSize=0;this.playTime=0;this.channels=aa.mono;Object.assign(this,t)}return t}();y([xr({type:Je.Integer})],sa.prototype,"fileSize",void 0);y([xr({type:Je.Integer})],sa.prototype,"playTime",void 0);y([xr({type:Je.Integer})],sa.prototype,"channels",void 0);y([xr({type:Je.Integer,implicit:true,context:3,optional:true})],sa.prototype,"sampleRate",void 0);y([xr({type:Je.IA5String,implicit:true,context:4,optional:true})],sa.prototype,"language",void 0);var ua=function(){function t(t){if(t===void 0){t={}}this.audioDetails=new oa;Object.assign(this,t)}return t}();y([xr({type:oa})],ua.prototype,"audioDetails",void 0);y([xr({type:sa,optional:true})],ua.prototype,"audioInfo",void 0);var ca=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();y([xr({type:Je.Integer,context:1,implicit:true})],ca.prototype,"numBits",void 0);y([xr({type:Je.Integer,context:2,implicit:true})],ca.prototype,"tableSize",void 0);ca=y([Ar({type:qe.Choice})],ca);var la;(function(t){t[t["grayScale"]=0]="grayScale";t[t["color"]=1]="color"})(la||(la={}));var fa=function(){function t(t){if(t===void 0){t={}}this.type=la.color;this.fileSize=0;this.xSize=0;this.ySize=0;Object.assign(this,t)}return t}();y([xr({type:Je.Integer,context:0,implicit:true,defaultValue:la.color})],fa.prototype,"type",void 0);y([xr({type:Je.Integer})],fa.prototype,"fileSize",void 0);y([xr({type:Je.Integer})],fa.prototype,"xSize",void 0);y([xr({type:Je.Integer})],fa.prototype,"ySize",void 0);y([xr({type:ca})],fa.prototype,"resolution",void 0);y([xr({type:Je.IA5String,context:4,implicit:true,optional:true})],fa.prototype,"language",void 0);var pa=function(){function t(t){if(t===void 0){t={}}this.imageDetails=new oa;Object.assign(this,t)}return t}();y([xr({type:oa})],pa.prototype,"imageDetails",void 0);y([xr({type:fa,optional:true})],pa.prototype,"imageInfo",void 0);var va=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();y([xr({type:pa,repeated:"sequence",optional:true})],va.prototype,"image",void 0);y([xr({type:ua,repeated:"sequence",context:1,optional:true})],va.prototype,"audio",void 0);var ha=function(){function t(t){if(t===void 0){t={}}this.refStructHash=[];this.refStructURI=[];Object.assign(this,t)}return t}();y([xr({type:ia,repeated:"sequence"})],ha.prototype,"refStructHash",void 0);y([xr({type:Je.IA5String,repeated:"sequence"})],ha.prototype,"refStructURI",void 0);var da=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();y([xr({type:va,implicit:true,context:0})],da.prototype,"direct",void 0);y([xr({type:ha,implicit:true,context:1})],da.prototype,"indirect",void 0);da=y([Ar({type:qe.Choice})],da);var ya=function(){function t(t){if(t===void 0){t={}}this.logotypeType="";this.info=new da;Object.assign(this,t)}return t}();y([xr({type:Je.ObjectIdentifier})],ya.prototype,"logotypeType",void 0);y([xr({type:da})],ya.prototype,"info",void 0);var ga=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();t("u",ga);y([xr({type:da,context:0,repeated:"sequence",optional:true})],ga.prototype,"communityLogos",void 0);y([xr({type:da,context:1,optional:true})],ga.prototype,"issuerLogo",void 0);y([xr({type:da,context:2,optional:true})],ga.prototype,"subjectLogo",void 0);y([xr({type:ya,context:3,repeated:"sequence",optional:true})],ga.prototype,"otherLogos",void 0);var ma,ba,wa;var Sa="1.3.6.1.5.5.7";var Ba="".concat(Sa,".1");var ka=ma=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,ma.prototype);return r}return e}(Ir);ka=ma=y([Ar({type:qe.Sequence,itemType:Je.IA5String})],ka);var Aa=function(){function t(t){if(t===void 0){t={}}this.claim="";this.permitted=[];Object.assign(this,t)}return t}();y([xr({type:Je.IA5String})],Aa.prototype,"claim",void 0);y([xr({type:Je.Utf8String,repeated:"sequence"})],Aa.prototype,"permitted",void 0);var xa=ba=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,ba.prototype);return r}return e}(Ir);xa=ba=y([Ar({type:qe.Sequence,itemType:Aa})],xa);var Ia=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();y([xr({type:ka,optional:true,context:0})],Ia.prototype,"mustInclude",void 0);y([xr({type:xa,optional:true,context:1})],Ia.prototype,"permittedValues",void 0);var Oa=t("aP","".concat(Ba,".26"));var _a=function(){function t(){this.start="";this.count=2}return t}();y([xr({type:Je.IA5String})],_a.prototype,"start",void 0);y([xr({type:Je.Integer})],_a.prototype,"count",void 0);var Na=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();y([xr({type:Je.IA5String,context:0})],Na.prototype,"spc",void 0);y([xr({type:_a,context:1})],Na.prototype,"range",void 0);y([xr({type:Je.IA5String,context:2})],Na.prototype,"one",void 0);Na=y([Ar({type:qe.Choice})],Na);var Ea=t("v",wa=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,wa.prototype);return r}return e}(Ir));Ea=t("v",wa=y([Ar({type:qe.Sequence,itemType:Na})],Ea));var Ca;var Ua=t("aU","1.3.6.1.4.1.11129.2.1.17");var Ta;(function(t){t[t["verified"]=0]="verified";t[t["selfSigned"]=1]="selfSigned";t[t["unverified"]=2]="unverified";t[t["failed"]=3]="failed"})(Ta||(Ta={}));var Va=function(){function t(t){if(t===void 0){t={}}this.verifiedBootKey=new Ge;this.deviceLocked=false;this.verifiedBootState=Ta.verified;Object.assign(this,t)}return t}();t("b9",Va);y([xr({type:Ge})],Va.prototype,"verifiedBootKey",void 0);y([xr({type:Je.Boolean})],Va.prototype,"deviceLocked",void 0);y([xr({type:Je.Enumerated})],Va.prototype,"verifiedBootState",void 0);y([xr({type:Ge,optional:true})],Va.prototype,"verifiedBootHash",void 0);var La=t("ba",Ca=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,Ca.prototype);return r}return e}(Ir));La=t("ba",Ca=y([Ar({type:qe.Set,itemType:Je.Integer})],La));var ja=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();y([xr({context:1,type:La,optional:true})],ja.prototype,"purpose",void 0);y([xr({context:2,type:Je.Integer,optional:true})],ja.prototype,"algorithm",void 0);y([xr({context:3,type:Je.Integer,optional:true})],ja.prototype,"keySize",void 0);y([xr({context:5,type:La,optional:true})],ja.prototype,"digest",void 0);y([xr({context:6,type:La,optional:true})],ja.prototype,"padding",void 0);y([xr({context:10,type:Je.Integer,optional:true})],ja.prototype,"ecCurve",void 0);y([xr({context:200,type:Je.Integer,optional:true})],ja.prototype,"rsaPublicExponent",void 0);y([xr({context:203,type:La,optional:true})],ja.prototype,"mgfDigest",void 0);y([xr({context:303,type:Je.Null,optional:true})],ja.prototype,"rollbackResistance",void 0);y([xr({context:305,type:Je.Null,optional:true})],ja.prototype,"earlyBootOnly",void 0);y([xr({context:400,type:Je.Integer,optional:true})],ja.prototype,"activeDateTime",void 0);y([xr({context:401,type:Je.Integer,optional:true})],ja.prototype,"originationExpireDateTime",void 0);y([xr({context:402,type:Je.Integer,optional:true})],ja.prototype,"usageExpireDateTime",void 0);y([xr({context:405,type:Je.Integer,optional:true})],ja.prototype,"usageCountLimit",void 0);y([xr({context:503,type:Je.Null,optional:true})],ja.prototype,"noAuthRequired",void 0);y([xr({context:504,type:Je.Integer,optional:true})],ja.prototype,"userAuthType",void 0);y([xr({context:505,type:Je.Integer,optional:true})],ja.prototype,"authTimeout",void 0);y([xr({context:506,type:Je.Null,optional:true})],ja.prototype,"allowWhileOnBody",void 0);y([xr({context:507,type:Je.Null,optional:true})],ja.prototype,"trustedUserPresenceRequired",void 0);y([xr({context:508,type:Je.Null,optional:true})],ja.prototype,"trustedConfirmationRequired",void 0);y([xr({context:509,type:Je.Null,optional:true})],ja.prototype,"unlockedDeviceRequired",void 0);y([xr({context:600,type:Je.Null,optional:true})],ja.prototype,"allApplications",void 0);y([xr({context:601,type:Ge,optional:true})],ja.prototype,"applicationId",void 0);y([xr({context:701,type:Je.Integer,optional:true})],ja.prototype,"creationDateTime",void 0);y([xr({context:702,type:Je.Integer,optional:true})],ja.prototype,"origin",void 0);y([xr({context:703,type:Je.Null,optional:true})],ja.prototype,"rollbackResistant",void 0);y([xr({context:704,type:Va,optional:true})],ja.prototype,"rootOfTrust",void 0);y([xr({context:705,type:Je.Integer,optional:true})],ja.prototype,"osVersion",void 0);y([xr({context:706,type:Je.Integer,optional:true})],ja.prototype,"osPatchLevel",void 0);y([xr({context:709,type:Ge,optional:true})],ja.prototype,"attestationApplicationId",void 0);y([xr({context:710,type:Ge,optional:true})],ja.prototype,"attestationIdBrand",void 0);y([xr({context:711,type:Ge,optional:true})],ja.prototype,"attestationIdDevice",void 0);y([xr({context:712,type:Ge,optional:true})],ja.prototype,"attestationIdProduct",void 0);y([xr({context:713,type:Ge,optional:true})],ja.prototype,"attestationIdSerial",void 0);y([xr({context:714,type:Ge,optional:true})],ja.prototype,"attestationIdImei",void 0);y([xr({context:715,type:Ge,optional:true})],ja.prototype,"attestationIdMeid",void 0);y([xr({context:716,type:Ge,optional:true})],ja.prototype,"attestationIdManufacturer",void 0);y([xr({context:717,type:Ge,optional:true})],ja.prototype,"attestationIdModel",void 0);y([xr({context:718,type:Je.Integer,optional:true})],ja.prototype,"vendorPatchLevel",void 0);y([xr({context:719,type:Je.Integer,optional:true})],ja.prototype,"bootPatchLevel",void 0);y([xr({context:720,type:Je.Null,optional:true})],ja.prototype,"deviceUniqueAttestation",void 0);var Ha;(function(t){t[t["software"]=0]="software";t[t["trustedEnvironment"]=1]="trustedEnvironment";t[t["strongBox"]=2]="strongBox"})(Ha||(Ha={}));var Da;(function(t){t[t["KM2"]=1]="KM2";t[t["KM3"]=2]="KM3";t[t["KM4"]=3]="KM4";t[t["KM4_1"]=4]="KM4_1";t[t["keyMint1"]=100]="keyMint1";t[t["keyMint2"]=200]="keyMint2"})(Da||(Da={}));var Ra=function(){function t(t){if(t===void 0){t={}}this.attestationVersion=Da.KM4;this.attestationSecurityLevel=Ha.software;this.keymasterVersion=0;this.keymasterSecurityLevel=Ha.software;this.attestationChallenge=new Ge;this.uniqueId=new Ge;this.softwareEnforced=new ja;this.teeEnforced=new ja;Object.assign(this,t)}return t}();y([xr({type:Je.Integer})],Ra.prototype,"attestationVersion",void 0);y([xr({type:Je.Enumerated})],Ra.prototype,"attestationSecurityLevel",void 0);y([xr({type:Je.Integer})],Ra.prototype,"keymasterVersion",void 0);y([xr({type:Je.Enumerated})],Ra.prototype,"keymasterSecurityLevel",void 0);y([xr({type:Ge})],Ra.prototype,"attestationChallenge",void 0);y([xr({type:Ge})],Ra.prototype,"uniqueId",void 0);y([xr({type:ja})],Ra.prototype,"softwareEnforced",void 0);y([xr({type:ja})],Ra.prototype,"teeEnforced",void 0);var Pa;var Ma=function(t){__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(ja);Ma=y([Ar({type:qe.Choice})],Ma);var Fa=Pa=function(t){__extends(e,t);function e(e){var r=t.call(this,e)||this;Object.setPrototypeOf(r,Pa.prototype);return r}e.prototype.findProperty=function(t){var e=this.find((function(e){return t in e}));if(e){return e[t]}return undefined};return e}(Ir);Fa=Pa=y([Ar({type:qe.Sequence,itemType:Ma})],Fa);var qa=function(){function t(t){if(t===void 0){t={}}this.attestationVersion=Da.KM4;this.attestationSecurityLevel=Ha.software;this.keymasterVersion=0;this.keymasterSecurityLevel=Ha.software;this.attestationChallenge=new Ge;this.uniqueId=new Ge;this.softwareEnforced=new Fa;this.teeEnforced=new Fa;Object.assign(this,t)}return t}();t("w",qa);y([xr({type:Je.Integer})],qa.prototype,"attestationVersion",void 0);y([xr({type:Je.Enumerated})],qa.prototype,"attestationSecurityLevel",void 0);y([xr({type:Je.Integer})],qa.prototype,"keymasterVersion",void 0);y([xr({type:Je.Enumerated})],qa.prototype,"keymasterSecurityLevel",void 0);y([xr({type:Ge})],qa.prototype,"attestationChallenge",void 0);y([xr({type:Ge})],qa.prototype,"uniqueId",void 0);y([xr({type:Fa})],qa.prototype,"softwareEnforced",void 0);y([xr({type:Fa})],qa.prototype,"teeEnforced",void 0);var Ja=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();y([xr({type:Je.OctetString})],Ja.prototype,"packageName",void 0);y([xr({type:Je.Integer})],Ja.prototype,"version",void 0);var za=function(){function t(t){if(t===void 0){t={}}Object.assign(this,t)}return t}();t("b8",za);y([xr({type:Ja,repeated:"set"})],za.prototype,"packageInfos",void 0);y([xr({type:Je.OctetString,repeated:"set"})],za.prototype,"signatureDigests",void 0)}}}));
//# sourceMappingURL=p-87c52bd8.system.js.map