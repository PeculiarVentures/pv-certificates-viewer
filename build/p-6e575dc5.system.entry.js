var __extends=this&&this.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return e(t,r)};return function(t,r){e(t,r);function i(){this.constructor=t}t.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}();var __awaiter=this&&this.__awaiter||function(e,t,r,i){function a(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,n){function c(e){try{o(i.next(e))}catch(t){n(t)}}function u(e){try{o(i["throw"](e))}catch(t){n(t)}}function o(e){e.done?r(e.value):a(e.value).then(c,u)}o((i=i.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,a,n,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(e){return function(t){return o([e,t])}}function o(c){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,a&&(n=c[0]&2?a["return"]:c[0]?a["throw"]||((n=a["return"])&&n.call(a),0):a.next)&&!(n=n.call(a,c[1])).done)return n;if(a=0,n)c=[c[0]&2,n.value];switch(c[0]){case 0:case 1:n=c;break;case 4:r.label++;return{value:c[1],done:false};case 5:r.label++;a=c[1];c=[0];continue;case 7:c=r.ops.pop();r.trys.pop();continue;default:if(!(n=r.trys,n=n.length>0&&n[n.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!n||c[1]>n[0]&&c[1]<n[3])){r.label=c[1];break}if(c[0]===6&&r.label<n[1]){r.label=n[1];n=c;break}if(n&&r.label<n[2]){r.label=n[2];r.ops.push(c);break}if(n[2])r.ops.pop();r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u];a=0}finally{i=n=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:true}}};System.register(["./p-4357b6d5.system.js","./p-f057abe8.system.js","./p-a8c48b58.system.js"],(function(e){"use strict";var t,r,i,a,n,c,u,o,s,l,f,d,p,v,b,h,g,m,y,w,x,D,k,_,N,A,S,I,L,T,P,E,j,C,H,B,O,V,K,F,R;return{setters:[function(e){t=e.h;r=e.r;i=e.H},function(e){a=e.A;n=e.J;c=e.C;u=e.M;o=e.h;s=e.V;l=e.P;f=e.W;d=e.X;p=e.Y;v=e.Z;b=e._;h=e.$;g=e.a0;m=e.a1;y=e.a2;w=e.a3;x=e.a4;D=e.a5;k=e.a6;_=e.a7;N=e.a8;A=e.a9;S=e.d;I=e.v;L=e.E;T=e.b;P=e.e;E=e.O;j=e.f;C=e.s},function(e){H=e.g;B=e.a;O=e.G;V=e.R;K=e.S;F=e.T;R=e.E}],execute:function(){var z=function(e){__extends(t,e);function t(t){var r=e.call(this,t,n)||this;var i=r.getAsnExtnValue();switch(r.asn.type){case _:r.value=o.parse(i,N);break;case D:r.value=o.parse(i,k);break;case w:r.value=o.parse(i,x);break;case m:r.value=o.parse(i,y);break;case h:r.value=o.parse(i,g);break;case v:r.value=o.parse(i,b);break;case d:r.value=o.parse(i,p);break;case l:r.value=o.parse(i,f);break;case u:r.value=o.parse(i,s);break;default:r.value=c.ToHex(i)}return r}t.prototype.getAsnExtnValue=function(){return this.asn.values[0]};return t}(a);var G=function(e){__extends(t,e);function t(r){var i=this;var a;i=e.call(this,t.rawClarify(r),A)||this;i.thumbprints={};var n=i.asn.acinfo;i.serialNumber=c.ToHex(n.serialNumber);i.version=n.version;var u=n.attrCertValidityPeriod.notBeforeTime;if(!u){throw new Error("Cannot get 'notBefore' value")}i.notBefore=u;var o=n.attrCertValidityPeriod.notAfterTime;if(!o){throw new Error("Cannot get 'notAfter' value")}i.notAfter=o;i.validity=S(i.notBefore,i.notAfter);i.issuer=n.issuer.v1Form||((a=n.issuer.v2Form)===null||a===void 0?void 0:a.issuerName);i.holder=n.holder;return i}t.base64Clear=function(e){return e.replace(/.*base64,/,"").replace(/-----.+-----/g,"").replace(/[\s\r\n]/g,"")};t.rawClarify=function(e){var r=t.base64Clear(e);var i;if(I.isHex(r)){i=c.FromHex(r)}else if(I.isBase64(r)||I.isPem(r)){i=c.FromBase64(r)}else{i=c.FromBinary(e)}return i};Object.defineProperty(t.prototype,"signature",{get:function(){var e=this.asn,t=e.signatureValue,r=e.signatureAlgorithm;return{value:t,algorithm:r.algorithm}},enumerable:false,configurable:true});t.prototype.parseExtensions=function(){var e=this.asn.acinfo;if(e.extensions){this.extensions=e.extensions.map((function(e){return new L(T.serialize(e))}))}};t.prototype.parseAttributes=function(){var e=this.asn.acinfo;if(e.attributes){this.attributes=e.attributes.map((function(e){return new z(T.serialize(e))}))}};t.prototype.getThumbprint=function(e){if(e===void 0){e="SHA-1"}return __awaiter(this,void 0,void 0,(function(){var t,r,i;return __generator(this,(function(a){switch(a.label){case 0:a.trys.push([0,2,,3]);t=P.get();return[4,t.subtle.digest(e,this.raw)];case 1:r=a.sent();this.thumbprints[e["name"]||e]=c.ToHex(r);return[3,3];case 2:i=a.sent();console.error("Error thumbprint get:",i);return[3,3];case 3:return[2]}}))}))};return t}(a);var W=function(e,r){var i=e.attribute;return[t(B,{name:"Name",value:H(i.asn.type)}),r,t("tr",null,t("td",{colSpan:2,class:"divider"},t("span",{class:"bg_fill"})))]};var J=function(e){var r=e.name;if(!r){return null}return r.map((function(e){return e.map((function(e){return t(B,{name:E[e.type]||e.type,value:e.value.toString()})}))}))};var M=function(e){var r=e.attribute;return t(W,{attribute:r},t(J,{name:r.value}))};var X=function(e){var r=e.attribute;return t(W,{attribute:r},t(B,{name:"Code Authority",value:""}),t(O,{generalName:r.value.codeAuthority,getDNSNameLink:function(){return""},getIPAddressLink:function(){return""}}),t(B,{name:"Code Id",value:""}),t(O,{generalName:r.value.codeId,getDNSNameLink:function(){return""},getIPAddressLink:function(){return""}}),t(B,{name:"Short Name",value:r.value.shortName}),t(B,{name:"Short Description",value:r.value.shortDescription}))};var Y=function(e){var r=e.attribute;return t(W,{attribute:r},t(B,{name:"Assessment Authority",value:""}),t(O,{generalName:r.value.assessmentAuthority,getDNSNameLink:function(){return""},getIPAddressLink:function(){return""}}),t(B,{name:"Assessment Location",value:""}),t(O,{generalName:r.value.assessmentLocation,getDNSNameLink:function(){return""},getIPAddressLink:function(){return""}}),t(B,{name:"Assessment Ref",value:""}),t(O,{generalName:r.value.assessmentRef,getDNSNameLink:function(){return""},getIPAddressLink:function(){return""}}),t(B,{name:"Data Storage Territory",value:r.value.dataStorageTerritory}),t(B,{name:"Description",value:r.value.description}))};var Z=function(e){var r=e.attribute;var i=r.value.base+" * 10^"+r.value.degree+" "+r.value.location;return t(W,{attribute:r},t(B,{name:"Value",value:i}))};var $=function(e){var r=e.attribute;return t(W,{attribute:r},t(B,{name:"DNBvsDNO",value:c.ToHex(r.value.DNBvsDNO.toNumber())}),t(B,{name:"DNBvsDNT",value:c.ToHex(r.value.DNBvsDNT.toNumber())}),t(B,{name:"DNOvsDNT",value:c.ToHex(r.value.DNOvsDNT.toNumber())}))};var q=function(e){var r=e.attribute;return t(W,{attribute:r},Object.keys(r.value).map((function(e){return t(B,{name:e,value:r.value[e]})})))};var Q=function(e){var r=e.attributes;if(!r||!r.length){return null}return[t(V,{value:"Attributes"}),r.map((function(e){try{if(e.value instanceof j){return t(M,{attribute:e})}if(e.value instanceof b){return t(X,{attribute:e})}if(e.value instanceof p){return t(Y,{attribute:e})}if(e.value instanceof f){return t(Z,{attribute:e})}if(e.value instanceof g){return t($,{attribute:e})}if(e.value instanceof s){return t(q,{attribute:e})}return null}catch(r){console.error("Error render extension:",e.asn.type);return null}}))]};var U=".sc-peculiar-attribute-certificate-viewer-h{display:block;width:100%;word-wrap:break-word;position:relative;min-width:280px;min-height:300px;background:rgb(var(--peculiar-color-light-rgb))}th.sc-peculiar-attribute-certificate-viewer,td.sc-peculiar-attribute-certificate-viewer{border:none}table.sc-peculiar-attribute-certificate-viewer{width:100%;margin-bottom:30px}table.sc-peculiar-attribute-certificate-viewer .title.sc-peculiar-attribute-certificate-viewer td.sc-peculiar-attribute-certificate-viewer{border-color:rgba(var(--peculiar-color-grey_3-rgb), 0.5);padding-top:60px;padding-bottom:15px;border-bottom-width:1px;border-bottom-style:solid}table.sc-peculiar-attribute-certificate-viewer td.sc-peculiar-attribute-certificate-viewer:first-child{padding-left:30px;width:130px;padding-right:10px}table.sc-peculiar-attribute-certificate-viewer td.sc-peculiar-attribute-certificate-viewer:last-child{padding-right:30px;width:calc(100% - 130px)}table.sc-peculiar-attribute-certificate-viewer td.sc-peculiar-attribute-certificate-viewer{vertical-align:top;padding-top:5px;padding-bottom:5px}table.sc-peculiar-attribute-certificate-viewer td.vertical_align_middle.sc-peculiar-attribute-certificate-viewer{vertical-align:middle}table.sc-peculiar-attribute-certificate-viewer .title.sc-peculiar-attribute-certificate-viewer:first-child td.sc-peculiar-attribute-certificate-viewer{padding-top:15px}table.sc-peculiar-attribute-certificate-viewer .title.sc-peculiar-attribute-certificate-viewer+tr.sc-peculiar-attribute-certificate-viewer td.sc-peculiar-attribute-certificate-viewer{padding-top:15px}table.sc-peculiar-attribute-certificate-viewer td.monospace.sc-peculiar-attribute-certificate-viewer{max-width:0}table.sc-peculiar-attribute-certificate-viewer .divider.sc-peculiar-attribute-certificate-viewer{padding-top:15px;padding-bottom:15px}.divider.sc-peculiar-attribute-certificate-viewer .bg_fill.sc-peculiar-attribute-certificate-viewer{background-color:rgba(var(--peculiar-color-grey_3-rgb), 0.5)}table.sc-peculiar-attribute-certificate-viewer tr.sc-peculiar-attribute-certificate-viewer:last-child .divider.sc-peculiar-attribute-certificate-viewer{padding-top:0;opacity:0}.divider.sc-peculiar-attribute-certificate-viewer span.sc-peculiar-attribute-certificate-viewer{display:block;height:1px}.status_wrapper.sc-peculiar-attribute-certificate-viewer{min-height:inherit;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.interaction_text.sc-peculiar-attribute-certificate-viewer{padding:15px 0;width:300px;margin:auto;text-align:center}";var ee=e("peculiar_attribute_certificate_viewer",function(){function e(e){r(this,e);this.isDecodeInProcess=true}e.prototype.componentWillLoad=function(){this.decodeCertificate(this.certificate)};e.prototype.decodeCertificate=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(r){switch(r.label){case 0:this.isDecodeInProcess=true;r.label=1;case 1:r.trys.push([1,4,,5]);this.certificateDecoded=new G(e);this.certificateDecoded.parseExtensions();this.certificateDecoded.parseAttributes();return[4,this.certificateDecoded.getThumbprint("SHA-1")];case 2:r.sent();return[4,this.certificateDecoded.getThumbprint("SHA-256")];case 3:r.sent();return[3,5];case 4:t=r.sent();this.certificateDecodeError=t;console.error("Error certificate parse:",t);return[3,5];case 5:this.isDecodeInProcess=false;return[2]}}))}))};e.prototype.renderErrorState=function(){return t("div",{class:"status_wrapper"},t("peculiar-typography",{type:"b1",class:"interaction_text"},"There is error for certificate decode."))};e.prototype.renderEmptyState=function(){return t("div",{class:"status_wrapper"},t("peculiar-typography",{type:"b1",class:"interaction_text"},"There is no certificate available."))};e.prototype.render=function(){var e,r,a,n,u;if(this.certificateDecodeError){return this.renderErrorState()}if(!this.certificateDecoded){return this.renderEmptyState()}return t(i,null,t("table",null,t(V,{value:"Basic Information"}),t(B,{name:"Serial number",value:this.certificateDecoded.serialNumber}),t(B,{name:"Version",value:this.certificateDecoded.version}),t(B,{name:"Validity",value:this.certificateDecoded.validity}),t(B,{name:"Issued",value:C(this.certificateDecoded.notBefore)}),t(B,{name:"Expired",value:C(this.certificateDecoded.notBefore)}),t(V,{value:"Issuer"}),this.certificateDecoded.issuer.map((function(e){return t(O,{generalName:e,getDNSNameLink:function(){return""},getIPAddressLink:function(){return""}})})),t(V,{value:"Holder"}),(e=this.certificateDecoded.holder)===null||e===void 0?void 0:e.baseCertificateID.issuer.map((function(e){return t(O,{generalName:e,getDNSNameLink:function(){return""},getIPAddressLink:function(){return""}})})),t("tr",null,t("td",null),t("td",null)),t(B,{name:"Serial",value:c.ToHex((r=this.certificateDecoded.holder)===null||r===void 0?void 0:r.baseCertificateID.serial),monospace:true}),t("tr",null,t("td",null),t("td",null)),t(B,{name:"Digest Info",value:""}),t(B,{name:"Algorithm",value:H((a=this.certificateDecoded.holder)===null||a===void 0?void 0:a.objectDigestInfo.digestAlgorithm.algorithm)}),t(B,{name:"Value",value:c.ToHex((n=this.certificateDecoded.holder)===null||n===void 0?void 0:n.objectDigestInfo.objectDigest),monospace:true}),t(B,{name:"Type",value:(u=this.certificateDecoded.holder)===null||u===void 0?void 0:u.objectDigestInfo.digestedObjectType}),t(K,{signature:this.certificateDecoded.signature}),t(F,{thumbprints:this.certificateDecoded.thumbprints}),t(Q,{attributes:this.certificateDecoded.attributes,getLEILink:function(){return""},getDNSNameLink:function(){return""},getIPAddressLink:function(){return""},getAuthKeyIdParentLink:function(){return""},getAuthKeyIdSiblingsLink:function(){return""},getSubjectKeyIdChildrenLink:function(){return""},getSubjectKeyIdSiblingsLink:function(){return""}}),t(R,{extensions:this.certificateDecoded.extensions,getLEILink:function(){return""},getDNSNameLink:function(){return""},getIPAddressLink:function(){return""},getAuthKeyIdParentLink:function(){return""},getAuthKeyIdSiblingsLink:function(){return""},getSubjectKeyIdChildrenLink:function(){return""},getSubjectKeyIdSiblingsLink:function(){return""}})))};return e}());ee.style=U}}}));